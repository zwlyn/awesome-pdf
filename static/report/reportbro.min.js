/*!
 * Copyright (C) 2018 jobsta
 * 
 * This file is part of ReportBro, a library to generate PDF and Excel reports.
 * Demos can be found at https://www.reportbro.com
 * 
 * Dual licensed under AGPLv3 and ReportBro commercial license:
 * https://www.reportbro.com/license
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see https://www.gnu.org/licenses/
 * 
 * Details for ReportBro commercial license can be found at
 * https://www.reportbro.com/license/agreement
 * 
 */
(function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=146)})([function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(103),o=a(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),o.default(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()},function(e,t){"use strict";function r(e){e.on("keyup",function(){var e=this.value.reverse().replace(/[^0-9\-]|\-(?=.)/g,"").reverse();this.value!==e&&(this.value=e)})}function a(e){e.on("keyup",function(){var e=this.value.replace(/[^0-9]/g,"");this.value!==e&&(this.value=e)})}function n(e){e.on("keyup",function(){var e=this.value.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),t=this.className,r=t.indexOf("decimalPlaces");if(-1!==r){r+=13;var a,n=t.indexOf(" ",r);a=-1!==n?parseInt(t.substring(r,n),10):parseInt(t.substr(r),10),isNaN(a)||(r=e.indexOf("."),-1===r&&(r=e.indexOf(",")),-1!==r&&e.length-1-r>a&&(e=e.substring(0,r+a+1)))}this.value!==e&&(this.value=e)})}function o(e,t,r){var a=parseFloat(e.replace(",","."));return isNaN(a)?""+t:t>a?""+t:a>r?""+r:e}function i(e){if("number"==typeof e)return e;if("string"==typeof e&&""!==e){var t=parseFloat(e.replace(",","."));if(!isNaN(t))return t}return 0}function l(e,t){var r=Math.ceil(e/t)*t;return t>>1>=r-e?r:r-t}function d(e,t){return Math.floor(e/t)*t}function s(e,t){return Math.ceil(e/t)*t}function u(e,t,r){for(var a=e;a.indexOf(t)!==-1;)a=a.replace(t,r);return a}function p(e,t,r){var a={showInitial:!1,preferredFormat:"hex",containerClassName:"rbroColorContainer",replacerClassName:"rbroColorPicker",showPalette:!0,showButtons:!1,showSelectionPalette:!1,palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],change:function(){e.spectrum("hide")},show:function(){e.parent().addClass("rbroActive")},hide:function(){e.parent().removeClass("rbroActive")}};$.extend(a,r||{}),e.spectrum(a),e.show(),e.focus(function(){e.parent().addClass("rbroActive")}),e.blur(function(){e.parent().removeClass("rbroActive")})}function b(e,t){if(document.selection){e.focus();var r=document.selection.createRange();r.text=t,e.focus()}else if(e.selectionStart||e.selectionStart===0){var a=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,a)+t+e.value.substring(n,e.value.length),e.focus(),e.selectionStart=a+t.length,e.selectionEnd=a+t.length,e.scrollTop=o}else e.value+=t,e.focus()}function c(e,t){var r=e.split("/");return r.length>=2&&r[0]==t?r[1]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.setInputInteger=r,t.setInputPositiveInteger=a,t.setInputDecimal=n,t.checkInputDecimal=o,t.convertInputToNumber=i,t.roundValueToInterval=l,t.roundValueToLowerInterval=d,t.roundValueToUpperInterval=s,t.replaceAll=u,t.initColorPicker=p,t.insertAtCaret=b,t.getDataTransferType=c,String.prototype.reverse=function(){return this.split("").reverse().join("")}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(34),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(58),_=n(c),h=r(21),m=n(h),f=r(4),v=n(f),g=r(14),y=n(g),w=r(11),I=n(w),C=r(2),x=a(C),k=function(){function e(t,r,a,n,o){u.default(this,e),this.rb=o,this.id=r,this.name=t,this.panelItem=null,this.x="0",this.y="0",this.width=""+a,this.height=""+n,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return b.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=x.convertInputToNumber(this.x),this.yVal=x.convertInputToNumber(this.y),this.widthVal=x.convertInputToNumber(this.width),this.heightVal=x.convertInputToNumber(this.height)}},{key:"setup",value:function(){var e=this.getContainer();if(null!==e){var t=e.getContentSize();this.xVal+this.widthVal>t.width&&(this.xVal=t.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>t.height&&(this.yVal=t.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.handleClick(t,!0)}).mousedown(function(t){e.handleClick(t,!1)})}},{key:"handleClick",value:function(t,r){if(this.rb.isSelectedObject(this.id))t.shiftKey?this.rb.deselectObject(this.id):this.rb.getDocument().startDrag(t.originalEvent.pageX,t.originalEvent.pageY,this.id,this.containerId,this.linkedContainerId,this.getElementType(),e.dragType.element),t.stopPropagation();else if(r||!this.isContainerSelected()){var a=!0;if(t.shiftKey){var n=[];this.appendContainerChildren(n);var o=!0,i=!1,l=void 0;try{for(var s,u=d.default(n);!(o=(s=u.next()).done);o=!0){var p=s.value;if(this.rb.isSelectedObject(p.getId())){a=!1;break}}}catch(b){i=!0,l=b}finally{try{!o&&u.return&&u.return()}finally{if(i)throw l}}}a&&this.rb.selectObject(this.id,!t.shiftKey),t.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getContainerContentSize",value:function(){var e=this.getContainer();return null!==e?e.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var e=this.getContainer();null!==e&&e.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var e=this.getContainer();return null!==e?e.isSelected():!1}},{key:"appendContainerChildren",value:function(t){if(this.linkedContainerId!==null&&this.panelItem!==null){var r=this.panelItem.getChildren(),a=!0,n=!1,o=void 0;try{for(var i,l=d.default(r);!(a=(i=l.next()).done);a=!0){var s=i.value;s.getData()instanceof e&&(t.push(s.getData()),s.getData().appendContainerChildren(t))}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}}},{key:"getAbsolutePosition",value:function(){var e={x:this.xVal,y:this.yVal},t=this.getContainer();if(null!==t){var r=t.getOffset();e.x+=r.x,e.y+=r.y}return e}},{key:"checkBounds",value:function(t,r,a,n,o,i){if(t+a>o.width&&(t=o.width-a),0>t&&(t=0),t+a>o.width&&(a=o.width-t),r+n>o.height&&(r=o.height-n),0>r&&(r=0),r+n>o.height&&(n=o.height-r),t!==this.xVal&&this.getXTagId()!==""){var l=new v.default(this.id,this.getXTagId(),"x",""+t,v.default.type.text,this.rb);l.disableSelect(),i.addCommand(l)}if(r!==this.yVal&&this.getYTagId()!==""){var s=new v.default(this.id,this.getYTagId(),"y",""+r,v.default.type.text,this.rb);s.disableSelect(),i.addCommand(s)}if(a!==this.widthVal&&this.getWidthTagId()!==""){var u=new v.default(this.id,this.getWidthTagId(),"width",""+a,v.default.type.text,this.rb);u.disableSelect(),i.addCommand(u)}if(n!==this.heightVal&&this.getHeightTagId()!==""){var p=new v.default(this.id,this.getHeightTagId(),"height",""+n,v.default.type.text,this.rb);p.disableSelect(),i.addCommand(p)}var b=this.getLinkedContainer();if(null!==b&&b.getPanelItem()!==null){var c={width:a,height:n},_=!0,h=!1,m=void 0;try{for(var f,g=d.default(b.getPanelItem().getChildren());!(_=(f=g.next()).done);_=!0){var y=f.value;if(y.getData()instanceof e){var w=y.getData();w.checkBounds(w.getValue("xVal"),w.getValue("yVal"),w.getValue("widthVal"),w.getValue("heightVal"),c,i)}}}catch(I){h=!0,m=I}finally{try{!_&&g.return&&g.return()}finally{if(h)throw m}}}}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"x"===e||"y"===e||"width"===e||"height"===e)this[e+"Val"]=x.convertInputToNumber(t),this.updateDisplay();else if("containerId"===e){if(this.el!==null&&(this.el.detach(),this.appendToContainer()),this.linkedContainerId!==null){var r=this.getLinkedContainer();null!==r&&r.setParent(this.getContainer())}}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)!==-1&&this.updateDisplay())}},{key:"getFields",value:function(){return[]}},{key:"getElementType",value:function(){return e.type.none}},{key:"setBorderAll",value:function(e,t){this[e+"borderAll"]=t}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(e){x.convertInputToNumber(this.styleId)===e&&this.updateStyle()}},{key:"getDragDiff",value:function(t,r,a,n){var o={x:0,y:0},i=void 0,l=void 0,d=this.xVal,s=this.yVal,u=d+this.widthVal,p=s+this.heightVal,b=this.getMaxWidth(),c=20;if(a===e.dragType.element)i=d+t,0!==n&&(i=x.roundValueToInterval(i,n)),l=s+r,0!==n&&(l=x.roundValueToInterval(l,n)),o.x=i-d,o.y=l-s;else{var _=this.getContainerContentSize();(a===e.dragType.sizerNW||a===e.dragType.sizerN||a===e.dragType.sizerNE)&&(l=s+r,0!==n&&(l=x.roundValueToInterval(l,n)),l>p-c?l=0!==n?x.roundValueToLowerInterval(p-c,n):p-c:0>l&&(l=0),o.y=l-s),(a===e.dragType.sizerNE||a===e.dragType.sizerE||a===e.dragType.sizerSE)&&(i=u+t,0!==n&&(i=x.roundValueToInterval(i,n)),d+c>i?i=0!==n?x.roundValueToUpperInterval(d+c,n):d+c:i>b&&(i=b),o.x=i-u),(a===e.dragType.sizerSE||a===e.dragType.sizerS||a===e.dragType.sizerSW)&&(l=p+r,0!==n&&(l=x.roundValueToInterval(l,n)),s+c>l?l=0!==n?x.roundValueToUpperInterval(s+c,n):s+c:l>_.height&&(l=_.height),o.y=l-p),(a===e.dragType.sizerSW||a===e.dragType.sizerW||a===e.dragType.sizerNW)&&(i=d+t,0!==n&&(i=x.roundValueToInterval(i,n)),i>u-c?i=0!==n?x.roundValueToLowerInterval(u-c,n):u-c:0>i&&(i=0),o.x=i-d)}return o}},{key:"updateDrag",value:function(t,r,a,n,o){var i=this.xVal,l=this.yVal,d=i+this.widthVal,s=l+this.heightVal,u=this.getMaxWidth(),p=this.getContainerContentSize();a===e.dragType.element?(i+=t,d=i+this.widthVal,l+=r,s=l+this.heightVal):((a===e.dragType.sizerNW||a===e.dragType.sizerN||a===e.dragType.sizerNE)&&(l+=r),(a===e.dragType.sizerNE||a===e.dragType.sizerE||a===e.dragType.sizerSE)&&(d+=t),(a===e.dragType.sizerSE||a===e.dragType.sizerS||a===e.dragType.sizerSW)&&(s+=r),(a===e.dragType.sizerSW||a===e.dragType.sizerW||a===e.dragType.sizerNW)&&(i+=t),0>i&&(i=0),i>d&&(d=i),0>l&&(l=0),l>s&&(s=l),d>u&&(d=u),s>p.height&&(s=p.height));var b=d-i,c=s-l;if(null!==o){var h=!1,m=this.getContainer(),f={width:0,height:0};if(null!==n&&n.getId()!==this.getContainerId()){if(h=!0,f=n.getContentSize(),null!==m){var g=n.getOffsetTo(m);i-=g.x,l-=g.y}}else f=m.getContentSize();if(!h||n.isElementAllowed(this.getElementType())){if(this.checkBounds(i,l,b,c,f,o),h){var y=new v.default(this.id,null,"containerId",n.getId(),v.default.type.internal,this.rb);o.addCommand(y),y=new _.default(this.getPanelItem(),n.getPanelItem(),n.getPanelItem().getChildren().length,this.rb),o.addCommand(y)}o.isEmpty()&&this.updateDisplay()}else this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}else this.updateDisplayInternal(i,l,b,c)}},{key:"select",value:function(){var t=this;if(this.el!==null){var r=this.getSizerContainerElement(),a=this.getSizers(),n=!0,o=!1,i=void 0;try{for(var l,s=function(){var a=l.value,n=a,o=$('<div class="rbroSizer rbroSizer'+a+'"></div>').mousedown(function(r){t.rb.getDocument().startDrag(r.pageX,r.pageY,t.id,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType["sizer"+n]),r.stopPropagation()});r.append(o)},u=d.default(a);!(n=(l=u.next()).done);n=!0)s()}catch(p){o=!0,i=p}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}this.el.addClass("rbroSelected"),this.el.css("z-index","10")}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var e=this.getSizerContainerElement();e.find(".rbroSizer").remove(),this.el.css("z-index",""),this.el.removeClass("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"getXTagId",value:function(){return""}},{key:"getYTagId",value:function(){return""}},{key:"getWidthTagId",value:function(){return""}},{key:"getHeightTagId",value:function(){return""}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMaxWidth",value:function(){var e=this.getContainerContentSize();return e.width}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"getDataSource",value:function(){return null}},{key:"getAllDataSources",value:function(t,r){if((this.getElementType()===e.type.table||this.getElementType()==e.type.section)&&r&&r.getValue("bandType")===y.default.bandType.content){var a=this.getDataSource();null!==a&&t.push(a)}var n=this.getPanelItem();if(null!==n){var o=n.getParent();null!==o&&o.getData()instanceof e&&o.getData().getAllDataSources(t,this)}}},{key:"addCommandsForChangedParameterName",value:function(){}},{key:"addCommandForChangedParameterName",value:function(e,t,r,a,n){var o=e.getParent(),i=[],l=null,s=null;if(this.getAllDataSources(i,null),null!==o&&o.getValue("type")===I.default.type.array){var u=!0,p=!1,b=void 0;try{for(var c,_=d.default(i);!(u=(c=_.next()).done);u=!0){var h=c.value;if(h.parameters.indexOf(e)!==-1){l="${"+e.getName()+"}",s="${"+t+"}";break}}}catch(m){p=!0,b=m}finally{try{!u&&_.return&&_.return()}finally{if(p)throw b}}}else if(null!==o&&o.getValue("type")===I.default.type.map)l="${"+o.getName()+"."+e.getName()+"}",s="${"+o.getName()+"."+t+"}";else if(e.getValue("type")===I.default.type.map)l="${"+e.getName()+".",s="${"+t+".";else{var f=!1,g=!0,y=!1,w=void 0;try{for(var $,C=d.default(i);!(g=($=C.next()).done);g=!0){var k=$.value,D=!0,O=!1,P=void 0;try{for(var S,j=d.default(k.parameters);!(D=(S=j.next()).done);D=!0){var E=S.value;if(E.getName()===e.getName()){f=!0;break}}}catch(m){O=!0,P=m}finally{try{!D&&j.return&&j.return()}finally{if(O)throw P}}}}catch(m){y=!0,w=m}finally{try{!g&&C.return&&C.return()}finally{if(y)throw w}}f||(l="${"+e.getName()+"}",s="${"+t+"}")}if(null!==l&&null!==s&&this.getValue(a).indexOf(l)!==-1){var V=new v.default(this.id,r,a,x.replaceAll(this.getValue(a),l,s),v.default.type.text,this.rb);n.addCommand(V)}}},{key:"addCommandsForDelete",value:function(e){var t=[];this.appendContainerChildren(t),t.push(this);var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(t);!(r=(o=i.next()).done);r=!0){var l=o.value,s=new m.default(!1,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),l.getPanelItem().getSiblingPosition(),this.rb);e.addCommand(s)}}catch(u){a=!0,n=u}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}},{key:"addChildren",value:function(){}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var e={elementType:this.getElementType()},t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getFields());!(t=(n=o.next()).done);t=!0){var i=n.value;e[i]=["x","y","width","height"].indexOf(i)===-1?this.getValue(i):this.getValue(i+"Val")}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"toJSON",value:function(){return i.default(this.toJS())}}]),e}();t.default=k,k.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},k.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(13),s=a(d),u=function(){function e(t,r,a,n,i,l){o.default(this,e),this.objId=t,this.tagId=r,this.field=a,this.value=n,this.type=i,this.rb=l;var d=l.getDataObject(t);this.oldValue=d.getValue(a),this.firstExecution=!0,this.select=!0}return l.default(e,[{key:"getName",value:function(){return"Set value"}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(t){var r=this.rb.getDataObject(this.objId),a=this.rb.getDetailData(),n=null!==a&&a.getId()===this.objId,o="#"+this.tagId;r.setValue(this.field,t,o,n),this.field==="name"?($("#rbro_menu_item_name"+this.objId).text(t),$("#rbro_menu_item_name"+this.objId).attr("title",t),this.rb.notifyEvent(r,s.default.operation.rename)):this.rb.notifyEvent(r,s.default.operation.change,this.field),n&&(this.type===e.type.text||this.type===e.type.select?$(o).val(t):this.type===e.type.filename?($(o).text(t),""===t?$("#"+this.tagId+"_container").addClass("rbroHidden"):$("#"+this.tagId+"_container").removeClass("rbroHidden")):this.type===e.type.checkbox?$(o).prop("checked",t):this.type===e.type.button?t?$(o).addClass("rbroButtonActive"):$(o).removeClass("rbroButtonActive"):this.type===e.type.buttonGroup?($(o).find("button").removeClass("rbroButtonActive"),$(o).find('button[value="'+t+'"]').addClass("rbroButtonActive")):this.type===e.type.color&&$(o).spectrum("set",t))}},{key:"disableSelect",value:function(){this.select=!1}},{key:"allowReplace",value:function(t){return this.type===e.type.text&&this.objId===t.objId&&this.tagId===t.tagId&&this.field===t.field}}]),e}();t.default=u,u.type={text:"text",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"}},function(e,t,r){e.exports={"default":r(108),__esModule:!0}},function(e,t,r){e.exports={"default":r(113),__esModule:!0}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(105),o=a(n),i=r(102),l=a(i),d=r(62),s=a(d);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s.default(t)));e.prototype=l.default(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?o.default(e,t):e.__proto__=t)}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(62),o=a(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||("undefined"==typeof t?"undefined":o.default(t))!=="object"&&"function"!=typeof t?e:t}},function(e){var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(6),o=a(n),i=r(104),l=a(i);t.default=function d(e,t,r){null===e&&(e=Function.prototype);var a=l.default(e,t);if(void 0===a){var n=o.default(e);return null===n?void 0:d(n,t,r)}if("value"in a)return a.value;var i=a.get;return void 0===i?void 0:i.call(r)}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(34),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(13),_=n(c),h=r(4),m=n(h),f=r(16),v=n(f),g=r(2),y=a(g),w=function(){function e(t,r,a){u.default(this,e),this.rb=a,this.id=t,this.name=a.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=e.type.string,this.arrayItemType=e.type.string,this.eval=!a.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.children=[],this.editable=a.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(r)}return b.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);"showOnlyNameType"in e&&e.showOnlyNameType&&(this.editable=!1)}},{key:"setup",value:function(){if(this.type===e.type.array||this.type===e.type.map){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.children);!(t=(n=o.next()).done);t=!0){var i=n.value,l=new e(i.id||this.rb.getUniqueId(),i,this.rb);this.rb.addParameter(l);var s=new v.default("parameter",this.panelItem,l,{hasChildren:!0,showAdd:this.editable,showDelete:this.editable,draggable:!0},this.rb);l.setPanelItem(s),this.panelItem.appendChild(s),l.setup(),this.rb.notifyEvent(l,_.default.operation.add)}}catch(u){r=!0,a=u}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var t=this.id;if(this.type===e.type.array||this.type===e.type.map){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.children);!(r=(o=i.next()).done);r=!0){var l=o.value;l.id>t&&(t=l.id)}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}return t}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(t,r,a,n){this[t]=r,"type"===t&&(n&&r===e.type.date?$("#rbro_parameter_test_data").attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):$("#rbro_parameter_test_data").attr("placeholder",""))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof e?this.panelItem.getParent().getData():null}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_parameter_expression","expression",r);var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.getChildren());!(a=(i=l.next()).done);a=!0){var s=i.value;s.addCommandsForChangedParameterName(e,t,r)}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}},{key:"addCommandForChangedParameterName",value:function(t,r,a,n,o){var i=t.getParent(),l=null,d=null;if(null!==i&&i.getValue("type")===e.type.map?(l="${"+i.getName()+"."+t.getName()+"}",d="${"+i.getName()+"."+r+"}"):t.getValue("type")===e.type.map?(l="${"+t.getName()+".",d="${"+r+"."):(l="${"+t.getName()+"}",d="${"+r+"}"),null!==l&&null!==d&&this.getValue(n).indexOf(l)!==-1){var s=new m.default(this.id,a,n,y.replaceAll(this.getValue(n),l,d),m.default.type.text,this.rb);o.addCommand(s)}}},{key:"addUpdateTestDataCmdForChangedParameter",value:function(t,r,a){if(this.type===e.type.array){var n=[];try{var o=JSON.parse(this.testData);if(Array.isArray(o)){var l=!0,s=!1,u=void 0;try{for(var p,b=d.default(o);!(l=(p=b.next()).done);l=!0){var c=p.value,_={};for(var h in c)c.hasOwnProperty(h)&&(h===t?_[r]=c[h]:_[h]=c[h]);n.push(_)}}catch(f){s=!0,u=f}finally{try{!l&&b.return&&b.return()}finally{if(s)throw u}}}var v=i.default(n);if(this.testData!==v){var g=new m.default(this.id,"rbro_parameter_test_data","testData",v,m.default.type.text,this.rb);a.addCommand(g)}}catch(y){}}}},{key:"toJS",value:function(){var t={},r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.getFields());!(r=(o=i.next()).done);r=!0){var l=o.value;t[l]=this.getValue(l)}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}if(this.type===e.type.array||this.type===e.type.map){var u=[],p=!0,b=!1,c=void 0;try{for(var _,h=d.default(this.panelItem.getChildren());!(p=(_=h.next()).done);p=!0){var m=_.value;u.push(m.getData().toJS())}}catch(s){b=!0,c=s}finally{try{!p&&h.return&&h.return()}finally{if(b)throw c}}t.children=u}return t}},{key:"getChildren",value:function(){var t=[];if(this.type===e.type.array||this.type===e.type.map){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.panelItem.getChildren());!(r=(o=i.next()).done);r=!0){var l=o.value;t.push(l.getData())}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}return t}},{key:"appendParameterItems",value:function(t,r){if(this.type===e.type.map){var a=[];if(Array.isArray(r)){var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.getChildren());!(n=(l=s.next()).done);n=!0){var u=l.value;r.indexOf(u.type)!==-1&&a.push(u)}}catch(p){o=!0,i=p}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}else a=this.getChildren();a.length>0&&t.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:this.name});var b=!0,c=!1,_=void 0;try{for(var h,m=d.default(a);!(b=(h=m.next()).done);b=!0){var f=h.value,v=this.name+"."+f.getName();t.push({name:v,nameLowerCase:v.toLowerCase(),id:f.getId(),description:""})}}catch(p){c=!0,_=p}finally{try{!b&&m.return&&m.return()}finally{if(c)throw _}}}else this.type!==e.type.array?Array.isArray(r)&&r.indexOf(this.type)===-1||t.push({name:this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:""}):Array.isArray(r)&&r.indexOf(this.type)!==-1&&t.push({name:this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:""})}},{key:"appendFieldParameterItems",value:function(t,r){if(this.type===e.type.array){var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.panelItem.getChildren());!(a=(i=l.next()).done);a=!0){var s=i.value,u=s.getData();r&&u.getValue("type")!==r||t.push({name:this.name+"."+u.getName(),description:""})}}catch(p){n=!0,o=p}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}}},{key:"getTestDataRows",value:function(t){if(this.type!==e.type.array&&this.type!==e.type.simpleArray)return null;var r=[];if(this.type===e.type.simpleArray){var a={name:"data",type:this.arrayItemType,allowMultiple:!1};r.push(a)}else{var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.getChildren());!(n=(l=s.next()).done);n=!0){var u=l.value,p={name:u.getName()};u.getValue("type")===e.type.simpleArray?(p.type=u.getValue("arrayItemType"),p.allowMultiple=!0,p.arraySize=1):(p.type=u.getValue("type"),p.allowMultiple=!1),r.push(p)}}catch(b){o=!0,i=b}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}var c=[];if(r.length>0){t&&c.push(r);try{var _=JSON.parse(this.testData);if(Array.isArray(_)){var h=!0,m=!1,f=void 0;try{for(var v,g=d.default(_);!(h=(v=g.next()).done);h=!0){var y=v.value,w={},I=!1,$=!0,C=!1,x=void 0;try{for(var k,D=d.default(r);!($=(k=D.next()).done);$=!0){var O=k.value;if(O.name in y){var P=y[O.name];(O.allowMultiple&&Array.isArray(P)||!O.allowMultiple&&!Array.isArray(P))&&(I=!0,w[O.name]=P,O.allowMultiple&&P.length>0&&(O.arraySize=P.length))}}}catch(b){C=!0,x=b}finally{try{!$&&D.return&&D.return()}finally{if(C)throw x}}I&&c.push(w)}}catch(b){m=!0,f=b}finally{try{!h&&g.return&&g.return()}finally{if(m)throw f}}}}catch(S){}}return c}}],[{key:"removeIds",value:function(e){if(e.children){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(e.children);!(t=(n=o.next()).done);t=!0){var i=n.value;"id"in i&&delete i.id}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}}]),e}();t.default=w,w.type={none:"none",string:"string",number:"number","boolean":"boolean",date:"date",image:"image",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(34),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(4),_=n(c),h=r(11),m=n(h),f=r(2),v=a(f),g=function(){function e(t,r){u.default(this,e),this.rootElement=t,this.rb=r,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.type=null,this.parameters=null,this.visible=!1,this.items=null}return b.default(e,[{key:"render",value:function(){var e=this;this.elWindow=$('<div class="rbroPopupWindow rbroHidden"></div>'),this.elContent=$('<div class="rbroPopupWindowContent"></div>').mouseup(function(e){e.stopPropagation()}),this.elWindow.append(this.elContent);var t=$('<div class="rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"></div>').click(function(){e.hide()});this.elWindow.append(t),$("body").append(this.elWindow)}},{key:"show",value:function(t,r,a,n,o){var i=this,l=$(window).width(),s=$(window).height(),u=null;if(this.input=""!==a?$("#"+a):null,this.objId=r,this.type=o,this.items=t,this.elContent.empty(),$("#rbro_background_overlay").remove(),o===e.type.testData){this.parameters=t[0],t.splice(0,1),this.createTestDataTable(t);var p=Math.round(.8*l),b=Math.round(.8*s);this.elWindow.css({left:Math.round((l-p)/2)+"px",top:Math.round((s-b)/2)+$(window).scrollTop()+"px",width:p+"px",height:b+"px"}),$("body").append($('<div id="rbro_background_overlay" class="rbroBackgroundOverlay"></div>')),$("body").addClass("rbroFixedBackground")}else{(o===e.type.parameterSet||o===e.type.parameterAppend)&&(u=$('<input class="rbroPopupSearch" placeholder="'+this.rb.getLabel("parameterSearchPlaceholder")+'">').on("input",function(){i.filterParameters(u.val())}),this.elContent.append(u));var c=$("<ul></ul>").mousedown(function(e){e.preventDefault()}),_=!0,h=!1,m=void 0;try{for(var f,g=function(){var t=f.value,r=$("<li></li>");
if(t.separator){o!==e.type.parameterSet&&o!==e.type.parameterAppend||!t.id||r.attr("id","parameter_group_"+t.id);var a="rbroPopupItemSeparator";t.separatorClass&&(a+=" "+t.separatorClass),r.attr("class",a)}else o!==e.type.parameterSet&&o!==e.type.parameterAppend||!t.id||r.attr("id","parameter_"+t.id),r.mousedown(function(r){if(o===e.type.pattern)i.input.val(t.name),i.input.trigger("input"),i.hide();else if(o===e.type.parameterSet){var a="${"+t.name+"}";i.input.val(a),i.input.trigger("input"),autosize.update(i.input),i.hide()}else if(o===e.type.parameterAppend){var n="${"+t.name+"}";v.insertAtCaret(i.input.get(0),n),autosize.update(i.input),i.input.trigger("input"),i.hide()}r.preventDefault()});r.append('<div class="rbroPopupItemHeader">'+t.name+"</div>"),t.description&&t.description!==""&&r.append('<div class="rbroPopupItemDescription">'+t.description+"</div>"),c.append(r)},y=d.default(t);!(_=(f=y.next()).done);_=!0)g()}catch(w){h=!0,m=w}finally{try{!_&&y.return&&y.return()}finally{if(h)throw m}}this.elContent.append(c);var I=this.input.offset(),C=I.top;s/2>C||300>C?C+this.input.height()+300<s&&(C+=this.input.height()):C-=300,this.elWindow.css({left:I.left+"px",top:C+"px",width:"400px",height:"300px"})}this.elWindow.removeClass("rbroHidden"),this.visible=!0,null!==u&&u.focus()}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===e.type.testData){var t=this.getTestData(null,-1),r=this.rb.getDataObject(this.objId),a=i.default(t);if(null!==r&&r.getValue("testData")!==a){var n=new _.default(this.objId,"rbro_parameter_test_data","testData",a,_.default.type.text,this.rb);this.rb.executeCommand(n)}$("#rbro_background_overlay").remove()}this.elWindow.addClass("rbroHidden"),this.elContent.empty(),$("body").removeClass("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"addTestDataRow",value:function(e,t,r){var a=$("<tr></tr>");a.append($("<td></td>").append($('<div class="rbroButton rbroDeleteButton rbroIcon-cancel"></div>').click(function(e){$(e.target).parent().parent().remove()})));var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(t);!(n=(l=s.next()).done);n=!0){var u=l.value;if(u.allowMultiple&&u.arraySize>0){var p=null;null!==r&&u.name in r&&(p=r[u.name]);for(var b=0;b<u.arraySize;b++){var c="";Array.isArray(p)&&b<p.length&&(c=p[b]),this.appendColumn(a,u,c)}}else{var _="";if(null!==r&&u.name in r&&(_=r[u.name]),u.allowMultiple&&u.arraySize>0&&Array.isArray(_)){var h=!0,m=!1,f=void 0;try{for(var v,g=d.default(_);!(h=(v=g.next()).done);h=!0){var y=v.value;this.appendColumn(a,u,y)}}catch(w){m=!0,f=w}finally{try{!h&&g.return&&g.return()}finally{if(m)throw f}}}else this.appendColumn(a,u,_)}}}catch(w){o=!0,i=w}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.append(a)}},{key:"appendColumn",value:function(e,t,r){var a=$('<input type="text" value="'+r+'">').focus(function(){a.parent().addClass("rbroHasFocus")}).blur(function(){a.parent().removeClass("rbroHasFocus")});t.type===m.default.type.number?v.setInputDecimal(a):t.type===m.default.type.date&&a.attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")),e.append($("<td></td>").append(a))}},{key:"getTestData",value:function(e,t){var r=[],a=this.elContent.find("tbody").find("tr"),n=!0,o=!1,i=void 0;try{for(var l,s=d.default(a);!(n=(l=s.next()).done);n=!0){var u=l.value,p=$(u).find("input"),b={},c=0,_=!0,h=!1,m=void 0;try{for(var f,v=d.default(this.parameters);!(_=(f=v.next()).done);_=!0){var g=f.value;if(g.allowMultiple&&g.arraySize>0){for(var y=[],w=0;w<g.arraySize;w++){var I=p.eq(c);(g!==e||w!==t)&&y.push(I.val().trim()),c++}b[g.name]=y}else{var C=p.eq(c);b[g.name]=C.val().trim(),c++}}}catch(x){h=!0,m=x}finally{try{!_&&v.return&&v.return()}finally{if(h)throw m}}r.push(b)}}catch(x){o=!0,i=x}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}},{key:"createTestDataTable",value:function(e){var t=this,r=$("<div></div>"),a=$("<table></table>"),n=$("<tr></tr>"),o=$("<tbody></tbody>"),i=void 0;n.append("<th></th>");var l=!0,s=!1,u=void 0;try{for(var p,b=function(){var e=p.value;if(e.allowMultiple)for(var r=function(r){var a=$("<th></th>");a.append($("<span>"+e.name+" "+(r+1)+"</span>")),0===r?a.append($('<div class="rbroButton rbroRoundButton rbroIcon-plus"></div>').click(function(){var r=t.getTestData(null,-1);e.arraySize++,t.createTestDataTable(r)})):a.append($('<div class="rbroButton rbroRoundButton rbroIcon-minus"></div>').click(function(){var a=t.getTestData(e,r);e.arraySize--,t.createTestDataTable(a)})),n.append(a)},a=0;a<e.arraySize;a++)r(a);else n.append("<th>"+e.name+"</th>")},c=d.default(this.parameters);!(l=(p=c.next()).done);l=!0)b()}catch(_){s=!0,u=_}finally{try{!l&&c.return&&c.return()}finally{if(s)throw u}}for(a.append($("<thead></thead>").append(n)),e.length===0&&this.addTestDataRow(o,this.parameters,null),i=0;i<e.length;i++)this.addTestDataRow(o,this.parameters,e[i]);a.append(o),r.append(a),r.append($('<div class="rbroFullWidthButton"><div class="rbroButton rbroPopupWindowButton">'+this.rb.getLabel("parameterAddTestData")+"</div></div>").click(function(){t.addTestDataRow(o,t.parameters,null)})),this.elContent.empty().append(r)}},{key:"filterParameters",value:function(e){var t=null,r=0;if(this.items!==null){e=e.toLowerCase();var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.items);!(a=(i=l.next()).done);a=!0){var s=i.value;s.separator?(null!==t&&(r>0?$("#parameter_group_"+t).show():$("#parameter_group_"+t).hide()),t=s.id?s.id:null,r=0):s.nameLowerCase.indexOf(e)!==-1?($("#parameter_"+s.id).show(),-1!==t&&r++):$("#parameter_"+s.id).hide()}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}null!==t&&(r>0?$("#parameter_group_"+t).show():$("#parameter_group_"+t).hide())}}}]),e}();t.default=g,g.type={parameterSet:0,parameterAppend:1,pattern:2,testData:3}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(){o.default(this,e)}return l.default(e,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}}]),e}();t.default=d,d.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(31),v=n(f),g=r(3),y=n(g),w=r(20);n(w);var I=r(2),$=a(I),C=function(e){function t(e,r,a,n,o){d.default(this,t);var l=b.default(this,(t.__proto__||i.default(t)).call(this,a,n,o));return l.panelItem=null,l.bandType=e,l.section=r,r||(e===t.bandType.header?(l.id="0_header",l.name=o.getLabel("bandHeader")):e===t.bandType.content?(l.id="0_content",l.name=o.getLabel("bandContent"),l.allowAllElements=!0):e===t.bandType.footer&&(l.id="0_footer",l.name=o.getLabel("bandFooter"))),l.el=null,l}return m.default(t,e),u.default(t,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(e){return e===y.default.type.tableText?!1:(this.bandType===t.bandType.content||e!==y.default.type.pageBreak&&e!==y.default.type.table&&e!==y.default.type.section)&&(!this.section||e!==y.default.type.section)}},{key:"getOffset",value:function(){var e=0;if(this.section){if(this.owner!==null){var r=this.owner.getAbsolutePosition();e=r.y}}else{var a=this.rb.getDocumentProperties();this.bandType===t.bandType.content&&a.getValue("header")?e=$.convertInputToNumber(a.getValue("headerSize")):this.bandType===t.bandType.footer&&(e=this.rb.getDocument().getHeight()-$.convertInputToNumber(a.getValue("footerSize")))}return{x:0,y:e}}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties(),r=e.getValue("width")-e.getValue("marginLeftVal")-e.getValue("marginRightVal"),a=0;return this.section?this.owner!==null&&(a=this.owner.getValue("heightVal")):this.bandType===t.bandType.header?a=e.getValue("headerSizeVal"):this.bandType===t.bandType.content?a=e.getValue("height")-e.getValue("headerSizeVal")-e.getValue("footerSizeVal")-e.getValue("marginTopVal")-e.getValue("marginBottomVal"):this.bandType===t.bandType.footer&&(a=e.getValue("footerSizeVal")),{width:r,height:a}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(e,r){return this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible()?!1:_.default(t.prototype.__proto__||i.default(t.prototype),"isInside",this).call(this,e,r)}}]),t}(v.default);t.default=C,C.bandType={header:"header",content:"content",footer:"footer"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(39),b=n(p),c=r(4),_=n(c),h=r(3),m=n(h),f=r(2),v=a(f),g=function(){function e(t,r,a){d.default(this,e),this.rb=a,this.id=t,this.name=a.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=e.alignment.left,this.verticalAlignment=e.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=e.font.courier,this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(r)}return u.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.borderWidthVal=v.convertInputToNumber(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(t,r,a,n){this[t]=r,t.indexOf("border")!==-1&&e.setBorderValue(this,t,"",r,a,n)}},{key:"setBorderAll",value:function(e,t){this[e+"borderAll"]=t}},{key:"addCommandsForDelete",value:function(e){var t=void 0,r=this.rb.getDocElements(!0),a=!0,n=!1,o=void 0;try{for(var l,d=i.default(r);!(a=(l=d.next()).done);a=!0){var s=l.value;s.getElementType()!==m.default.type.text&&s.getElementType()!==m.default.type.tableText||!s.getValue("styleId")||v.convertInputToNumber(s.getValue("styleId"))!==this.id||(t=new _.default(s.getId(),"rbro_text_element_style_id","styleId","",_.default.type.text,this.rb),e.addCommand(t))}}catch(u){n=!0,o=u}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}t=new b.default(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),e.addCommand(t)}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.getFields());!(t=(n=o.next()).done);t=!0){var l=n.value;e[l]=this.getValue(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}}],[{key:"setBorderValue",value:function(e,t,r,a,n,o){t===r+"borderAll"?(e.borderLeft=e.borderTop=e.borderRight=e.borderBottom=a,o&&(a?$(n).parent().find("button").addClass("rbroButtonActive"):$(n).parent().find("button").removeClass("rbroButtonActive"))):(t===r+"borderLeft"||t===r+"borderTop"||t===r+"borderRight"||t===r+"borderBottom")&&(e.getValue(r+"borderLeft")&&e.getValue(r+"borderTop")&&e.getValue(r+"borderRight")&&e.getValue(r+"borderBottom")?(e.setBorderAll(r,!0),o&&$(n).parent().find('button[value="'+r+'borderAll"]').addClass("rbroButtonActive")):(e.setBorderAll(r,!1),o&&$(n).parent().find('button[value="'+r+'borderAll"]').removeClass("rbroButtonActive")))}}]),e}();t.default=g,g.font={courier:"courier",helvetica:"helvetica",timesRoman:"times_roman"},g.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(57),s=a(d),u=r(39),p=a(u),b=r(17),c=a(b),_=r(58),h=a(_),m=r(4),f=a(m),v=r(11),g=a(v),y=r(15),w=a(y),I=r(3),C=a(I),x=r(20);a(x);var k=function(){function e(t,r,a,n,i){var l=this;o.default(this,e),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},$.extend(this.properties,n),this.panelName=t;var d=null!==a?a.getName():"";this.id=null!==a?a.getId():n.id,this.parent=r,this.data=a,this.rb=i,this.children=[],this.dragEnterCount=0,this.element=$("<li></li>"),this.properties.visible||this.element.addClass("rbroHidden");var u=$('<div id="rbro_menu_item'+this.id+'" class="rbroMenuItem"></div>');this.properties.draggable&&(u.attr("draggable","true"),u.on("dragstart",function(e){e.originalEvent.dataTransfer.setData("text/plain",""),e.originalEvent.dataTransfer.effectAllowed="move",l.rb.startBrowserDrag("panelItem",null,l.id),e.stopPropagation()})),u.on("dragover",function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();t.allowDrop&&(e.preventDefault(),e.stopPropagation())}}).on("dragenter",function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();t.allowDrop&&(u.addClass("rbroMenuItemDragOver"),l.dragEnterCount++,e.preventDefault())}}).on("dragleave",function(){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var e=l.getDropObjectInfo();e.allowDrop&&(l.dragEnterCount--,l.dragEnterCount===0&&u.removeClass("rbroMenuItemDragOver"))}}).on("drop",function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();if(t.allowDrop){l.dragEnterCount--,u.removeClass("rbroMenuItemDragOver");var r=new c.default("Move panel item",l.rb),a=l.rb.getDataObject(l.rb.getBrowserDragId());if(a instanceof C.default&&a.getValue("containerId")!==t.container.getId()){a.checkBounds(a.getValue("xVal"),a.getValue("yVal"),a.getValue("widthVal"),a.getValue("heightVal"),t.container.getSize(),r);var n=new f.default(a.getId(),null,"containerId",t.container.getId(),f.default.type.internal,l.rb);r.addCommand(n)}var o=new h.default(a.getPanelItem(),t.panel,t.position,l.rb);return r.addCommand(o),l.rb.executeCommand(r),e.preventDefault(),!1}}});var b=$('<div class="rbroMenuItemText"><span id="rbro_menu_item_name'+this.id+'">'+d+"</span></div>");this.properties.showAdd&&u.append($('<span id="rbro_menu_item_add'+this.id+'" class="rbroButton rbroRoundButton rbroIcon-plus"></span>').click(function(e){if("parameter"===t){var r=new s.default(!0,{},l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(r)}else if("style"===t){var a=new p.default(!0,{},l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(a)}var n=l.children[l.children.length-1];l.rb.selectObject(n.getId(),!0),e.stopPropagation()})),this.properties.showDelete&&u.append($('<div class="rbroButton rbroDeleteButton rbroIcon-cancel"></div>').click(function(){var e=null;"parameter"===t?e=new s.default(!1,l.getData().toJS(),l.getId(),l.parent.getId(),l.getSiblingPosition(),l.rb):"style"===t?(e=new c.default("Delete",l),l.getData().addCommandsForDelete(e)):(t===C.default.type.text||t===C.default.type.image||t===C.default.type.line||t===C.default.type.table||t===C.default.type.pageBreak||t===C.default.type.frame||t===C.default.type.section)&&l.getData()instanceof C.default&&(e=new c.default("Delete",l),l.getData().addCommandsForDelete(e)),null!==e&&l.rb.executeCommand(e)})),u.click(function(){if(!l.properties.hasDetails||$("#rbro_menu_item"+l.id).hasClass("rbroMenuItemActive")){var e=$("#rbro_menu_item_children"+l.id);e.length>0&&(u.toggleClass("rbroMenuItemOpen"),e.toggleClass("rbroHidden"))}l.properties.hasDetails&&l.rb.selectObject(l.id,!0)}),this.properties.hasChildren&&(u.addClass("rbroMenuItemNoChildren"),b.append('<div id="rbro_menu_item_children_toggle'+this.id+'" class="rbroMenuArrow rbroIcon-arrow-right"></div>'),this.element.append($('<ul id="rbro_menu_item_children'+this.id+'" class="rbroHidden"></ul>'))),u.prepend(b),this.element.prepend(u)}return l.default(e,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.removeClass("rbroHidden")}},{key:"hide",value:function(){this.element.addClass("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e;var t=null!==e?e.getName():"";$("#rbro_menu_item_name"+this.id).text(t)}},{key:"setActive",value:function(){$(".rbroMenuItem").removeClass("rbroMenuItemActive"),$("#rbro_menu_item"+this.id).addClass("rbroMenuItemActive"),this.properties.hasDetails&&this.rb.setDetailPanel(this.panelName,this.data)}},{key:"getParentIds",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t.id),t=t.getParent();return e}},{key:"openParentItems",value:function(){for(var e=this.getParent();null!==e;)e.open(),e=e.getParent()}},{key:"open",value:function(){var e=$("#rbro_menu_item_children"+this.getId());e.length>0&&($("#rbro_menu_item"+this.getId()).addClass("rbroMenuItemOpen"),e.removeClass("rbroHidden"))}},{key:"close",value:function(){var e=$("#rbro_menu_item_children"+this.getId());e.length>0&&($("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemOpen"),e.addClass("rbroHidden"))}},{key:"appendChild",value:function(e){this.children.length===0&&$("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemNoChildren"),this.children.push(e),$("#rbro_menu_item_children"+this.getId()).append(e.getElement())}},{key:"insertChild",value:function(e,t){this.children.length===0&&$("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemNoChildren"),-1!==e?this.children.splice(e,0,t):this.children.push(t);var r=$("#rbro_menu_item_children"+this.getId()+" > li");-1!==e&&e<r.length?r.eq(e).before(t.getElement()):$("#rbro_menu_item_children"+this.getId()).append(t.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"removeChild",value:function(e){this.removeChildInternal(e,!0)}},{key:"removeChildInternal",value:function(e,t){for(var r=0;r<this.children.length;r++)if(e.getId()===this.children[r].getId()){this.children.splice(r,1),t&&e.getElement().remove(),this.children.length===0&&$("#rbro_menu_item"+this.getId()).addClass("rbroMenuItemNoChildren");break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null)for(var e=this.getParent().getChildren(),t=0;t<e.length;t++)if(e[t]===this)return t;return 0}},{key:"moveTo",value:function(e){this.element.detach(),this.parent.removeChildInternal(this,!1),this.parent=e,e.appendChild(this)}},{key:"moveToPosition",value:function(e,t){this.element.detach(),this.parent.removeChildInternal(this,!1),this.parent=e,e.insertChild(t,this)}},{key:"clear",value:function(){$("#rbro_menu_item_children"+this.id).empty(),this.children=[]}},{key:"getDropObjectInfo",value:function(){var e={allowDrop:!1,panel:null,position:-1,container:null},t=this.rb.getDataObject(this.rb.getBrowserDragId());if(null!==t){var r=!1;if(t instanceof C.default)this.data instanceof C.default&&this.data.isDroppingAllowed()?(e.container=this.data.getLinkedContainer(),e.container===null&&(e.container=this.data.getContainer(),r=!0)):this.panelName==="band"&&(e.container=this.data),e.container!==null&&e.container.isElementAllowed(t.getElementType())&&(e.allowDrop=!0);else if(t instanceof g.default)if(this.data instanceof g.default){var a=this.data.getParent();null!==a?a.getValue("type")===g.default.type.array?t.getValue("type")!==g.default.type.array&&t.getValue("type")!==g.default.type.map&&t.getValue("type")!==g.default.type.sum&&t.getValue("type")!==g.default.type.average&&(e.allowDrop=!0,r=!0):a.getValue("type")===g.default.type.map&&t.getValue("type")!==g.default.type.array&&t.getValue("type")!==g.default.type.map&&(e.allowDrop=!0,r=!0):(e.allowDrop=!0,r=!0)}else this.panelName==="parameter"&&(e.allowDrop=!0);else t instanceof w.default&&(this.data instanceof w.default?(e.allowDrop=!0,r=!0):this.panelName==="style"&&(e.allowDrop=!0));e.allowDrop&&(r?(e.panel=this.getParent(),e.position=this.getSiblingPosition()+1):(e.panel=this,e.position=0),(e.panel===null||e.panel===t.getPanelItem().getParent()&&e.position===t.getPanelItem().getSiblingPosition())&&(e.allowDrop=!1))}return e}}]),e}();t.default=k},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(4),s=a(d),u=function(){function e(t,r){o.default(this,e),this.name,this.rb=r,this.commands=[]}return l.default(e,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){for(var e=0;e<this.commands.length;e++)this.commands[e].do()}},{key:"undo",value:function(){for(var e=this.commands.length-1;e>=0;e--)this.commands[e].undo()}},{key:"addCommand",value:function(e){this.commands.length>0&&e instanceof s.default&&e.disableSelect(),this.commands.push(e)}},{key:"isEmpty",value:function(){return this.commands.length===0}}]),e}();t.default=u},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,t,r){var a=r(52)("wks"),n=r(38),o=r(18).Symbol,i="function"==typeof o,l=e.exports=function(e){return a[e]||(a[e]=i&&o[e]||(i?o:n)("Symbol."+e))};l.store=a},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(21),b=n(p),c=r(14),_=n(c),h=r(40);n(h);var m=r(3),f=n(m),v=r(2),g=a(v),y=function(){function e(t,r,a){d.default(this,e),this.rootElement=t,this.rb=a,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.gridVisible=r,this.gridSize=10,this.pdfPreviewExists=!1,this.dragging=!1,this.dragElementType=null,this.dragType=f.default.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainerId=null,this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return u.default(e,[{key:"render",value:function(){var t=this,r=$("#rbro_document_panel").mousedown(function(e){t.rb.isDocElementSelected()&&!e.shiftKey&&t.rb.deselectAll();var r=t.elDocContent.offset();t.startSelectionArea(e.originalEvent.pageX-r.left,e.originalEvent.pageY-r.top)}),a=$('<div id="rbro_document_tabs" class="rbroDocumentTabs"></div>').mousedown(function(e){e.stopPropagation()});a.append($('<div id="rbro_document_tab_pdf_layout" class="rbroDocumentTab rbroButton rbroTabButton">\n               '+this.rb.getLabel("documentTabPdfLayout")+"</div>").click(function(){t.setDocumentTab(e.tab.pdfLayout)}));var n=$('<div id="rbro_document_tab_pdf_preview" class="rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview \n                '+(this.rb.getProperty("enableSpreadsheet")?"rbroXlsxDownload":"")+'">\n                '+this.rb.getLabel("documentTabPdfPreview")+"</div>").click(function(){t.setDocumentTab(e.tab.pdfPreview)});this.rb.getProperty("enableSpreadsheet")&&n.append($('<span class="rbroIcon-xlsx rbroXlsxDownlaodButton" title="'+this.rb.getLabel("documentTabXlsxDownload")+'"></span>').click(function(){t.rb.downloadSpreadsheet()})),n.append($('<span class="rbroIcon-cancel" title="'+this.rb.getLabel("documentTabClose")+'"></span>').click(function(){t.closePdfPreviewTab()})),a.append(n),r.append(a);var o=$('<div id="rbro_document_pdf" class="rbroDocument rbroDragTarget rbroHidden"></div>'),i=this.rb.getDocumentProperties();this.elDocContent=$('<div id="rbro_document_content"\n            class="rbroDocumentContent '+(this.gridVisible?"rbroDocumentGrid":"")+'"></div>'),this.elHeader=$('<div id="rbro_header" class="rbroDocumentBand rbroElementContainer"\n            style="top: 0px; left: 0px;"></div>'),this.elHeader.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandHeader")+"</div>")),this.elDocContent.append(this.elHeader),this.elContent=$('<div id="rbro_content" class="rbroDocumentBand rbroElementContainer"></div>'),this.elContent.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandContent")+"</div>")),this.elDocContent.append(this.elContent),this.elFooter=$('<div id="rbro_footer" class="rbroDocumentBand rbroElementContainer"\n            style="bottom: 0px; left 0px;"></div>'),this.elFooter.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandFooter")+"</div>")),this.elDocContent.append(this.elFooter),o.append(this.elDocContent),this.elSelectionArea=$('<div id="rbro_selection_area" class="rbroHidden rbroSelectionArea"></div>'),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),o.append('<div id="rbro_divider_margin_left" class="rbroDivider rbroDividerMarginLeft"></div>'),o.append('<div id="rbro_divider_margin_top" class="rbroDivider rbroDividerMarginTop"></div>'),o.append('<div id="rbro_divider_margin_right" class="rbroDivider rbroDividerMarginRight"></div>'),o.append('<div id="rbro_divider_margin_bottom" class="rbroDivider rbroDividerMarginBottom"></div>'),o.append('<div id="rbro_divider_header" class="rbroDivider rbroDividerHeader"></div>'),o.append('<div id="rbro_divider_footer" class="rbroDivider rbroDividerFooter"></div>'),r.append(o),r.append($('<div id="rbro_document_pdf_preview" class="rbroDocumentPreview"></div>'));var l=i.getPageSize();this.updatePageSize(l.width,l.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(e.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var e=this;$("#rbro_document_panel").mousemove(function(t){if(e.dragging){if(e.dragType===f.default.dragType.element){var r=e.getContainer(t.originalEvent.pageX,t.originalEvent.pageY,e.dragElementType),a=null;null!==r&&(a=r.getId(),a===e.dragLinkedContainerId&&(r=r.getParent(),a=null!==r?r.getId():null)),a!==e.dragCurrentContainerId&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),null!==r&&a!==e.dragContainerId&&r.dragOver()),e.dragCurrentContainerId=a}e.dragCurrentX=t.originalEvent.pageX,e.dragCurrentY=t.originalEvent.pageY,e.dragSnapToGrid=!t.ctrlKey;var n=e.rb.getDataObject(e.dragObjectId);if(null!==n){var o=n.getDragDiff(t.originalEvent.pageX-e.dragStartX,t.originalEvent.pageY-e.dragStartY,e.dragType,e.dragSnapToGrid&&e.isGridVisible()?e.getGridSize():0);e.rb.updateSelectionDrag(o.x,o.y,e.dragType,null,!1)}}if(e.selectionAreaStarted){var i=e.elDocContent.offset(),l=e.getSelectionArea(t.originalEvent.pageX-i.left,t.originalEvent.pageY-i.top),d={left:e.rb.toPixel(l.left),top:e.rb.toPixel(l.top),width:e.rb.toPixel(l.width),height:e.rb.toPixel(l.height)};e.elSelectionArea.css(d),e.elSelectionArea.hasClass("rbroHidden")&&e.elSelectionArea.removeClass("rbroHidden")}}),this.elDocContent.on("dragover",function(t){if(e.rb.isBrowserDragActive("docElement")){var r=e.getContainer(t.originalEvent.pageX,t.originalEvent.pageY,e.dragElementType),a=null!==r?r.getId():null;a!==e.dragContainerId&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),null!==r&&r.dragOver(),e.dragContainerId=a),t.preventDefault(),t.stopPropagation()}}).on("dragenter",function(t){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount++,t.preventDefault())}).on("dragleave",function(){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount--,e.dragEnterCount===0&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),e.dragContainerId=null))}).on("drop",function(t){if(e.rb.isBrowserDragActive("docElement")){$(".rbroElementContainer").removeClass("rbroElementDragOver"),e.rb.getDocumentProperties();for(var r=e.getContainer(t.originalEvent.pageX,t.originalEvent.pageY,e.dragElementType);null!==r&&!r.isElementAllowed(e.dragElementType);)r=r.getParent();if(null!==r&&r.isElementAllowed(e.dragElementType)){var a=e.elDocContent.offset(),n=t.originalEvent.pageX-a.left,o=t.originalEvent.pageY-a.top,i=r.getOffset();if(n-=i.x,o-=i.y,!t.ctrlKey&&e.rb.getDocument().isGridVisible()){var l=e.rb.getDocument().getGridSize();n=g.roundValueToInterval(n,l),o=g.roundValueToInterval(o,l)}var d={x:""+n,y:""+o,containerId:r.getId()},s=new b.default(!0,e.dragElementType,d,e.rb.getUniqueId(),r.getId(),-1,e.rb);e.rb.executeCommand(s)}return t.preventDefault(),!1}})}},{key:"updatePageSize",value:function(e,t){$("#rbro_document_pdf").css({width:this.rb.toPixel(e),height:this.rb.toPixel(t)})}},{key:"updatePageMargins",value:function(){var e=this.rb.getDocumentProperties(),t=this.rb.toPixel(g.convertInputToNumber(e.getValue("marginLeft"))-1),r=this.rb.toPixel(g.convertInputToNumber(e.getValue("marginTop"))-1),a=g.convertInputToNumber(e.getValue("marginRight")),n=g.convertInputToNumber(e.getValue("marginBottom")),o=this.rb.toPixel(a),i=this.rb.toPixel(n);$("#rbro_divider_margin_left").css("left",t),$("#rbro_divider_margin_top").css("top",r),0!==a?$("#rbro_divider_margin_right").css("right",o).show():$("#rbro_divider_margin_right").hide(),0!==n?$("#rbro_divider_margin_bottom").css("bottom",i).show():$("#rbro_divider_margin_bottom").hide(),this.elDocContent.css({left:t,top:r,right:o,bottom:i})}},{key:"updateHeader",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("header")){var t=this.rb.toPixel(e.getValue("headerSize"));this.elHeader.css("height",t),this.elHeader.show(),$("#rbro_divider_header").css("top",this.rb.toPixel(g.convertInputToNumber(e.getValue("marginTop"))+g.convertInputToNumber(e.getValue("headerSize"))-1)),$("#rbro_divider_header").show(),this.elContent.css("top",t)}else this.elHeader.hide(),$("#rbro_divider_header").hide(),this.elContent.css("top",this.rb.toPixel(0))}},{key:"updateFooter",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("footer")){var t=this.rb.toPixel(e.getValue("footerSize"));this.elFooter.css("height",t),this.elFooter.show(),$("#rbro_divider_footer").css("bottom",this.rb.toPixel(g.convertInputToNumber(e.getValue("marginBottom"))+g.convertInputToNumber(e.getValue("footerSize")))),$("#rbro_divider_footer").show(),this.elContent.css("bottom",t)}else this.elFooter.hide(),$("#rbro_divider_footer").hide(),this.elContent.css("bottom",this.rb.toPixel(0))}},{key:"setDocumentTab",value:function(t){$("#rbro_document_tabs .rbroDocumentTab").removeClass("rbroActive"),t===e.tab.pdfLayout?($("#rbro_document_tab_pdf_layout").addClass("rbroActive"),$("#rbro_document_pdf").removeClass("rbroHidden"),$("#rbro_document_pdf_preview").css("z-index",""),$(".rbroElementButtons .rbroMenuButton").removeClass("rbroDisabled").prop("draggable",!0),$(".rbroActionButtons .rbroActionButton").prop("disabled",!1)):this.pdfPreviewExists&&t===e.tab.pdfPreview&&($("#rbro_document_tab_pdf_preview").addClass("rbroActive"),$("#rbro_document_pdf").addClass("rbroHidden"),$("#rbro_document_pdf_preview").css("z-index","1"),$(".rbroElementButtons .rbroMenuButton").addClass("rbroDisabled").prop("draggable",!1),$(".rbroActionButtons .rbroActionButton").prop("disabled",!0))
}},{key:"openPdfPreviewTab",value:function(t){var r='<object data="'+t+'" type="application/pdf" width="100%" height="100%"></object>';this.pdfPreviewExists=!0,$("#rbro_document_pdf_preview").empty(),$("#rbro_document_pdf_preview").append(r),this.setDocumentTab(e.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,$("#rbro_document_pdf_preview").empty(),this.setDocumentTab(e.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var e=1;this.pdfPreviewExists?($("#rbro_document_tab_pdf_preview").removeClass("rbroHidden"),e++):$("#rbro_document_tab_pdf_preview").addClass("rbroHidden"),e>1?($("#rbro_document_tabs").show(),$("#rbro_document_panel").addClass("rbroHasTabs")):($("#rbro_document_tabs").hide(),$("#rbro_document_panel").removeClass("rbroHasTabs"))}},{key:"getContainer",value:function(e,t,r){var a=this.elDocContent.offset();return this.rb.getContainer(e-a.left,t-a.top,r)}},{key:"getContentScrollPosY",value:function(){var e=this.elDocContent.offset(),t=$("#rbro_document_panel").offset();return t.top-e.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.addClass("rbroDocumentGrid"):this.elDocContent.removeClass("rbroDocumentGrid")}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.height()}},{key:"getElement",value:function(e){return e===_.default.bandType.header?this.elHeader:e===_.default.bandType.content?this.elContent:e===_.default.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(e,t,r,a,n,o,i){this.dragging=!0,this.dragStartX=this.dragCurrentX=e,this.dragStartY=this.dragCurrentY=t,this.dragElementType=o,this.dragType=i,this.dragObjectId=r,this.dragContainerId=a,this.dragLinkedContainerId=n,this.dragCurrentContainerId=null,this.dragSnapToGrid=!1}},{key:"stopDrag",value:function(){var e=this.dragCurrentX-this.dragStartX,t=this.dragCurrentY-this.dragStartY,r=this.rb.getDataObject(this.dragObjectId);if(null===r||0===e&&0===t)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var a=null;this.dragType===f.default.dragType.element&&(a=this.rb.getDataObject(this.dragCurrentContainerId));var n=r.getDragDiff(e,t,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(n.x,n.y,this.dragType,a,!0)}this.dragging=!1,this.dragType=f.default.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null,$(".rbroElementContainer").removeClass("rbroElementDragOver")}},{key:"startBrowserDrag",value:function(e){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainerId=null,this.dragElementType=e}},{key:"startSelectionArea",value:function(e,t){this.selectionAreaStarted=!0,this.selectionAreaStartX=e,this.selectionAreaStartY=t}},{key:"stopSelectionArea",value:function(e,t,r){var a=this.getSelectionArea(e,t);if(a.width>10&&a.height>10){var n=this.rb.getDocElements(!0),o=!0,l=!1,d=void 0;try{for(var s,u=i.default(n);!(o=(s=u.next()).done);o=!0){var p=s.value;if(p.isDraggingAllowed()){var b=p.getAbsolutePosition();if(a.left<b.x+p.getValue("widthVal")&&a.left+a.width>=b.x&&a.top<b.y+p.getValue("heightVal")&&a.top+a.height>=b.y){var c=!0;if(p.getContainerId()){var _=p.getContainer();null!==_&&_.isSelected()&&(c=!1)}c&&(this.rb.selectObject(p.getId(),r),r=!1)}}}}catch(h){l=!0,d=h}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.addClass("rbroHidden")}},{key:"getSelectionArea",value:function(e,t){var r={};return e>this.selectionAreaStartX?(r.left=this.selectionAreaStartX,r.width=e-this.selectionAreaStartX):(r.left=e,r.width=this.selectionAreaStartX-e),t>this.selectionAreaStartY?(r.top=this.selectionAreaStartY,r.height=t-this.selectionAreaStartY):(r.top=t,r.height=this.selectionAreaStartY-t),r}},{key:"mouseUp",value:function(e){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var t=this.elDocContent.offset();this.stopSelectionArea(e.originalEvent.pageX-t.left,e.originalEvent.pageY-t.top,!e.shiftKey)}}}]),e}();t.default=y,y.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(13),s=a(d),u=r(82),p=a(u),b=r(3),c=a(b),_=r(59),h=a(_),m=r(83),f=a(m),v=r(84),g=a(v),y=r(60),w=a(y),I=r(41),$=a(I),C=r(42),x=a(C),k=r(61),D=a(k),O=r(16),P=a(O),S=function(){function e(t,r,a,n,i,l,d){o.default(this,e),this.add=t,this.elementType=r,this.initialData=a,this.parentId=i,this.position=l,this.rb=d,this.id=n,this.firstExecution=!0}return l.default(e,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){var t=this.rb.getDataObject(this.parentId);if(null!==t){var r=e.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(r,s.default.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=r.toJS())}}},{key:"deleteElement",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.rb.notifyEvent(e,s.default.operation.remove),this.rb.deleteDocElement(e))}}],[{key:"createElement",value:function(e,t,r,a,n,o){var i=void 0,l={draggable:!0};r===c.default.type.text?i=new D.default(e,t,o):r===c.default.type.line?i=new g.default(e,t,o):r===c.default.type.image?i=new f.default(e,t,o):r===c.default.type.pageBreak?i=new w.default(e,t,o):r===c.default.type.table?(i=new x.default(e,t,o),l.hasChildren=!0):r===c.default.type.frame?(i=new h.default(e,t,o),l.hasChildren=!0):r===c.default.type.section?(i=new $.default(e,t,o),l.hasChildren=!0):r===c.default.type.barCode&&(i=new p.default(e,t,o)),o.addDocElement(i);var d=i.getContainer().getPanelItem(),s=new P.default(r,d,i,l,o);return i.setPanelItem(s),d.insertChild(a,s),i.setup(n),i}}]),e}();t.default=S},function(e,t,r){e.exports=!r(30)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e,t,r){var a=r(26),n=r(65),o=r(54),i=Object.defineProperty;t.f=r(22)?Object.defineProperty:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return i(e,t,r)}catch(l){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var a=r(123),n=r(44);e.exports=function(e){return a(n(e))}},function(e,t,r){var a=r(29);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var a=r(18),n=r(9),o=r(63),i=r(28),l=r(23),d="prototype",s=function(e,t,r){var u,p,b,c=e&s.F,_=e&s.G,h=e&s.S,m=e&s.P,f=e&s.B,v=e&s.W,g=_?n:n[t]||(n[t]={}),y=g[d],w=_?a:h?a[t]:(a[t]||{})[d];_&&(r=t);for(u in r)p=!c&&w&&w[u]!==void 0,p&&l(g,u)||(b=p?w[u]:r[u],g[u]=_&&typeof w[u]!="function"?r[u]:f&&p?o(b,a):v&&w[u]==b?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,a)}return e.apply(this,arguments)};return t[d]=e[d],t}(b):m&&"function"==typeof b?o(Function.call,b):b,m&&((g.virtual||(g.virtual={}))[u]=b,e&s.R&&y&&!y[u]&&i(y,u,b)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,r){var a=r(24),n=r(37);e.exports=r(22)?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(t,r,a){o.default(this,e),this.rb=a,this.id=t,this.panelItem=null,this.name=r,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return l.default(e,[{key:"init",value:function(e){this.owner=e,this.el=e.getElement(),this.elContent=e.getContentElement(),this.panelItem=e.getPanelItem(),this.parent=e.getContainer(),this.level=0;for(var t=this.parent;null!==t;)this.level++,t=t.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(e){this.elContent!==null&&this.elContent.append(e)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){for(this.parent=e,this.level=0;null!==e;)this.level++,e=e.getParent()}},{key:"isSelected",value:function(){return this.owner!==null&&this.rb.isSelectedObject(this.owner.getId())?!0:!1}},{key:"isElementAllowed",value:function(){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.addClass("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(e){if(null!==e&&e!=this){var t=this.getOffset(),r=e.getOffset();return{x:t.x-r.x,y:t.y-r.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(e,t){var r=this.getOffset(),a=this.getSize();return e-=r.x,t-=r.y,e>=0&&t>=0&&e<a.width&&t<a.height?!0:!1}},{key:"clearErrors",value:function(){}}]),e}();t.default=d},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(3),v=n(f),g=r(61),y=n(g),w=r(21),I=n(w),C=r(17),x=n(C),k=r(14),D=n(k),O=r(2),P=a(O),S=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,e,r,a));return n.columnIndex=r.columnIndex,n.parentId=r.parentId,n.tableId=r.tableId,n}return m.default(t,e),u.default(t,[{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.rb.isSelectedObject(e.id)||e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}).mousedown(function(t){e.rb.isSelectedObject(e.id)?(t.shiftKey&&e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())})}},{key:"getContainerId",value:function(){var e=this.getTable();return null!==e?e.getContainerId():null}},{key:"setValue",value:function(e,r,a,n){if(_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"width"===e){var o=this.rb.getDataObject(this.tableId);null!==o&&o.updateColumnWidth(this.columnIndex,r,!0)}else"height"===e&&this.updateDisplayInternalNotify(0,0,this.widthVal,this.heightVal,!1)}},{key:"updateColumnWidth",value:function(e){this.width=e,this.widthVal=P.convertInputToNumber(this.width),this.updateDisplayInternalNotify(0,0,this.widthVal,this.heightVal,!1)}},{key:"getFields",value:function(){var e=["id","width","height","content","eval","styleId","bold","italic","underline","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"],t=this.rb.getDataObject(this.parentId);return null!==t&&t.getValue("bandType")===D.default.bandType.header&&e.push("printIf"),e}},{key:"getElementType",value:function(){return v.default.type.tableText}},{key:"updateDisplayInternal",value:function(e,t,r,a){this.updateDisplayInternalNotify(e,t,r,a,!0)}},{key:"updateDisplayInternalNotify",value:function(e,t,r,a,n){if(this.el!==null){var o={width:this.rb.toPixel(r-1)};this.el.css(o)}var i=this.getContentSize(r,a,this.getStyle());if($("#rbro_el_content_text"+this.id).css({width:this.rb.toPixel(i.width),height:this.rb.toPixel(i.height)}),n){var l=this.rb.getDataObject(this.tableId);if(null!==l){var d=this.rb.getDataObject(this.parentId);l.notifyColumnWidthResized(d,this.columnIndex,r)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"getXTagId",value:function(){return""}},{key:"getYTagId",value:function(){return""}},{key:"getWidthTagId",value:function(){return"rbro_text_element_width"}},{key:"getHeightTagId",value:function(){return""}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMaxWidth",value:function(){var e=this.rb.getDataObject(this.tableId),t=this.rb.getDataObject(this.parentId);if(null!==e&&null!==t){for(var r=this.rb.getDocumentProperties().getContentSize().width,a=t.getColumnWidths(),n=0,o=0;o<a.length;o++)o!==this.columnIndex&&(n+=a[o]);return r-n-e.xVal}return 0}},{key:"getOffsetX",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){for(var t=e.getColumnWidths(),r=0,a=0;a<this.columnIndex;a++)r+=t[a];return r}return 0}},{key:"createElement",value:function(){this.el=$('<td id="rbro_el'+this.id+'" class="rbroTableTextElement"></td>').append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_text'+this.id+'" class="rbroDocElementContentText"></div>').append($('<span id="rbro_el_content_text_data'+this.id+'"></span>')))),$("#rbro_el_table_band"+this.parentId).append(this.el),$("#rbro_el_content_text_data"+this.id).text(this.content),this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"insertColumn",value:function(e){var t=this.getParent(),r=this.getTable();if(null!==t&&null!==r){var a=t.getColumnIndex(this);if(-1!==a){var n=new x.default("Insert column"),o=new I.default(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);n.addCommand(o);var i=P.convertInputToNumber(r.getValue("columns"))+1;r.setValue("columns",i,"rbro_table_element_columns",!1),r.getValue("headerData").createColumns(i,!0,a,e);for(var l=0;l<r.getValue("contentDataRows").length;l++)r.getValue("contentDataRows")[l].createColumns(i,!0,a,e);r.getValue("footerData").createColumns(i,!0,a,e),o=new I.default(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),n.addCommand(o),this.rb.executeCommand(n),this.rb.selectObject(this.getParent().getValue("columnData")[e?a:a+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var e=this.getParent(),t=this.getTable();if(null!==e&&null!==t){var r=e.getColumnIndex(this);if(-1!==r){var a=new x.default("Delete column"),n=new I.default(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);a.addCommand(n);var o=P.convertInputToNumber(t.getValue("columns"))-1;t.setValue("columns",o,"rbro_table_element_columns",!1),t.getValue("headerData").deleteColumn(r);for(var i=0;i<t.getValue("contentDataRows").length;i++)t.getValue("contentDataRows")[i].deleteColumn(r);t.getValue("footerData").deleteColumn(r),n=new I.default(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),a.addCommand(n),this.rb.executeCommand(a)}}}}]),t}(y.default);t.default=S},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(4),b=n(p),c=r(15),_=n(c),h=r(3),m=n(h),f=r(2),v=a(f),g=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var t=this,r=$('<div id="rbro_style_panel" class="rbroHidden"></div>'),a=$('<div class="rbroFormRow"></div>');a.append('<label for="rbro_style_name">'+this.rb.getLabel("styleName")+":</label>");var n=$('<div class="rbroFormField"></div>'),o=$('<input id="rbro_style_name">').change(function(){if(t.rb.getDataObject(t.selectedObjId)!==null)if(o.val().trim()!==""){var e=new b.default(t.selectedObjId,"rbro_style_name","name",o.val(),b.default.type.text,t.rb);t.rb.executeCommand(e)}else o.val(style.getName())});n.append(o),a.append(n),r.append(a),e.renderStyle(r,"style_","",m.default.type.none,this,this.rb),$("#rbro_detail_panel").append(r)}},{key:"show",value:function(e){$("#rbro_style_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_style_panel").addClass("rbroHidden")}},{key:"updateData",value:function(t){null!==t?($("#rbro_style_name").prop("disabled",!1),this.selectedObjId=t.getId()):$("#rbro_style_name").prop("disabled",!0),e.updateStyleData(t,"style_","",m.default.type.none),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_style_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_style_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0)n.value}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}],[{key:"renderPaddingControls",value:function(e,t,r,a,n){var o=$('<div class="rbroFormRow"></div>');o.append('<label for="rbro_'+t+'padding">'+n.getLabel("stylePadding")+":</label>");var i=$('<div class="rbroFormField rbroSmallInput"></div>'),l=$('<div class="rbroColumnCenter"></div>'),d=$('<input id="rbro_'+t+'padding_top" placeholder="'+n.getLabel("orientationTop")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_top",r+"paddingTop",d.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(d),l.append(d),i.append(l);var s=$('<div class="rbroSplit"></div>'),u=$('<input id="rbro_'+t+'padding_left" placeholder="'+n.getLabel("orientationLeft")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_left",r+"paddingLeft",u.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(u),s.append(u);var p=$('<input id="rbro_'+t+'padding_right" placeholder="'+n.getLabel("orientationRight")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_right",r+"paddingRight",p.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(p),s.append(p),i.append(s);var c=$('<div class="rbroColumnCenter"></div>'),_=$('<input id="rbro_'+t+'padding_bottom" placeholder="'+n.getLabel("orientationBottom")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_bottom",r+"paddingBottom",_.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(_),c.append(_),i.append(c),o.append(i),e.append(o)}},{key:"renderStyle",value:function(t,r,a,n,o,l){var d=void 0,s=void 0;if(n===m.default.type.none||n===m.default.type.text){d=$('<div class="rbroFormRow"></div>'),d.append("<label>"+l.getLabel("styleTextStyle")+":</label>"),s=$('<div class="rbroFormField"></div>');var u=$('<div id="rbro_'+r+'textstyle"></div>'),p=$('<button id="rbro_'+r+'bold" name="style_bold" class="rbroButton rbroActionButton rbroIcon-bold" type="button"\n                    title="'+l.getLabel("styleBold")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"bold",a+"bold",!p.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(p);var c=$('<button id="rbro_'+r+'italic"\n                    class="rbroButton rbroActionButton rbroIcon-italic" type="button"\n                    title="'+l.getLabel("styleItalic")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"italic",a+"italic",!c.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(c);var h=$('<button id="rbro_'+r+'underline"\n                    class="rbroButton rbroActionButton rbroIcon-underline" type="button"\n                    title="'+l.getLabel("styleUnderline")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"underline",a+"underline",!h.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(h);var f=$('<button id="rbro_'+r+'strikethrough"\n                    class="rbroButton rbroActionButton rbroIcon-strikethrough" type="button"\n                    title="'+l.getLabel("styleStrikethrough")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"strikethrough",a+"strikethrough",!f.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(f),s.append(u),d.append(s),t.append(d)}d=$('<div class="rbroFormRow"></div>'),d.append("<label>"+l.getLabel("styleAlignment")+":</label>"),s=$('<div class="rbroFormField"></div>');var g=$('<div id="rbro_'+r+'halignment"></div>'),y=$('<button id="rbro_'+r+'halignment_left"\n                class="rbroButton rbroActionButton rbroIcon-text-align-left" type="button" value="left"\n                title="'+l.getLabel("styleHAlignmentLeft")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.left,b.default.type.buttonGroup,l);l.executeCommand(e)}});g.append(y);var w=$('<button id="rbro_'+r+'halignment_center"\n                class="rbroButton rbroActionButton rbroIcon-text-align-center" type="button" value="center"\n                title="'+l.getLabel("styleHAlignmentCenter")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.center,b.default.type.buttonGroup,l);l.executeCommand(e)}});g.append(w);var I=$('<button id="rbro_'+r+'halignment_right"\n                class="rbroButton rbroActionButton rbroIcon-text-align-right" type="button" value="right"\n                title="'+l.getLabel("styleHAlignmentRight")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.right,b.default.type.buttonGroup,l);l.executeCommand(e)}});if(g.append(I),n===m.default.type.none||n===m.default.type.text){var C=$('<button id="rbro_'+r+'halignment_justify"\n                    class="rbroButton rbroActionButton rbroIcon-text-align-justify" type="button" value="justify"\n                    title="'+l.getLabel("styleHAlignmentJustify")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.justify,b.default.type.buttonGroup,l);l.executeCommand(e)}});g.append(C)}s.append(g);var x=$('<div id="rbro_'+r+'valignment"></div>'),k=$('<button id="rbro_'+r+'valignment_top"\n                class="rbroButton rbroActionButton rbroIcon-align-top" type="button" value="top"\n                title="'+l.getLabel("styleVAlignmentTop")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"valignment",a+"verticalAlignment",_.default.alignment.top,b.default.type.buttonGroup,l);l.executeCommand(e)}});x.append(k);var D=$('<button id="rbro_'+r+'valignment_middle"\n                class="rbroButton rbroActionButton rbroIcon-align-middle" type="button" value="middle"\n                title="'+l.getLabel("styleVAlignmentMiddle")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"valignment",a+"verticalAlignment",_.default.alignment.middle,b.default.type.buttonGroup,l);l.executeCommand(e)}});x.append(D);var O=$('<button id="rbro_'+r+'valignment_bottom"\n                class="rbroButton rbroActionButton rbroIcon-align-bottom" type="button" value="bottom"\n                title="'+l.getLabel("styleVAlignmentBottom")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"valignment",a+"verticalAlignment",_.default.alignment.bottom,b.default.type.buttonGroup,l);l.executeCommand(e)}});if(x.append(O),s.append(x),d.append(s),t.append(d),n===m.default.type.none||n===m.default.type.text){d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'text_color">'+l.getLabel("styleTextColor")+":</label>"),s=$('<div class="rbroFormField"></div>');var P=$('<div class="rbroColorPickerContainer"></div>'),S=$('<input id="rbro_'+r+'text_color">').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"text_color",a+"textColor",S.val(),b.default.type.color,l);l.executeCommand(e)}});P.append(S),s.append(P),d.append(s),t.append(d),v.initColorPicker(S,l)}d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'background_color">'+l.getLabel("styleBackgroundColor")+":</label>"),s=$('<div class="rbroFormField"></div>');var j=$('<div class="rbroColorPickerContainer"></div>'),E=$('<input id="rbro_'+r+'background_color">').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"background_color",a+"backgroundColor",E.val(),b.default.type.color,l);l.executeCommand(e)}});if(j.append(E),s.append(j),d.append(s),t.append(d),v.initColorPicker(E,l,{allowEmpty:!0}),n===m.default.type.none||n===m.default.type.text){d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'font">'+l.getLabel("styleFont")+":</label>"),s=$('<div class="rbroFormField rbroSplit rbroSelectFont"></div>');var V='<select id="rbro_'+r+'font">',T=!0,F=!1,A=void 0;try{for(var B,L=i.default(l.getFonts());!(T=(B=L.next()).done);T=!0){var M=B.value;V+='<option value="'+M.value+'">'+M.name+"</option>"}}catch(R){F=!0,A=R}finally{try{!T&&L.return&&L.return()}finally{if(F)throw A}}V+="</select>";var H=$(V).change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"font",a+"font",H.val(),b.default.type.select,l);l.executeCommand(e)}});s.append(H);for(var N='<select id="rbro_'+r+'font_size">',z=[8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],W=0;W<z.length;W++){var Y=z[W];N+='<option value="'+Y+'">'+Y+"</option>"}N+="</select>";var J=$(N).change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"font_size",a+"fontSize",J.val(),b.default.type.select,l);l.executeCommand(e)}});s.append(J),s.append("<span>"+l.getLabel("styleFontSizeUnit")+"</span>"),d.append(s),t.append(d),d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'line_spacing">'+l.getLabel("styleLineSpacing")+":</label>"),s=$('<div class="rbroFormField"></div>');var X=$('<select id="rbro_'+r+'line_spacing">\n                    <option value="1">1</option>\n                    <option value="1.1">1.1</option>\n                    <option value="1.2">1.2</option>\n                    <option value="1.3">1.3</option>\n                    <option value="1.4">1.4</option>\n                    <option value="1.5">1.5</option>\n                    <option value="1.6">1.6</option>\n                    <option value="1.7">1.7</option>\n                    <option value="1.8">1.8</option>\n                    <option value="1.9">1.9</option>\n                    <option value="2">2</option>\n                </select>').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"line_spacing",a+"lineSpacing",X.val(),b.default.type.select,l);l.executeCommand(e)}});s.append(X),d.append(s),t.append(d);var G=$('<div id="rbro_'+r+'border_div"></div>');d=$('<div class="rbroFormRow"></div>'),d.append("<label>"+l.getLabel("styleBorder")+":</label>"),s=$('<div class="rbroFormField"></div>');var U=$('<div id="rbro_'+r+'border"></div>'),K=$('<button id="rbro_'+r+'border_all" class="rbroButton rbroActionButton rbroIcon-border-all"\n                    type="button" value="'+a+'borderAll"\n                    title="'+l.getLabel("styleBorderAll")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_all",a+"borderAll",!K.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});U.append(K);var q=$('<button id="rbro_'+r+'border_left" class="rbroButton rbroActionButton rbroIcon-border-left"\n                    type="button" value="'+a+'borderLeft"\n                    title="'+l.getLabel("orientationLeft")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_left",a+"borderLeft",!q.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});U.append(q);var Q=$('<button id="rbro_'+r+'border_top" class="rbroButton rbroActionButton rbroIcon-border-top"\n                    type="button" value="'+a+'borderTop"\n                    title="'+l.getLabel("orientationTop")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_top",a+"borderTop",!Q.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});U.append(Q);var Z=$('<button id="rbro_'+r+'border_right" class="rbroButton rbroActionButton rbroIcon-border-right"\n                    type="button" value="'+a+'borderRight"\n                    title="'+l.getLabel("orientationRight")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_right",a+"borderRight",!Z.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});U.append(Z);var et=$('<button id="rbro_'+r+'border_bottom" class="rbroButton rbroActionButton rbroIcon-border-bottom"\n                    type="button" value="'+a+'borderBottom"\n                    title="'+l.getLabel("orientationBottom")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_bottom",a+"borderBottom",!et.hasClass("rbroButtonActive"),b.default.type.button,l);
l.executeCommand(e)}});U.append(et),s.append(U),d.append(s),G.append(d),d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'border_color">'+l.getLabel("styleBorderColor")+":</label>"),s=$('<div class="rbroFormField"></div>');var tt=$('<div class="rbroColorPickerContainer"></div>'),rt=$('<input id="rbro_'+r+'border_color">').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_color",a+"borderColor",rt.val(),b.default.type.color,l);l.executeCommand(e)}});tt.append(rt),s.append(tt),d.append(s),G.append(d),v.initColorPicker(rt,l),d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'border_width">'+l.getLabel("styleBorderWidth")+":</label>"),s=$('<div class="rbroFormField"></div>');var at=$('<input id="rbro_'+r+'border_width">').on("input",function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_width",a+"borderWidth",at.val(),b.default.type.text,l);l.executeCommand(e)}});s.append(at),d.append(s),G.append(d),v.setInputDecimal(at),t.append(G),e.renderPaddingControls(t,r,a,o,l)}}},{key:"updateStyleData",value:function(e,t,r,a){if(null!==e){$("#rbro_"+t+"halignment_left").prop("disabled",!1),$("#rbro_"+t+"halignment_center").prop("disabled",!1),$("#rbro_"+t+"halignment_right").prop("disabled",!1),$("#rbro_"+t+"valignment_top").prop("disabled",!1),$("#rbro_"+t+"valignment_middle").prop("disabled",!1),$("#rbro_"+t+"valignment_bottom").prop("disabled",!1),$("#rbro_"+t+"background_color").spectrum("enable"),$("#rbro_"+t+"border_all").prop("disabled",!1),$("#rbro_"+t+"border_left").prop("disabled",!1),$("#rbro_"+t+"border_top").prop("disabled",!1),$("#rbro_"+t+"border_right").prop("disabled",!1),$("#rbro_"+t+"border_bottom").prop("disabled",!1),$("#rbro_"+t+"border_color").spectrum("enable"),$("#rbro_"+t+"border_width").prop("disabled",!1),a===m.default.type.none&&$("#rbro_"+t+"name").prop("disabled",!1),(a===m.default.type.none||a===m.default.type.text)&&($("#rbro_"+t+"bold").prop("disabled",!1),$("#rbro_"+t+"italic").prop("disabled",!1),$("#rbro_"+t+"underline").prop("disabled",!1),$("#rbro_"+t+"strikethrough").prop("disabled",!1),$("#rbro_"+t+"halignment_justify").prop("disabled",!1),$("#rbro_"+t+"text_color").spectrum("enable"),$("#rbro_"+t+"font").prop("disabled",!1),$("#rbro_"+t+"font_size").prop("disabled",!1),$("#rbro_"+t+"line_spacing").prop("disabled",!1),$("#rbro_"+t+"padding_top").prop("disabled",!1),$("#rbro_"+t+"padding_left").prop("disabled",!1),$("#rbro_"+t+"padding_right").prop("disabled",!1),$("#rbro_"+t+"padding_bottom").prop("disabled",!1)),$("#rbro_"+t+"halignment_left").parent().find("button").removeClass("rbroButtonActive");var n=e.getValue(r+"horizontalAlignment");n===_.default.alignment.left?$("#rbro_"+t+"halignment_left").addClass("rbroButtonActive"):n===_.default.alignment.center?$("#rbro_"+t+"halignment_center").addClass("rbroButtonActive"):n===_.default.alignment.right?$("#rbro_"+t+"halignment_right").addClass("rbroButtonActive"):n===_.default.alignment.justify&&$("#rbro_"+t+"halignment_justify").addClass("rbroButtonActive"),$("#rbro_"+t+"valignment_top").parent().find("button").removeClass("rbroButtonActive");var o=e.getValue(r+"verticalAlignment");o==_.default.alignment.top?$("#rbro_"+t+"valignment_top").addClass("rbroButtonActive"):o===_.default.alignment.middle?$("#rbro_"+t+"valignment_middle").addClass("rbroButtonActive"):o===_.default.alignment.bottom&&$("#rbro_"+t+"valignment_bottom").addClass("rbroButtonActive"),(a===m.default.type.none||a===m.default.type.text||a===m.default.type.image)&&($("#rbro_"+t+"background_color").spectrum("set",e.getValue(r+"backgroundColor")),e.getValue(r+"borderAll")?$("#rbro_"+t+"border_all").addClass("rbroButtonActive"):$("#rbro_"+t+"border_all").removeClass("rbroButtonActive"),e.getValue(r+"borderLeft")?$("#rbro_"+t+"border_left").addClass("rbroButtonActive"):$("#rbro_"+t+"border_left").removeClass("rbroButtonActive"),e.getValue(r+"borderTop")?$("#rbro_"+t+"border_top").addClass("rbroButtonActive"):$("#rbro_"+t+"border_top").removeClass("rbroButtonActive"),e.getValue(r+"borderRight")?$("#rbro_"+t+"border_right").addClass("rbroButtonActive"):$("#rbro_"+t+"border_right").removeClass("rbroButtonActive"),e.getValue(r+"borderBottom")?$("#rbro_"+t+"border_bottom").addClass("rbroButtonActive"):$("#rbro_"+t+"border_bottom").removeClass("rbroButtonActive"),$("#rbro_"+t+"border_color").spectrum("set",e.getValue(r+"borderColor")),$("#rbro_"+t+"border_width").val(e.getValue(r+"borderWidth"))),a===m.default.type.none&&$("#rbro_"+t+"name").val(e.getName()),(a===m.default.type.none||a===m.default.type.text)&&(e.getValue(r+"bold")?$("#rbro_"+t+"bold").addClass("rbroButtonActive"):$("#rbro_"+t+"bold").removeClass("rbroButtonActive"),e.getValue(r+"italic")?$("#rbro_"+t+"italic").addClass("rbroButtonActive"):$("#rbro_"+t+"italic").removeClass("rbroButtonActive"),e.getValue(r+"underline")?$("#rbro_"+t+"underline").addClass("rbroButtonActive"):$("#rbro_"+t+"underline").removeClass("rbroButtonActive"),e.getValue(r+"strikethrough")?$("#rbro_"+t+"strikethrough").addClass("rbroButtonActive"):$("#rbro_"+t+"strikethrough").removeClass("rbroButtonActive"),$("#rbro_"+t+"text_color").spectrum("set",e.getValue(r+"textColor")),$("#rbro_"+t+"font").val(e.getValue(r+"font")),$("#rbro_"+t+"font_size").val(e.getValue(r+"fontSize")),$("#rbro_"+t+"line_spacing").val(e.getValue(r+"lineSpacing")),$("#rbro_"+t+"padding_top").val(e.getValue(r+"paddingTop")),$("#rbro_"+t+"padding_left").val(e.getValue(r+"paddingLeft")),$("#rbro_"+t+"padding_right").val(e.getValue(r+"paddingRight")),$("#rbro_"+t+"padding_bottom").val(e.getValue(r+"paddingBottom")))}else $("#rbro_"+t+"halignment_left").prop("disabled",!0),$("#rbro_"+t+"halignment_center").prop("disabled",!0),$("#rbro_"+t+"halignment_right").prop("disabled",!0),$("#rbro_"+t+"valignment_top").prop("disabled",!0),$("#rbro_"+t+"valignment_middle").prop("disabled",!0),$("#rbro_"+t+"valignment_bottom").prop("disabled",!0),$("#rbro_"+t+"background_color").spectrum("disable"),(a===m.default.type.none||a===m.default.type.text||a===m.default.type.image)&&($("#rbro_"+t+"border_left").prop("disabled",!0),$("#rbro_"+t+"border_top").prop("disabled",!0),$("#rbro_"+t+"border_right").prop("disabled",!0),$("#rbro_"+t+"border_bottom").prop("disabled",!0),$("#rbro_"+t+"border_color").spectrum("disable"),$("#rbro_"+t+"border_width").prop("disabled",!0)),a===m.default.type.none&&$("#rbro_"+t+"name").prop("disabled",!0),(a===m.default.type.none||a===m.default.type.text)&&($("#rbro_"+t+"bold").prop("disabled",!0),$("#rbro_"+t+"italic").prop("disabled",!0),$("#rbro_"+t+"underline").prop("disabled",!0),$("#rbro_"+t+"strikethrough").prop("disabled",!0),$("#rbro_"+t+"halignment_justify").prop("disabled",!0),$("#rbro_"+t+"text_color").spectrum("disable"),$("#rbro_"+t+"font").prop("disabled",!0),$("#rbro_"+t+"font_size").prop("disabled",!0),$("#rbro_"+t+"line_spacing").prop("disabled",!0),$("#rbro_"+t+"padding_top").prop("disabled",!0),$("#rbro_"+t+"padding_left").prop("disabled",!0),$("#rbro_"+t+"padding_right").prop("disabled",!0),$("#rbro_"+t+"padding_bottom").prop("disabled",!0))}}]),e}();t.default=g},function(e,t,r){e.exports={"default":r(109),__esModule:!0}},function(e){e.exports={}},function(e){e.exports=!0},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(13);a(d);var s=r(15),u=a(s),p=r(16),b=a(p),c=function(){function e(t,r,a,n,i,l){o.default(this,e),this.add=t,this.initialData=r,this.parentId=n,this.position=i,this.rb=l,this.id=a}return l.default(e,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new u.default(this.id,this.initialData,this.rb),r=new b.default("style",e.getPanelItem(),t,{draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),this.rb.addStyle(t)}}},{key:"deleteStyle",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.deleteStyle(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()))}}]),e}();t.default=c},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(41),b=n(p),c=r(2),_=a(c),h=function(){function e(t){d.default(this,e),this.rb=t,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=e.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=e.unit.mm,this.orientation=e.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=e.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=e.display.always,this.headerSizeVal=this.header?_.convertInputToNumber(this.headerSize):0,this.footerSizeVal=this.footer?_.convertInputToNumber(this.footerSize):0,this.patternLocale=t.getProperty("patternLocale"),this.patternCurrencySymbol=t.getProperty("patternCurrencySymbol"),this.width=0,this.height=0}return u.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.headerSizeVal=this.header?_.convertInputToNumber(this.headerSize):0,this.footerSizeVal=this.footer?_.convertInputToNumber(this.footerSize):0,this.marginLeftVal=_.convertInputToNumber(this.marginLeft),this.marginTopVal=_.convertInputToNumber(this.marginTop),this.marginRightVal=_.convertInputToNumber(this.marginRight),this.marginBottomVal=_.convertInputToNumber(this.marginBottom)}},{key:"setup",value:function(){var e=this.getPageSize();this.updatePageSize(e),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"marginLeft"===e||"marginTop"===e||"marginRight"===e||"marginBottom"===e?(this[e+"Val"]=_.convertInputToNumber(t),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):"header"===e?this.updateHeader():"footer"===e&&this.updateFooter(),("header"===e||"headerSize"===e)&&(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?_.convertInputToNumber(this.headerSize):0),("footer"===e||"footerSize"===e)&&(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?_.convertInputToNumber(this.footerSize):0),"pageFormat"===e||"pageWidth"===e||"pageHeight"===e||"unit"===e||"orientation"===e||"contentHeight"===e||"marginTop"===e||"marginBottom"===e){var r=this.getPageSize();this.updatePageSize(r)}}},{key:"updatePageSize",value:function(e){this.width=e.width,this.height=e.height,this.rb.getDocument().updatePageSize(e.width,e.height);var t=this.rb.getDocElements(!0),r=!0,a=!1,n=void 0;try{for(var o,l=i.default(t);!(r=(o=l.next()).done);r=!0){var d=o.value;d instanceof b.default&&d.setWidth(e.width)}}catch(s){a=!0,n=s}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var t=void 0,r=void 0,a=void 0,n=72;return this.pageFormat===e.pageFormat.A4?(this.orientation===e.orientation.portrait?(t=210,r=297):(t=297,r=210),a=e.unit.mm):this.pageFormat===e.pageFormat.A5?(this.orientation===e.orientation.portrait?(t=148,r=210):(t=210,r=148),a=e.unit.mm):this.pageFormat===e.pageFormat.letter?(this.orientation===e.orientation.portrait?(t=8.5,r=11):(t=11,r=8.5),a=e.unit.inch):(t=_.convertInputToNumber(this.pageWidth),r=_.convertInputToNumber(this.pageHeight),a=this.unit),a===e.unit.mm?(t=Math.round(n*t/25.4),r=Math.round(n*r/25.4)):(t=Math.round(n*t),r=Math.round(n*r)),this.contentHeight.trim()!==""&&(r=_.convertInputToNumber(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:t,height:r}}},{key:"getContentSize",value:function(){var e=this.getPageSize(),t=void 0;return t=this.contentHeight.trim()!==""?_.convertInputToNumber(this.contentHeight):e.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:e.width-this.marginLeftVal-this.marginRightVal,height:t}}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.getFields());!(t=(n=o.next()).done);t=!0){var l=n.value;e[l]=this.getValue(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}}]),e}();t.default=h,h.outputFormat={pdf:"pdf",xlsx:"xlsx"},h.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},h.unit={mm:"mm",inch:"inch"},h.orientation={portrait:"portrait",landscape:"landscape"},h.display={always:"always",notOnFirstPage:"not_on_first_page"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(8),p=a(u),b=r(10),c=a(b),_=r(7),h=a(_),m=r(3),f=a(m),v=r(85),g=a(v),y=r(14),w=a(y),I=r(11),C=a(I),x=r(16),k=a(x),D=function(e){function t(e,r,a){l.default(this,t);var n=p.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementSection"),e,-1,60,a));return n.setupComplete=!1,n.dataSource="",n.label="",n.header=!1,n.footer=!1,n.headerData=null,n.contentData=null,n.footerData=null,n.setInitialData(r),n}return h.default(t,e),s.default(t,[{key:"setup",value:function(e){c.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(w.default.bandType.header,null),this.contentData=this.createBand(w.default.bandType.content,null),this.footerData=this.createBand(w.default.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t){var r=void 0,a=e+"Data",n=void 0,o={hasChildren:!0,showDelete:!1};t?r=t:this[a]?(r=this[a],n=r.id):r={},r.parentId=this.id,r.containerId=this.containerId,n||(n=this.rb.getUniqueId());var i=0;e===w.default.bandType.header?r.y=""+i:e===w.default.bandType.content?(this.header&&this.headerData!==null&&(i+=this.headerData.getValue("heightVal")),r.y=""+i):e===w.default.bandType.footer&&(this.header&&this.headerData!==null&&(i+=this.headerData.getValue("heightVal")),this.contentData!==null&&(i+=this.contentData.getValue("heightVal")),r.y=""+i),(e===w.default.bandType.header&&!this.header||e===w.default.bandType.footer&&!this.footer)&&(o.visible=!1);var l=new g.default(n,r,e,this.rb);this.rb.addDataObject(l);var d=new k.default("section_band",this.panelItem,l,o,this.rb);return l.setPanelItem(d),this.panelItem.appendChild(d),l.setup(),e===w.default.bandType.header?l.show(this.header):e===w.default.bandType.footer&&l.show(this.footer),l}},{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.rb.isSelectedObject(e.id)||(e.rb.selectObject(e.id,!0),t.stopPropagation())}).mousedown(function(t){t.shiftKey?e.rb.deselectObject(e.id):e.rb.isSelectedObject(e.id)?e.rb.getDocument().startDrag(t.originalEvent.pageX,t.originalEvent.pageY,e.id,e.containerId,e.linkedContainerId,e.getElementType(),f.default.dragType.element):e.rb.deselectAll(),t.stopPropagation()})}},{key:"getMaxId",value:function(){var e=this.id;return this.footerData!==null&&(e=this.footerData.getMaxId()),e}},{key:"appendContainerChildren",value:function(e){this.headerData!==null&&this.headerData.appendContainerChildren(e),this.contentData!==null&&this.contentData.appendContainerChildren(e),this.footerData!==null&&this.footerData.appendContainerChildren(e)}},{key:"setValue",value:function(e,r,a,n){c.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r,a,n),"label"===e||"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):"containerId"===e&&(this.headerData.containerId=r,this.contentData.containerId=r,this.footerData.containerId=r),("header"===e||"footer"===e)&&this.updateBands(null)}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"getFields",value:function(){return["id","containerId","y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return f.default.type.section}},{key:"getSizers",value:function(){return[]}},{key:"getYTagId",value:function(){return"rbro_section_element_position_y"}},{key:"getHeightTagId",value:function(){return""}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroSectionElement"></div>'),this.el.append($('<div id="rbro_divider_section_top'+this.id+'" class="rbroDivider rbroDividerSection" style="top: 0px"></div>')),this.el.append($('<div id="rbro_divider_section_header'+this.id+'" class="rbroDivider rbroDividerSectionBand rbroHidden"></div>')),this.el.append($('<div id="rbro_divider_section_footer'+this.id+'" class="rbroDivider rbroDividerSectionBand rbroHidden"></div>')),this.el.append($('<div id="rbro_divider_section_bottom'+this.id+'" class="rbroDivider rbroDividerSection"></div>')),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){c.default(t.prototype.__proto__||o.default(t.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"setWidth",value:function(e){this.widthVal=e,this.width=""+e,this.headerData!==null&&(this.headerData.widthVal=e,this.headerData.width=""+e),this.contentData!==null&&(this.contentData.widthVal=e,this.contentData.width=""+e),this.footerData!==null&&(this.footerData.widthVal=e,this.footerData.width=""+e)}},{key:"updateHeight",value:function(e,t){var r=0;this.header&&this.headerData!==null?(r+=e===this.headerData?t:this.headerData.getValue("heightVal"),$("#rbro_divider_section_header"+this.id).css({top:this.rb.toPixel(r)}).removeClass("rbroHidden")):$("#rbro_divider_section_header"+this.id).addClass("rbroHidden"),this.contentData!==null&&(r+=e===this.contentData?t:this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?($("#rbro_divider_section_footer"+this.id).css({top:this.rb.toPixel(r)}).removeClass("rbroHidden"),r+=e===this.footerData?t:this.footerData.getValue("heightVal")):$("#rbro_divider_section_footer"+this.id).addClass("rbroHidden"),$("#rbro_divider_section_bottom"+this.id).css({top:this.rb.toPixel(r)}),this.height=""+r,this.heightVal=r,this.updateDisplay()}},{key:"updateBands",value:function(e){if(this.setupComplete){var t=0;this.header&&(this.headerData!==e&&this.headerData.setValue("y",""+t,null,!0),t+=this.headerData.getValue("heightVal")),this.contentData!==e&&this.contentData.setValue("y",""+t,null,!0),t+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==e&&this.footerData.setValue("y",""+t,null,!0)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var e=[],t=void 0,r=["headerData","contentData","footerData"],a=0;a<r.length;a++){var n=r[a];this[n]!==null&&(t=this[n].getLinkedContainer(),null!==t&&e.push(t))}return e}},{key:"getDataSource",value:function(){var e=[],t=this.dataSource.trim(),r="";if(t.length>=3&&t.substr(0,2)==="${"&&t.charAt(t.length-1)==="}"){r=t.substring(2,t.length-1);var a=this.rb.getParameterByName(r);null!==a&&a.getValue("type")===C.default.type.array&&(e=a.getChildren())}return{name:r,parameters:e}}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_section_element_data_source","dataSource",r),this.addCommandForChangedParameterName(e,t,"rbro_section_element_print_if","printIf",r)}},{key:"toJS",value:function(){var e=c.default(t.prototype.__proto__||o.default(t.prototype),"toJS",this).call(this);return e.headerData=this.headerData.toJS(),e.contentData=this.contentData.toJS(),e.footerData=this.footerData.toJS(),e}}]),t}(f.default);t.default=D},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(6),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(8),_=n(c),h=r(10),m=n(h),f=r(7),v=n(f),g=r(3),y=n(g),w=r(86),I=n(w),C=r(21),x=n(C),k=r(11),D=n(k),O=r(16),P=n(O),S=r(2),j=a(S),E=function(e){function t(e,r,a){u.default(this,t);var n=_.default(this,(t.__proto__||d.default(t)).call(this,a.getLabel("docElementTable"),e,200,40,a));return n.setupComplete=!1,n.dataSource="",n.borderColor="#000000",n.borderWidth="1",n.border=t.border.grid,n.header=!0,n.footer=!1,n.contentRows="1",n.columns="2",n.headerData=null,n.contentDataRows=[],n.footerData=null,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=j.convertInputToNumber(n.borderWidth),n}return v.default(t,e),b.default(t,[{key:"setup",value:function(e){m.default(t.prototype.__proto__||d.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var r=j.convertInputToNumber(this.contentRows);1>r&&(r=1);for(var a=[],n=0;r>n;n++)a.push(this.createBand("content",n,null));this.contentDataRows=a,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateWidth(),this.updateHeight(),this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t,r){var a=void 0,n=e+("content"===e?"DataRows":"Data"),o=void 0,i={hasChildren:!0,showDelete:!1};r?a=r:this[n]&&("content"!==e||-1!==t&&t<this[n].length)?(a="content"===e?this[n][t]:this[n],o=a.id):a={},a.parentId=this.id,o||(o=this.rb.getUniqueId()),("header"===e&&!this.header||"footer"===e&&!this.footer)&&(i.visible=!1);var l=new I.default(o,a,e,this.rb);this.rb.addDataObject(l);var d=new P.default("table_band",this.panelItem,l,i,this.rb);l.setPanelItem(d),this.panelItem.appendChild(d),l.setup();var s=j.convertInputToNumber(this.columns);return l.createColumns(s,!1,-1,!1),d.open(),"header"===e?l.show(this.header):"footer"===e&&l.show(this.footer),l}},{key:"getMaxId",value:function(){var e=this.id,t=void 0;t=this.headerData.getMaxId(),t>e&&(e=t);for(var r=0;r<this.contentDataRows.length;r++)t=this.contentDataRows[r].getMaxId(),t>e&&(e=t);return t=this.footerData.getMaxId(),t>e&&(e=t),e}},{key:"setValue",value:function(e,r,a,n){m.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,e,r,a,n),"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e.indexOf("border")!==-1&&("borderWidth"===e&&(this.borderWidthVal=j.convertInputToNumber(r)),this.updateStyle()),("header"===e||"footer"===e||"contentRows"===e)&&this.updateHeight()}},{key:"updateDisplayInternal",value:function(e,t){if(this.el!==null){var r={left:this.rb.toPixel(e),top:this.rb.toPixel(t)};this.el.css(r)}}},{key:"updateStyle",value:function(){var e=this.el.find("table"),r=void 0;this.border===t.border.grid||this.border===t.border.frameRow||this.border===t.border.frame?e.css({"border-style":"solid","border-width":this.borderWidthVal+"px","border-color":this.borderColor}):e.css({"border-style":"none"});var a=void 0;for(a=this.border===t.border.grid||this.border===t.border.frameRow||this.border===t.border.row?{"border-style":"solid none solid none","border-width":this.borderWidthVal+"px","border-color":this.borderColor}:{"border-style":"none"},this.headerData.getElement().css(a),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].getElement().css(a);for(this.footerData.getElement().css(a),a=this.border===t.border.grid?{"border-style":"none solid none solid","border-width":this.borderWidthVal+"px","border-color":this.borderColor}:{"border-style":"none"},this.headerData.getElement().find("td").css(a),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].getElement().find("td").css(a);this.footerData.getElement().find("td").css(a),this.el.removeClass("rbroBorderTableGrid rbroBorderTableFrameRow rbroBorderTableFrame rbroBorderTableRow rbroBorderTableNone"),this.el.addClass("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){return["id","containerId","x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return y.default.type.table}},{key:"select",value:function(){m.default(t.prototype.__proto__||d.default(t.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),r=["NE","SE","SW","NW"],a=0;a<r.length;a++){var n=r[a];e.append($('<div class="rbroSizer rbroSizer'+n+' rbroSizerInactive"></div>'))}}},{key:"getSizers",value:function(){return[]}},{key:"getXTagId",value:function(){return"rbro_table_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_table_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_table_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_table_element_height"}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<div class="rbroDocElement rbroTableElement">\n                <table id="rbro_el_table'+this.id+'">\n                    <thead id="rbro_el_table_header'+this.id+'">\n                    </thead>\n                    <tbody id="rbro_el_table_content'+this.id+'">\n                    </tbody>\n                    <tfoot id="rbro_el_table_footer'+this.id+'">\n                    </tfoot>\n                </table>\n            </div>'),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){m.default(t.prototype.__proto__||d.default(t.prototype),"remove",this).call(this),this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var e=0;e<this.contentDataRows.length;e++)this.rb.deleteDataObject(this.contentDataRows[e]),this.contentDataRows[e].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null}},{key:"updateColumnWidth",value:function(e,t,r){if(this.setupComplete){this.headerData.updateColumnWidth(e,t);for(var a=0;a<this.contentDataRows.length;a++)this.contentDataRows[a].updateColumnWidth(e,t);this.footerData.updateColumnWidth(e,t),r&&this.updateWidth()}}},{key:"updateWidth",value:function(){if(this.setupComplete){var e=this.headerData.getWidth();this.width=""+e,this.widthVal=e,$("#rbro_el_table"+this.id).css("width",this.widthVal+1+"px")}}},{key:"updateHeight",value:function(){if(this.setupComplete){var e=0;this.header&&(e+=this.headerData.getHeight());for(var t=0;t<this.contentDataRows.length;t++)e+=this.contentDataRows[t].getHeight();this.footer&&(e+=this.footerData.getHeight()),this.height=""+e,this.heightVal=e}}},{key:"notifyColumnWidthResized",value:function(e,t,r){if(this.setupComplete){if(e!==this.headerData){var a=this.headerData.getColumn(t);null!==a&&a.updateDisplayInternalNotify(0,0,r,a.getValue("heightVal"),!1)}for(var n=0;n<this.contentDataRows.length;n++)if(e!==this.contentDataRows[n]){var o=this.contentDataRows[n].getColumn(t);null!==o&&o.updateDisplayInternalNotify(0,0,r,o.getValue("heightVal"),!1)}if(e!==this.footerData){var i=this.footerData.getColumn(t);null!==i&&i.updateDisplayInternalNotify(0,0,r,i.getValue("heightVal"),!1)}var l=this.headerData.getWidth(),d=this.headerData.getColumn(t);null!==d&&(l-=d.getValue("widthVal")-r),$("#rbro_el_table"+this.id).css("width",l+1+"px")}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"getDataSource",value:function(){var e=[],t=this.dataSource.trim(),r="";if(t.length>=3&&t.substr(0,2)==="${"&&t.charAt(t.length-1)==="}"){r=t.substring(2,t.length-1);var a=this.rb.getParameterByName(r);null!==a&&a.getValue("type")===D.default.type.array&&(e=a.getChildren())}return{name:r,parameters:e}}},{key:"getContentRowIndex",value:function(e){for(var t=0;t<this.contentDataRows.length;t++)if(e===this.contentDataRows[t])return t;return-1}},{key:"addChildren",value:function(e){var t=void 0;for(e.push(this.headerData),t=0;t<this.contentDataRows.length;t++)e.push(this.contentDataRows[t]);for(e.push(this.footerData),this.headerData.addChildren(e),t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].addChildren(e);this.footerData.addChildren(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_table_element_data_source","dataSource",r)}},{key:"createSpaceForNewColumns",value:function(e,r){for(var a=t.getColumnMinWidth(),n=e*a,o=r-1;o>=0;){var i=this.headerData.getColumn(o),l=i.getValue("widthVal")-a,d=a;if(l>n&&(d=i.getValue("widthVal")-n),this.updateColumnWidth(o,d,!1),n-=l,0>=n)break;o--}}},{key:"addCommandsForChangedColumns",value:function(e,r){var a=j.convertInputToNumber(this.columns),n=Math.floor(this.widthVal/t.getColumnMinWidth());
if(e>a&&e>n)return a;var o=new x.default(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(r.addCommand(o),e>a)this.createSpaceForNewColumns(e-a,a);else if(a>e){for(var i=0,l=0;e>l;l++)i+=this.headerData.getColumn(l).getValue("widthVal");var d=this.headerData.getColumn(e-1);this.widthVal-i>0&&this.updateColumnWidth(e-1,d.getValue("widthVal")+(this.widthVal-i),!1)}this.columns=e,this.headerData.createColumns(e,!0,-1,!1);for(var s=0;s<this.contentDataRows.length;s++)this.contentDataRows[s].createColumns(e,!0,-1,!1);return this.footerData.createColumns(e,!0,-1,!1),o=new x.default(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),r.addCommand(o),e}},{key:"addCommandsForChangedContentRows",value:function(e,t){if(e!==j.convertInputToNumber(this.contentRows)){var r=new x.default(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);t.addCommand(r);var a=void 0;if(e<this.contentDataRows.length){for(a=e;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows.splice(e,this.contentDataRows.length-e)}else{var n=void 0;if(this.contentDataRows.length>0){n={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var o=!0,l=!1,d=void 0;try{for(var s,u=i.default(this.contentDataRows[0].columnData);!(o=(s=u.next()).done);o=!0){var p=s.value;n.columnData.push({width:p.width})}}catch(b){l=!0,d=b}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}for(a=this.contentDataRows.length;e>a;a++)this.contentDataRows.push(this.createBand("content",a,n))}this.contentRows=""+e,r=new x.default(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(r)}}},{key:"toJS",value:function(){var e=m.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this);e.headerData=this.headerData.toJS();for(var r=[],a=0;a<this.contentDataRows.length;a++)r.push(this.contentDataRows[a].toJS());return e.contentDataRows=r,e.footerData=this.footerData.toJS(),e}}],[{key:"removeIds",value:function(e){for(var r=["headerData","footerData"],a=0;a<r.length;a++){var n=r[a];t.removeBandIds(e[n])}for(var o=0;o<e.contentDataRows.length;o++)t.removeBandIds(e.contentDataRows[o])}},{key:"removeBandIds",value:function(e){delete e.id;var t=e.columnData,r=!0,a=!1,n=void 0;try{for(var o,l=i.default(t);!(r=(o=l.next()).done);r=!0){var d=o.value;delete d.id}}catch(s){a=!0,n=s}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"getColumnMinWidth",value:function(){return 20}}]),t}(y.default);t.default=E,E.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var a=r(26),n=r(128),o=r(45),i=r(51)("IE_PROTO"),l=function(){},d="prototype",s=function(){var e,t=r(64)("iframe"),a=o.length,n="<",i=">";for(t.style.display="none",r(122).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(n+"script"+i+"document.F=Object"+n+"/script"+i),e.close(),s=e.F;a--;)delete s[d][o[a]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(l[d]=a(e),r=new l,l[d]=null,r[i]=e):r=s(),void 0===t?r:n(r,t)}},function(e,t,r){var a=r(49),n=r(37),o=r(25),i=r(54),l=r(23),d=r(65),s=Object.getOwnPropertyDescriptor;t.f=r(22)?s:function(e,t){if(e=o(e),t=i(t,!0),d)try{return s(e,t)}catch(r){}return l(e,t)?n(!a.f.call(e,t),e[t]):void 0}},function(e,t,r){var a=r(70),n=r(45);e.exports=Object.keys||function(e){return a(e,n)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var a=r(24).f,n=r(23),o=r(19)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},function(e,t,r){var a=r(52)("keys"),n=r(38);e.exports=function(e){return a[e]||(a[e]=n(e))}},function(e,t,r){var a=r(9),n=r(18),o="__core-js_shared__",i=n[o]||(n[o]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:r(36)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,t,r){var a=r(29);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!a(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var a=r(18),n=r(9),o=r(36),i=r(56),l=r(24).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});e.charAt(0)=="_"||e in t||l(t,e,{value:i.f(e)})}},function(e,t,r){t.f=r(19)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(13),s=a(d),u=r(11),p=a(u),b=r(16),c=a(b),_=function(){function e(t,r,a,n,i,l){o.default(this,e),this.add=t,this.initialData=r,this.parentId=n,this.position=i,this.rb=l,this.id=a}return l.default(e,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new p.default(this.id,this.initialData,this.rb);this.rb.addParameter(t);var r=new c.default("parameter",e.getPanelItem(),t,{hasChildren:!0,showAdd:!0,draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),t.setup(),this.rb.notifyEvent(t,s.default.operation.add)}}},{key:"deleteParameter",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.notifyEvent(e,s.default.operation.remove),this.rb.deleteParameter(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()))}}]),e}();t.default=_},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(13),s=a(d),u=r(3),p=a(u),b=r(20);a(b);var c=function(){function e(t,r,a,n){if(o.default(this,e),this.objId=t.getId(),this.moveToParentId=r.getId(),this.moveToPosition=a,this.oldParentId=t.getParent().getId(),this.oldPosition=t.getSiblingPosition(),this.oldContainerId=null,this.moveToContainerId=null,t.getData()instanceof p.default){var i=t.getData();this.oldContainerId=i.getValue("containerId");var l=n.getMainPanel().getContainerByItem(r);null!==l&&(this.moveToContainerId=l.getId())}this.rb=n}return l.default(e,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var e=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<e&&e--,this.moveTo(this.moveToParentId,e,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(e,t){var r=this.rb.getDataObject(this.objId),a=this.rb.getDataObject(e);null!==r&&null!==a&&(r.getPanelItem().moveToPosition(a.getPanelItem(),t),r.getPanelItem().openParentItems(),this.rb.notifyEvent(r,s.default.operation.move))}}]),e}();t.default=c},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(3),v=n(f),g=r(21);n(g);var y=r(81),w=n(y),I=r(4);n(I);var C=r(15),x=n(C),k=r(16);n(k);var D=r(2),O=a(D),P=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementFrame"),e,100,100,a));return n.frame=null,n.setupComplete=!1,n.label="",n.backgroundColor="",n.borderAll=!1,n.borderLeft=!1,n.borderTop=!1,n.borderRight=!1,n.borderBottom=!1,n.borderColor="#000000",n.borderWidth="1",n.shrinkToContentHeight=!1,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=O.convertInputToNumber(n.borderWidth),n}return m.default(t,e),u.default(t,[{key:"setup",value:function(e){this.borderWidthVal=O.convertInputToNumber(this.borderWidth),_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new w.default(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.rb.isSelectedObject(e.id)||(e.rb.selectObject(e.id,!0),t.stopPropagation())}).mousedown(function(t){t.shiftKey?e.rb.deselectObject(e.id):e.rb.isSelectedObject(e.id)?e.rb.getDocument().startDrag(t.originalEvent.pageX,t.originalEvent.pageY,e.id,e.containerId,e.linkedContainerId,e.getElementType(),v.default.dragType.element):e.rb.deselectAll(),t.stopPropagation()})}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,r,a,n){e.indexOf("border")!==-1&&(this[e]=r,"borderWidth"===e&&(this.borderWidthVal=O.convertInputToNumber(r)),x.default.setBorderValue(this,e,"",r,a,n)),_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"label"===e&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}this.borderLeft&&(r-=this.borderWidthVal),this.borderRight&&(r-=this.borderWidthVal),this.borderTop&&(a-=this.borderWidthVal),this.borderBottom&&(a-=this.borderWidthVal);var o={};o.width=this.rb.toPixel(r),o.height=this.rb.toPixel(a),$("#rbro_el_content_frame"+this.id).css(o)}},{key:"updateStyle",value:function(){var e={},t={};e["background-color"]=this.getValue("backgroundColor"),this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(t["border-style"]=this.getValue("borderTop")?"solid":"none",t["border-style"]+=this.getValue("borderRight")?" solid":" none",t["border-style"]+=this.getValue("borderBottom")?" solid":" none",t["border-style"]+=this.getValue("borderLeft")?" solid":" none",t["border-width"]=this.getValue("borderWidthVal")+"px",t["border-color"]=this.getValue("borderColor")):t["border-style"]="none",$("#rbro_el_content"+this.id).css(t),this.el.css(e)}},{key:"getFields",value:function(){return["id","containerId","linkedContainerId","label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.frame}},{key:"getXTagId",value:function(){return"rbro_frame_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_frame_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_frame_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_frame_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroFrameElement rbroElementContainer"></div>'),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_frame'+this.id+'" class="rbroDocElementContentFrame"></div>'))),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return $("#rbro_el_content_frame"+this.id)}},{key:"remove",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.name=this.label.trim()!==""?this.label:this.rb.getLabel("docElementFrame"),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_frame_element_print_if","printIf",r)}}]),t}(v.default);t.default=P},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(8),p=a(u),b=r(10),c=a(b),_=r(7),h=a(_),m=r(3),f=a(m),v=function(e){function t(e,r,a){l.default(this,t);var n=p.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementPageBreak"),e,-1,1,a));return n.setInitialData(r),n}return h.default(t,e),s.default(t,[{key:"setup",value:function(e){c.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r,a,n){c.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r,a,n)}},{key:"getFields",value:function(){return["id","containerId","y"]}},{key:"getElementType",value:function(){return f.default.type.pageBreak}},{key:"updateDisplayInternal",value:function(e,t){if(this.el!==null){var r={left:this.rb.toPixel(0),top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(1)};this.el.css(r)}}},{key:"getSizers",value:function(){return[]}},{key:"getYTagId",value:function(){return"rbro_page_break_element_position_y"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroPageBreakElement"></div>'),this.appendToContainer(),c.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}}]),t}(f.default);t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(3),v=n(f),g=r(15),y=n(g),w=r(2),I=a(w),C=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementText"),e,100,20,a));return n.content="",n.eval=!1,n.styleId="",n.bold=!1,n.italic=!1,n.underline=!1,n.strikethrough=!1,n.horizontalAlignment=y.default.alignment.left,n.verticalAlignment=y.default.alignment.top,n.textColor="#000000",n.backgroundColor="",n.font=y.default.font.helvetica,n.fontSize=12,n.lineSpacing=1,n.borderColor="#000000",n.borderWidth="1",n.borderAll=!1,n.borderLeft=!1,n.borderTop=!1,n.borderRight=!1,n.borderBottom=!1,n.paddingLeft="2",n.paddingTop="2",n.paddingRight="2",n.paddingBottom="2",n.cs_condition="",n.cs_styleId="",n.cs_bold=!1,n.cs_italic=!1,n.cs_underline=!1,n.cs_strikethrough=!1,n.cs_horizontalAlignment=y.default.alignment.left,n.cs_verticalAlignment=y.default.alignment.top,n.cs_textColor="#000000",n.cs_backgroundColor="",n.cs_font=y.default.font.helvetica,n.cs_fontSize=12,n.cs_lineSpacing=1,n.cs_borderColor="#000000",n.cs_borderWidth="1",n.cs_borderAll=!1,n.cs_borderLeft=!1,n.cs_borderTop=!1,n.cs_borderRight=!1,n.cs_borderBottom=!1,n.cs_paddingLeft="2",n.cs_paddingTop="2",n.cs_paddingRight="2",n.cs_paddingBottom="2",n.alwaysPrintOnSamePage=!0,n.pattern="",n.link="",n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_colspan="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=I.convertInputToNumber(n.borderWidth),n}return m.default(t,e),u.default(t,[{key:"setup",value:function(e){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle(),this.updateContent(this.content)}},{key:"setValue",value:function(e,r,a,n){e.indexOf("border")!==-1&&(this[e]=r,e.substr(0,3)==="cs_"?y.default.setBorderValue(this,e,"cs_",r,a,n):("borderWidth"===e&&(this.borderWidthVal=I.convertInputToNumber(r)),y.default.setBorderValue(this,e,"",r,a,n))),_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"content"===e?this.updateContent(r):"width"===e||"height"===e?this.updateDisplay():"styleId"===e?""!==r?$("#rbro_text_element_style_settings").hide():$("#rbro_text_element_style_settings").show():"cs_styleId"===e&&(""!==r?$("#rbro_text_element_cs_style_settings").hide():$("#rbro_text_element_cs_style_settings").show())}},{key:"getFields",value:function(){return["id","containerId","x","y","width","height","content","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.text}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}var o=this.getContentSize(r,a,this.getStyle()),i={};i.width=this.rb.toPixel(o.width),i.height=this.rb.toPixel(o.height),$("#rbro_el_content_text"+this.id).css(i)}},{key:"getStyle",value:function(){var e=this;if(this.styleId!==""){var t=this.rb.getDataObject(this.styleId);null!==t&&(e=t)}return e}},{key:"getContentSize",value:function(e,t,r){var a=r.getValue("borderWidthVal");return e-=I.convertInputToNumber(r.getValue("paddingLeft"))+I.convertInputToNumber(r.getValue("paddingRight")),r.getValue("borderLeft")&&(e-=a),r.getValue("borderRight")&&(e-=a),t-=I.convertInputToNumber(r.getValue("paddingTop"))+I.convertInputToNumber(r.getValue("paddingBottom")),r.getValue("borderTop")&&(t-=a),r.getValue("borderBottom")&&(t-=a),{width:e,height:t}}},{key:"updateStyle",value:function(){var e={},t={},r=this.getStyle(),a=this.getContentSize(this.widthVal,this.heightVal,r),n=r.getValue("horizontalAlignment"),o=r.getValue("verticalAlignment"),i="rbroDocElementAlign"+n.charAt(0).toUpperCase()+n.slice(1),l="rbroDocElementVAlign"+o.charAt(0).toUpperCase()+o.slice(1);e.width=this.rb.toPixel(a.width),e.height=this.rb.toPixel(a.height),e["text-align"]=n,e["vertical-align"]=o,e["background-color"]=r.getValue("backgroundColor"),e["font-weight"]=r.getValue("bold")?"bold":"",e["font-style"]=r.getValue("italic")?"italic":"normal",e["text-decoration"]=r.getValue("underline")&&r.getValue("strikethrough")?"underline line-through":r.getValue("underline")?"underline":r.getValue("strikethrough")?"line-through":"none",e.color=r.getValue("textColor"),e["font-family"]=r.getValue("font"),e["font-size"]=r.getValue("fontSize")+"px",e["line-height"]=r.getValue("lineSpacing")*100+"%",r.getValue("borderLeft")||r.getValue("borderTop")||r.getValue("borderRight")||r.getValue("borderBottom")?(t["border-style"]=r.getValue("borderTop")?"solid":"none",t["border-style"]+=r.getValue("borderRight")?" solid":" none",t["border-style"]+=r.getValue("borderBottom")?" solid":" none",t["border-style"]+=r.getValue("borderLeft")?" solid":" none",t["border-width"]=r.getValue("borderWidthVal")+"px",t["border-color"]=r.getValue("borderColor")):t["border-style"]="none",r.getValue("paddingLeft")!==""||r.getValue("paddingTop")!==""||r.getValue("paddingRight")!==""||r.getValue("paddingBottom")!==""?(e.padding=this.rb.toPixel(r.getValue("paddingTop")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingRight")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingBottom")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingLeft"))):e.padding="",$("#rbro_el_content"+this.id).css(t),$("#rbro_el_content"+this.id).removeClass().addClass("rbroContentContainerHelper").addClass(i).addClass(l),$("#rbro_el_content_text"+this.id).css(e)}},{key:"getXTagId",value:function(){return"rbro_text_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_text_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_text_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_text_element_height"}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroTextElement"></div>'),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_text'+this.id+'" class="rbroDocElementContentText"></div>').append($('<span id="rbro_el_content_text_data'+this.id+'"></span>')))),this.appendToContainer(),$("#rbro_el_content_text_data"+this.id).text(this.content),_.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(e){this.name=e.trim()===""?this.rb.getLabel("docElementText"):e,$("#rbro_menu_item_name"+this.id).text(this.name),$("#rbro_menu_item_name"+this.id).attr("title",this.name),$("#rbro_el_content_text_data"+this.id).text(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_text_element_content","content",r),this.addCommandForChangedParameterName(e,t,"rbro_text_element_print_if","printIf",r),this.addCommandForChangedParameterName(e,t,"rbro_text_element_cs_condition","cs_condition",r)}},{key:"toJS",value:function(){for(var e=_.default(t.prototype.__proto__||i.default(t.prototype),"toJS",this).call(this),r=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"],a=0;a<r.length;a++){var n=r[a];e[n]=I.convertInputToNumber(this.getValue(n))}return e}}]),t}(v.default);t.default=C},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(107),o=a(n),i=r(106),l=a(i),d=typeof l.default=="function"&&typeof o.default=="symbol"?function(e){return typeof e}:function(e){return e&&typeof l.default=="function"&&e.constructor===l.default&&e!==l.default.prototype?"symbol":typeof e};t.default=typeof l.default=="function"&&d(o.default)==="symbol"?function(e){return"undefined"==typeof e?"undefined":d(e)}:function(e){return e&&typeof l.default=="function"&&e.constructor===l.default&&e!==l.default.prototype?"symbol":"undefined"==typeof e?"undefined":d(e)}},function(e,t,r){var a=r(117);e.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var a=r(29),n=r(18).document,o=a(n)&&a(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){e.exports=!r(22)&&!r(30)(function(){return Object.defineProperty(r(64)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){"use strict";var a=r(36),n=r(27),o=r(72),i=r(28),l=r(35),d=r(125),s=r(50),u=r(69),p=r(19)("iterator"),b=!([].keys&&"next"in[].keys()),c="@@iterator",_="keys",h="values",m=function(){return this};e.exports=function(e,t,r,f,v,g,y){d(r,t,f);var w,I,$,C=function(e){if(!b&&e in O)return O[e];switch(e){case _:return function(){return new r(this,e)};case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",k=v==h,D=!1,O=e.prototype,P=O[p]||O[c]||v&&O[v],S=P||C(v),j=v?k?C("entries"):S:void 0,E="Array"==t?O.entries||P:P;if(E&&($=u(E.call(new e)),$!==Object.prototype&&$.next&&(s($,x,!0),a||typeof $[p]=="function"||i($,p,m))),k&&P&&P.name!==h&&(D=!0,S=function(){return P.call(this)}),a&&!y||!b&&!D&&O[p]||i(O,p,S),l[t]=S,l[x]=m,v)if(w={values:k?S:C(h),keys:g?S:C(_),entries:j},y)for(I in w)I in O||o(O,I,w[I]);else n(n.P+n.F*(b||D),t,w);return w}},function(e,t,r){var a=r(70),n=r(45).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var a=r(23),n=r(73),o=r(51)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,o)?e[o]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,r){var a=r(23),n=r(25),o=r(119)(!1),i=r(51)("IE_PROTO");e.exports=function(e,t){var r,l=n(e),d=0,s=[];for(r in l)r!=i&&a(l,r)&&s.push(r);for(;t.length>d;)a(l,r=t[d++])&&(~o(s,r)||s.push(r));return s}},function(e,t,r){var a=r(27),n=r(9),o=r(30);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],i={};i[e]=t(r),a(a.S+a.F*o(function(){r(1)}),"Object",i)}},function(e,t,r){e.exports=r(28)},function(e,t,r){var a=r(44);e.exports=function(e){return Object(a(e))}},function(e,t,r){"use strict";var a=r(131)(!0);r(66)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){r(136);for(var a=r(18),n=r(28),o=r(35),i=r(19)("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),d=0;d<l.length;d++){var s=l[d],u=a[s],p=u&&u.prototype;p&&!p[i]&&n(p,i,s),o[s]=o.Array}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(80),o=a(n);$.fn.reportBro=function(e){var t=Array.prototype.slice.call(arguments,1),r=null;return this.each(function(a,n){var i,l=$(n),d=l.data("reportBro");"string"==typeof e?d&&$.isFunction(d[e])&&(i=d[e].apply(d,t),0===a&&(r=i),"destroy"===e&&l.removeData("reportBro")):(d||(d=new o.default(l,e),l.data("reportBro",d),d.render(),d.setup()),r=d)}),r}},function(){},function(){},function(){},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(34),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(20),_=n(c),h=r(12),m=n(h),f=r(21),v=n(f),g=r(57),y=n(g),w=r(39),I=n(w),C=r(13),x=n(C),k=r(17),D=n(k),O=r(4),P=n(O),S=r(14),j=n(S),E=r(31),V=n(E),T=r(40),F=n(T),A=r(11),B=n(A),L=r(15),M=n(L),R=r(3),H=n(R),N=r(59),z=n(N),W=r(60),Y=n(W),J=r(41),X=n(J),G=r(42),U=n(G),K=r(32),q=n(K),Q=r(89),Z=n(Q),et=r(90),tt=n(et),rt=r(91),at=n(rt),nt=r(92),ot=n(nt),it=r(93),lt=n(it),dt=r(94),st=n(dt),ut=r(97),pt=n(ut),bt=r(98),ct=n(bt),_t=r(87),ht=n(_t),mt=r(16),ft=n(mt),vt=r(88),gt=n(vt),yt=r(95),wt=n(yt),It=r(96),$t=n(It),Ct=r(33),xt=n(Ct),kt=r(100),Dt=n(kt),Ot=r(99),Pt=n(Ot),St=r(101),jt=n(St),Et=r(2),Vt=a(Et),Tt=function(){function e(t,r){var a=this;if(u.default(this,e),this.element=t,this.nextId=1,this.locale={bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",barCodeElementContent:"Content",barCodeElementDisplayValue:"Display value",barCodeElementFormat:"Format",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementColor:"Color",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementDataSource:"Data source",docElementFrame:"Frame",docElementHeight:"Height",docElementImage:"Image",docElementLabel:"Label",docElementLine:"Line",docElementPageBreak:"Page break",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRoot:"Document",docElementSection:"Section",docElementLink:"Link",docElementSize:"Size (width, height)",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Column range",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementWidth:"Width",docElementStyle:"Style",docElementTable:"Table",docElementText:"Text",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Empty panel",errorMsgDuplicateParameterField:"Field already exists",errorMsgLoadingImageFailed:"Loading image failed",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD ( or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https://",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter {info} not found",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",frameElementShrinkToContentHeight:"Shrink to content height",imageElementImage:"Image file",imageElementLoadErrorMsg:"Loading image failed",imageElementSource:"Source",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterAddTestData:"Add row",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataNoFields:"No fields defined for this list",parameterEval:"Evaluate",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles",tableElementAlternateBackgroundColor:"Alternate background color",tableElementBorderFrame:"Frame",tableElementBorderFrameRow:"Frame and row",tableElementBorderGrid:"Grid",tableElementBorderNone:"None",tableElementBorderRow:"Row",tableElementColumns:"Columns",tableElementContentRows:"Content rows",tableElementGroupExpression:"Group expression",tableElementRepeatHeader:"Repeat header",textElementContent:"Text",textElementEval:"Evaluate",textElementPattern:"Pattern"},this.properties={additionalFonts:[],adminMode:!0,enableSpreadsheet:!0,fonts:[{name:"Courier",value:"courier"},{name:"Helvetica",value:"helvetica"},{name:"Times New Roman",value:"times"}],localStorageReportKey:null,menuShowButtonLabels:!1,menuSidebar:!1,saveCallback:null,showGrid:!0,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1},r){for(var n in r)this.properties.hasOwnProperty(n)&&(this.properties[n]=r[n]);
$.extend(this.locale,r.locale||{})}this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts)),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),this.detailData=null,this.document=new _.default(t,this.properties.showGrid,this),this.popupWindow=new m.default(t,this),this.docElements=[],this.headerBand=new j.default(j.default.bandType.header,!1,"","",this),this.contentBand=new j.default(j.default.bandType.content,!1,"","",this),this.footerBand=new j.default(j.default.bandType.footer,!1,"","",this),this.parameterContainer=new V.default("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new V.default("0_styles",this.getLabel("styles"),this),this.documentProperties=new F.default(this),this.clipboardElements=[],this.mainPanel=new ht.default(t,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new gt.default(t,this),this.activeDetailPanel="none",this.detailPanels={none:new at.default(t,this),bar_code:new Z.default(t,this),frame:new ot.default(t,this),text:new jt.default(t,this),line:new st.default(t,this),image:new lt.default(t,this),page_break:new wt.default(t,this),table:new Dt.default(t,this),table_band:new Pt.default(t,this),parameter:new $t.default(t,this),section:new ct.default(t,this),section_band:new pt.default(t,this),style:new xt.default(t,this),documentProperties:new tt.default(this.documentProperties,t,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),$(document).keydown(function(e){if(e.metaKey||e.ctrlKey)switch(e.which){case 67:if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){var t=!1,r={},n=void 0,o=void 0,i=!0,l=!1,s=void 0;try{for(var u,p=d.default(a.selections);!(i=(u=p.next()).done);i=!0){var b=u.value,c=a.getDataObject(b);if((c instanceof H.default&&!(c instanceof q.default)||c instanceof B.default&&!c.showOnlyNameType||c instanceof M.default)&&(t||(a.clipboardElements=[],t=!0),!(c.getId()in r)))if(r[c.getId()]=!0,n=c.toJS(),a.clipboardElements.push(n),c instanceof H.default){if(n.baseClass="DocElement",c instanceof z.default){var _=[];c.appendContainerChildren(_);var h=!0,m=!1,f=void 0;try{for(var g,w=d.default(_);!(h=(g=w.next()).done);h=!0){var $=g.value;if($.getId()in r){for(o=0;o<a.clipboardElements.length;o++)if($.getId()===a.clipboardElements[o].id){a.clipboardElements.splice(o,1);break}}else r[$.getId()]=!0;n=$.toJS(),n.baseClass="DocElement",a.clipboardElements.push(n)}}catch(C){m=!0,f=C}finally{try{!h&&w.return&&w.return()}finally{if(m)throw f}}}}else c instanceof B.default?n.baseClass="Parameter":c instanceof M.default&&(n.baseClass="Style")}}catch(C){l=!0,s=C}finally{try{!i&&p.return&&p.return()}finally{if(l)throw s}}e.preventDefault()}break;case 86:if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){var x=void 0,k=new D.default("Paste from clipboard",a),O={},S=!0,j=!1,E=void 0;try{for(var V,T=d.default(a.clipboardElements);!(S=(V=T.next()).done);S=!0){var F=V.value;if(F.id=a.getUniqueId(),F.baseClass==="DocElement"){if(F.linkedContainerId){var A=a.getUniqueId();O[F.linkedContainerId]=A,F.linkedContainerId=A}F.elementType===H.default.type.table&&U.default.removeIds(F)}}}catch(C){j=!0,E=C}finally{try{!S&&T.return&&T.return()}finally{if(j)throw E}}var L=!0,R=!1,N=void 0;try{for(var W,Y=d.default(a.clipboardElements);!(L=(W=Y.next()).done);L=!0){var J=W.value;if(J.baseClass==="DocElement"){if(J.containerId in O)J.containerId=O[J.containerId];else{var X=0,G=a.getDataObject(J.containerId);if(null!==G){var K=G.getOffset(),Q=G.getContentSize(),Z=a.getDocument().getContentScrollPosY();Z>K.y&&Z+J.height<K.y+Q.height&&(X=Z-K.y)}J.x=0,J.y=X}x=new v.default(!0,J.elementType,J,J.id,J.containerId,-1,a),k.addCommand(x)}else J.baseClass==="Parameter"?(B.default.removeIds(J),x=new y.default(!0,J,J.id,a.parameterContainer.getId(),-1,a),k.addCommand(x)):J.baseClass==="Style"&&(x=new I.default(!0,J,J.id,a.styleContainer.getId(),-1,a),k.addCommand(x))}}catch(C){R=!0,N=C}finally{try{!L&&Y.return&&Y.return()}finally{if(R)throw N}}if(!k.isEmpty()){a.executeCommand(k);var et=!0,tt=!0,rt=!1,at=void 0;try{for(var nt,ot=d.default(a.clipboardElements);!(tt=(nt=ot.next()).done);tt=!0){var it=nt.value;a.selectObject(it.id,et),et=!1}}catch(C){rt=!0,at=C}finally{try{!tt&&ot.return&&ot.return()}finally{if(rt)throw at}}}e.preventDefault()}break;case 89:a.redoCommand(),e.preventDefault();break;case 90:a.undoCommand(),e.preventDefault()}else if(e.which===27)a.popupWindow.hide();else if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))switch(e.which){case 8:case 46:var lt=new D.default("Delete",a),dt=!0,st=!1,ut=void 0;try{for(var pt,bt=d.default(a.selections);!(dt=(pt=bt.next()).done);dt=!0){var ct=pt.value,_t=a.getDataObject(ct);_t instanceof H.default&&_t.addCommandsForDelete(lt)}}catch(C){st=!0,ut=C}finally{try{!dt&&bt.return&&bt.return()}finally{if(st)throw ut}}lt.isEmpty()||a.executeCommand(lt),e.preventDefault();break;case 37:case 38:case 39:case 40:var ht=new D.default("Move element",a),mt=void 0,ft=e.which===37||e.which===39?"x":"y";a.getDocumentProperties().getContentSize().width;var vt=!0,gt=!1,yt=void 0;try{for(var wt,It=d.default(a.selections);!(vt=(wt=It.next()).done);vt=!0){var $t=wt.value,Ct=a.getDataObject($t);if(Ct instanceof H.default&&(mt=e.which===37||e.which===39?Ct.getXTagId():Ct.getYTagId(),""!==mt)){var xt=null;if(e.which===37)Ct.getValue("xVal")>0&&(xt=Ct.getValue("xVal")-1);else if(e.which===38)Ct.getValue("yVal")>0&&(xt=Ct.getValue("yVal")-1);else if(e.which===39){var kt=Ct.getContainerContentSize();Ct.getValue("xVal")+Ct.getValue("widthVal")<kt.width&&(xt=Ct.getValue("xVal")+1)}else if(e.which===40){var Dt=Ct.getContainerContentSize();Ct.getValue("yVal")+Ct.getValue("heightVal")<Dt.height&&(xt=Ct.getValue("yVal")+1)}if(null!==xt){var Ot=new P.default($t,mt,ft,xt,P.default.type.text,a);ht.addCommand(Ot)}}}}catch(C){gt=!0,yt=C}finally{try{!vt&&It.return&&It.return()}finally{if(gt)throw yt}}ht.isEmpty()||a.executeCommand(ht),e.preventDefault()}})}return b.default(e,[{key:"addDefaultParameters",value:function(){for(var e=[{name:"page_count",type:B.default.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:B.default.type.number,eval:!1,editable:!1,showOnlyNameType:!0}],t=0;t<e.length;t++){var r=e[t],a=new B.default(this.getUniqueId(),r,this),n=this.mainPanel.getParametersItem(),o=new ft.default("parameter",n,a,{hasChildren:!1,showAdd:!1,showDelete:!1,draggable:!1},this);a.setPanelItem(o),n.appendChild(o),a.setup(),this.addParameter(a)}}},{key:"render",value:function(){var e=this;this.element.empty(),this.getProperty("menuSidebar")&&this.element.addClass("rbroMenuPanelSidebar"),this.element.append('<div class="rbroLogo"></div>'),this.element.append('<div class="rbroMenuPanel" id="rbro_menu_panel"></div>'),this.element.append('<div class="rbroContainer">\n                <div class="rbroMainPanel" id="rbro_main_panel"><ul id="rbro_main_panel_list"></ul></div>\n                <div class="rbroDetailPanel" id="rbro_detail_panel"></div>\n                <div class="rbroDocumentPanel" id="rbro_document_panel"></div>\n            </div>'),this.mainPanel.render(),this.menuPanel.render();for(var t in this.detailPanels)this.detailPanels[t].render();this.detailPanels[this.activeDetailPanel].show(this.detailData),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),$(document).mouseup(function(t){e.document.mouseUp(t),e.popupWindow.hide()}),this.element.on("dragstart",function(e){e.preventDefault()})}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(e){return e in this.locale?this.locale[e]:e}},{key:"getProperty",value:function(e){return this.properties[e]}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var e=[];if(this.properties.patternNumbers.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.properties.patternNumbers);!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i)}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}if(this.properties.patternDates.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var s=!0,u=!1,p=void 0;try{for(var b,c=d.default(this.properties.patternDates);!(s=(b=c.next()).done);s=!0){var _=b.value;e.push(_)}}catch(l){u=!0,p=l}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}}return e}},{key:"getParameterItems",value:function(e,t){var r=[],a=this.getMainPanel().getParametersItem().getChildren(),n=0,o=[];if(e instanceof H.default){e.getAllDataSources(o,null);var i=!0,l=!1,s=void 0;try{for(var u,p=d.default(o);!(i=(u=p.next()).done);i=!0){var b=u.value;if(b.parameters.length>0){r.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+n,name:this.getLabel("parametersDataSource")}),n++;var c=!0,_=!1,h=void 0;try{for(var m,f=d.default(b.parameters);!(c=(m=f.next()).done);c=!0){var v=m.value;v.appendParameterItems(r,t)}}catch(g){_=!0,h=g}finally{try{!c&&f.return&&f.return()}finally{if(_)throw h}}}}}catch(g){l=!0,s=g}finally{try{!i&&p.return&&p.return()}finally{if(l)throw s}}}r.push({separator:!0,name:this.getLabel("parameters")});var y=[],w=!0,I=!1,$=void 0;try{for(var C,x=d.default(a);!(w=(C=x.next()).done);w=!0){var k=C.value,D=k.getData();D.getValue("type")===B.default.type.map?D.appendParameterItems(y,t):D.appendParameterItems(r,t)}}catch(g){I=!0,$=g}finally{try{!w&&x.return&&x.return()}finally{if(I)throw $}}return r.concat(y)}},{key:"getArrayFieldParameterItems",value:function(e){var t=[],r=this.getMainPanel().getParametersItem().getChildren();t.push({separator:!0,name:this.getLabel("parameters")});var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(r);!(a=(i=l.next()).done);a=!0){var s=i.value,u=s.getData();u.getValue("type")===B.default.type.array&&u.appendFieldParameterItems(t,e)}}catch(p){n=!0,o=p}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return t}},{key:"getParameterByName",value:function(e){var t=this.getParameters(),r=!0,a=!1,n=void 0;try{for(var o,i=d.default(t);!(r=(o=i.next()).done);r=!0){var l=o.value;if(l.getValue("name")===e)return l}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}return null}},{key:"appendContainerDocElements",value:function(e,t,r){var a=e.getPanelItem().getChildren(),n=!0,o=!1,i=void 0;try{for(var l,s=d.default(a);!(n=(l=s.next()).done);n=!0){var u=l.value;if(u.getData()instanceof H.default){var p=u.getData();t?(r.push(p),p.addChildren(r)):r.push(p.toJS());var b=[];if(p instanceof X.default)b=p.getLinkedContainers();else{var c=p.getLinkedContainer();null!==c&&b.push(c)}var _=!0,h=!1,m=void 0;try{for(var f,v=d.default(b);!(_=(f=v.next()).done);_=!0){var g=f.value;this.appendContainerDocElements(g,t,r)}}catch(y){h=!0,m=y}finally{try{!_&&v.return&&v.return()}finally{if(h)throw m}}}}}catch(y){o=!0,i=y}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}},{key:"getDocElements",value:function(e){var t=[];return this.appendContainerDocElements(this.headerBand,e,t),this.appendContainerDocElements(this.contentBand,e,t),this.appendContainerDocElements(this.footerBand,e,t),t}},{key:"setDetailPanel",value:function(e,t){this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=e,this.detailData=t,this.detailPanels[e].show(t)}},{key:"updateDetailPanel",value:function(){this.detailPanels[this.activeDetailPanel].updateData(this.detailData)}},{key:"notifyEvent",value:function(e,t){if(e instanceof B.default)e.getValue("type")===B.default.type.array||e.getValue("type")===B.default.type.map?($("#rbro_menu_item_add"+e.getId()).show(),$("#rbro_menu_item_children"+e.getId()).show(),$("#rbro_menu_item_children_toggle"+e.getId()).show()):($("#rbro_menu_item_add"+e.getId()).hide(),$("#rbro_menu_item_children"+e.getId()).hide(),$("#rbro_menu_item_children_toggle"+e.getId()).hide());else if(e instanceof M.default&&t===x.default.operation.change){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.docElements);!(r=(o=i.next()).done);r=!0){var l=o.value;l.updateChangedStyle(e.getId())}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}for(var u in this.detailPanels)this.detailPanels[u].notifyEvent(e,t)}},{key:"addParameter",value:function(e){this.addDataObject(e)}},{key:"deleteParameter",value:function(e){this.deleteDataObject(e)}},{key:"addStyle",value:function(e){this.addDataObject(e),this.notifyEvent(e,x.default.operation.add)}},{key:"deleteStyle",value:function(e){this.deleteDataObject(e),this.notifyEvent(e,x.default.operation.remove)}},{key:"getStyles",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getMainPanel().getStylesItem().getChildren());!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i.getData())}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getParameters",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getMainPanel().getParametersItem().getChildren());!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i.getData())}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"addDocElement",value:function(e){this.docElements.push(e),this.addDataObject(e)}},{key:"deleteDocElement",value:function(e){for(var t=0;t<this.docElements.length;t++)if(this.docElements[t].getId()===e.getId()){this.detailData===this.docElements[t]&&this.setDetailPanel("none",null),this.docElements.splice(t,1),this.deleteDataObject(e);break}}},{key:"getDetailData",value:function(){return this.detailData}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(e){if(e.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&e instanceof P.default&&this.commandStack.length>0){var t=this.commandStack[this.commandStack.length-1];t instanceof P.default&&t.allowReplace(e)&&(e.oldValue=t.oldValue,this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(e),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons()}},{key:"undoCommand",value:function(){this.lastCommandIndex>=0&&(this.commandStack[this.lastCommandIndex].undo(),this.lastCommandIndex--,this.modified=!0,this.updateMenuButtons())}},{key:"redoCommand",value:function(){this.lastCommandIndex<this.commandStack.length-1&&(this.lastCommandIndex++,this.commandStack[this.lastCommandIndex].do(),this.modified=!0,this.updateMenuButtons())}},{key:"updateMenuButtons",value:function(){$("#rbro_menu_save").prop("disabled",this.commandStack.length===0||!this.modified),$("#rbro_menu_undo").prop("disabled",this.lastCommandIndex<0),$("#rbro_menu_redo").prop("disabled",this.lastCommandIndex>=this.commandStack.length-1)}},{key:"updateMenuActionButtons",value:function(){var e=0,t={x:0,y:0},r=!0,a=!0,n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.selections);!(n=(l=s.next()).done);n=!0){var u=l.value,p=this.getDataObject(u);if(p instanceof H.default&&p.getXTagId()!==""){e++;var b=p.getContainer(),c=b.getOffset();1===e?t=c:(c.x!==t.x&&(r=!1),c.y!==t.y&&(a=!1))}}}catch(_){o=!0,i=_}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}if(e>1)r?$("#rbro_menu_align").show():$("#rbro_menu_align").hide(),a?$("#rbro_menu_valign").show():$("#rbro_menu_valign").hide(),$("#rbo_menu_elements .rbroMenuButton").hide(),$("#rbro_menu_column_actions").hide(),$("#rbro_menu_row_actions").hide();else{var h=null;if(this.selections.length===1&&(h=this.getDataObject(this.selections[0])),$("#rbro_menu_align").hide(),$("#rbro_menu_valign").hide(),h instanceof q.default){$("#rbo_menu_elements .rbroMenuButton").hide();var m=h.getTable(),f=h.getParent();null!==m&&Vt.convertInputToNumber(m.getValue("columns"))!==1?$("#rbro_menu_column_delete").show():$("#rbro_menu_column_delete").hide(),$("#rbro_menu_column_actions").show(),null!==m&&null!==f&&f.getValue("bandType")===j.default.bandType.content?(Vt.convertInputToNumber(m.getValue("contentRows"))!==1?$("#rbro_menu_row_delete").show():$("#rbro_menu_row_delete").hide(),$("#rbro_menu_row_actions").show()):$("#rbro_menu_row_actions").hide()}else $("#rbo_menu_elements .rbroMenuButton").show(),$("#rbro_menu_column_actions").hide(),$("#rbro_menu_row_actions").hide()}}},{key:"debugCommandStack",value:function(){console.clear();for(var e=0;e<this.commandStack.length;e++)e>this.lastCommandIndex?console.log("( "+e+" "+this.commandStack[e].getName()+" )"):console.log(e+" "+this.commandStack[e].getName())}},{key:"addDataObject",value:function(e){this.objectMap[e.getId()]=e}},{key:"deleteDataObject",value:function(e){this.isSelectedObject(e.getId())&&this.deselectObject(e.getId()),e.getId()in this.objectMap&&(e.remove(),delete this.objectMap[e.getId()])}},{key:"getDataObject",value:function(e){return null!==e&&e in this.objectMap?this.objectMap[e]:null}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(e){return this.selections.indexOf(e)!==-1}},{key:"isDocElementSelected",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=d.default(this.selections);!(e=(a=n.next()).done);e=!0){var o=a.value,i=this.getDataObject(o);if(i instanceof H.default)return!0}}catch(l){t=!0,r=l}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}return!1}},{key:"isTableElementSelected",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.selections);!(t=(n=o.next()).done);t=!0){var i=n.value,l=this.getDataObject(i);if(l instanceof q.default&&l.getValue("tableId")===e)return!0}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return!1}},{key:"selectObject",value:function(e,t){t&&this.deselectAll();var r=this.getDataObject(e);null!==r&&(this.selections.push(e),r.select(),r.getPanelItem()!==null&&(r.getPanelItem().openParentItems(),r.getPanelItem().setActive())),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(e){this.deselectObjectInternal(e,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(e,t){var r=this.getDataObject(e);if(null!==r&&(r.deselect(),this.detailData===r&&(this.setDetailPanel("none",null),$(".rbroMenuItem").removeClass("rbroMenuItemActive"))),t){var a=this.selections.indexOf(e);-1!==a&&this.selections.splice(a,1)}}},{key:"deselectAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=d.default(this.selections);!(e=(a=n.next()).done);e=!0){var o=a.value;this.deselectObjectInternal(o,!1)}}catch(i){t=!0,r=i}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}this.selections=[],this.updateMenuActionButtons()}},{key:"getContainer",value:function(e,t,r){for(var a=null,n=-1,o=0;o<this.containers.length;o++){var i=this.containers[o];i.getLevel()>n&&i.isElementAllowed(r)&&i.isInside(e,t)&&(a=i,n=i.getLevel())}return a}},{key:"addContainer",value:function(e){this.containers.push(e),this.addDataObject(e)}},{key:"deleteContainer",value:function(e){for(var t=0;t<this.containers.length;t++)if(this.containers[t].getId()===e.getId()){this.containers.splice(t,1);break}this.deleteDataObject(e)}},{key:"startBrowserDrag",value:function(e,t,r){this.browserDragType=e,this.browserDragId=r,this.getDocument().startBrowserDrag(t)}},{key:"isBrowserDragActive",value:function(e){return this.browserDragType===e}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(e,t,r,a,n){var o=void 0;n&&(o=new D.default(r===H.default.dragType.element?"Update position":"Resize",this));var i=!0,l=!1,s=void 0;try{for(var u,p=d.default(this.selections);!(i=(u=p.next()).done);i=!0){var b=u.value,c=this.getDataObject(b);null!==c&&(r!==H.default.dragType.element||c.isDraggingAllowed())&&c.updateDrag(e,t,r,a,n?o:null)}}catch(_){l=!0,s=_}finally{try{!i&&p.return&&p.return()}finally{if(l)throw s}}n&&!o.isEmpty()&&this.executeCommand(o)}},{key:"alignSelections",value:function(e){var t=void 0,r=void 0,a=void 0,n=void 0,o=Number.MAX_VALUE,i=Number.MIN_VALUE,l=Number.MAX_VALUE,s=Number.MIN_VALUE,u=0,p=!0,b=!1,c=void 0;try{for(var _,h=d.default(this.selections);!(p=(_=h.next()).done);p=!0){var m=_.value,f=this.getDataObject(m);f instanceof H.default&&f.getXTagId()!==""&&(u++,t=f.getValue("xVal"),r=f.getValue("yVal"),a=f.getValue("widthVal"),n=f.getValue("heightVal"),o>t&&(o=t),t+a>i&&(i=t+a),l>r&&(l=r),r+n>s&&(s=r+n))}}catch(v){b=!0,c=v}finally{try{!p&&h.return&&h.return()}finally{if(b)throw c}}var g=o+(i-o)/2,y=l+(s-l)/2;if(u>1){var w=new D.default("Align elements",this),I=!0,$=!1,C=void 0;try{for(var x,k=d.default(this.selections);!(I=(x=k.next()).done);I=!0){var O=x.value,S=this.getDataObject(O);if(S instanceof H.default&&!(S instanceof Y.default))switch(e){case M.default.alignment.left:var j=new P.default(S.getId(),S.getXTagId(),"x",""+o,P.default.type.text,this);w.addCommand(j);break;case M.default.alignment.center:var E=new P.default(S.getId(),S.getXTagId(),"x",""+(g-S.getValue("widthVal")/2),P.default.type.text,this);w.addCommand(E);break;case M.default.alignment.right:var V=new P.default(S.getId(),S.getXTagId(),"x",""+(i-S.getValue("widthVal")),P.default.type.text,this);w.addCommand(V);break;case M.default.alignment.top:var T=new P.default(S.getId(),S.getYTagId(),"y",""+l,P.default.type.text,this);w.addCommand(T);break;case M.default.alignment.middle:var F=new P.default(S.getId(),S.getYTagId(),"y",""+(y-S.getValue("heightVal")/2),P.default.type.text,this);w.addCommand(F);break;case M.default.alignment.bottom:var A=new P.default(S.getId(),S.getYTagId(),"y",""+(s-S.getValue("heightVal")),P.default.type.text,this);w.addCommand(A)}}}catch(v){$=!0,C=v}finally{try{!I&&k.return&&k.return()}finally{if($)throw C}}this.executeCommand(w)}}},{key:"toPixel",value:function(e){return""===e?"0px":$.type(e)==="string"&&(e=parseFloat(e.replace(",",".")),isNaN(e))?"0px":e+"px"}},{key:"createDocElement",value:function(e){var t=v.default.createElement(e.id,e,e.elementType,-1,!1,this),r=t.getMaxId();return r>=this.nextId&&(this.nextId=r+1),t}},{key:"createParameter",value:function(e){var t=new B.default(e.id,e,this),r=this.mainPanel.getParametersItem(),a=new ft.default("parameter",r,t,{hasChildren:!0,showAdd:t.getValue("editable"),showDelete:t.getValue("editable"),draggable:!0},this);t.setPanelItem(a),r.appendChild(a),t.setup(),t.getValue("type")!==B.default.type.array&&t.getValue("type")!==B.default.type.map&&($("#rbro_menu_item_add"+t.getId()).hide(),$("#rbro_menu_item_children"+t.getId()).hide(),$("#rbro_menu_item_children_toggle"+t.getId()).hide()),this.addParameter(t);var n=t.getMaxId();n>=this.nextId&&(this.nextId=n+1)}},{key:"createStyle",value:function(e){var t=new M.default(e.id,e,this),r=this.mainPanel.getStylesItem(),a=new ft.default("style",r,t,{draggable:!0},this);t.setPanelItem(a),r.appendChild(a),this.addStyle(t),e.id>=this.nextId&&(this.nextId=e.id+1)}},{key:"showLoading",value:function(){$("#rbro_loading_div").length==0&&$("body").append('<div id="rbro_loading_div" class="rbroLoadingIndicator"></div>')}},{key:"hideLoading",value:function(){$("#rbro_loading_div").remove()}},{key:"getTestData",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;if(!i.getValue("showOnlyNameType")){var l=i.getValue("type");if(l===B.default.type.map){var s={},u=!0,p=!1,b=void 0;try{for(var c,_=d.default(i.getChildren());!(u=(c=_.next()).done);u=!0){var h=c.value;s[h.getName()]=h.getValue("testData")}}catch(m){p=!0,b=m}finally{try{!u&&_.return&&_.return()}finally{if(p)throw b}}e[i.getName()]=s}else if(l===B.default.type.array)e[i.getName()]=i.getTestDataRows(!1);else if(l===B.default.type.simpleArray){var f=[],v=!0,g=!1,y=void 0;try{for(var w,I=d.default(i.getTestDataRows(!1));!(v=(w=I.next()).done);v=!0){var $=w.value;"data"in $&&f.push($.data)}}catch(m){g=!0,y=m}finally{try{!v&&I.return&&I.return()}finally{if(g)throw y}}e[i.getName()]=f}else(l===B.default.type.string||l===B.default.type.number||l===B.default.type.boolean||l===B.default.type.date)&&(e[i.getName()]=i.getValue("testData"))}}}catch(m){r=!0,a=m}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"processErrors",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(e);!(t=(n=o.next()).done);t=!0){var i=n.value;if(i.object_id){$("#rbro_menu_item"+i.object_id).addClass("rbroError");var l=this.getDataObject(i.object_id);null!==l&&l.addError(i)}}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}e.length>0&&(this.detailPanels[this.activeDetailPanel].updateErrors(),this.selectObject(e[0].object_id,!0))}},{key:"previewInternal",value:function(e,t){var r=this;$(".rbroMenuItem").removeClass("rbroError");for(var a in this.objectMap)this.objectMap[a].clearErrors();this.detailPanels[this.activeDetailPanel].updateErrors(),this.showLoading(),$.ajax(this.properties.reportServerUrl,{data:i.default({report:this.getReport(),outputFormat:F.default.outputFormat.pdf,data:e,isTestData:t}),type:"PUT",contentType:"application/json",timeout:this.properties.reportServerTimeout,crossDomain:this.properties.reportServerUrlCrossDomain,success:function(e){if(r.hideLoading(),e.substr(0,4)==="key:")r.reportKey=e.substr(4),r.getDocument().openPdfPreviewTab(r.properties.reportServerUrl+"?key="+r.reportKey+"&outputFormat=pdf");else{r.reportKey=null;try{var t=JSON.parse(e);t.errors.length>0&&r.processErrors(t.errors)}catch(a){alert("preview failed")}}},error:function(e,t){r.hideLoading(),"timeout"===t?alert("preview failed (timeout)"):alert("preview failed")}})}},{key:"setModified",value:function(e){this.modified=e,this.updateMenuButtons()}},{key:"getReport",value:function(){var e={docElements:[],parameters:[],styles:[],version:2};e.docElements=this.getDocElements(!1);var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;e.parameters.push(i.toJS())}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var s=!0,u=!1,p=void 0;try{for(var b,c=d.default(this.getStyles());!(s=(b=c.next()).done);s=!0){var _=b.value;e.styles.push(_.toJS())}}catch(l){u=!0,p=l}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}return e.documentProperties=this.documentProperties.toJS(),e}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var e=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,i.default(e)),this.modified=!1}catch(t){}this.updateMenuButtons()}},{key:"load",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;this.deleteParameter(i)}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var s=!0,u=!1,p=void 0;try{for(var b,c=d.default(this.getStyles());!(s=(b=c.next()).done);s=!0){var _=b.value;this.deleteStyle(_)}}catch(l){u=!0,p=l}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}if(this.nextId=1,this.setDetailPanel("none",null),this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),e.version<2){var h=!0,m=!1,f=void 0;try{for(var v,g=d.default(e.docElements);!(h=(v=g.next()).done);h=!0){var y=v.value;y.elementType===H.default.type.table&&(y.contentDataRows=[y.contentData],y.contentRows="1")}}catch(l){m=!0,f=l}finally{try{!h&&g.return&&g.return()}finally{if(m)throw f}}}this.documentProperties.setInitialData(e.documentProperties),this.documentProperties.setup();var w=!0,I=!1,$=void 0;try{for(var C,x=d.default(e.styles);!(w=(C=x.next()).done);w=!0){var k=C.value;this.createStyle(k)}}catch(l){I=!0,$=l}finally{try{!w&&x.return&&x.return()}finally{if(I)throw $}}var D=!0,O=!1,P=void 0;try{for(var S,j=d.default(e.parameters);!(D=(S=j.next()).done);D=!0){var E=S.value;this.createParameter(E)}}catch(l){O=!0,P=l}finally{try{!D&&j.return&&j.return()}finally{if(O)throw P}}var V=!0,T=!1,F=void 0;try{for(var A,B=d.default(e.docElements);!(V=(A=B.next()).done);V=!0){var L=A.value;this.createDocElement(L)}}catch(l){T=!0,F=l}finally{try{!V&&B.return&&B.return()}finally{if(T)throw F}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var e=null;try{e=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(t){}null!==e&&this.load(e)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(e){this.previewInternal(e,!1)}},{key:"downloadSpreadsheet",value:function(){this.reportKey!==null&&window.open(this.properties.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx","_blank")}}]),e}();t.default=Tt},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(7),_=n(c),h=r(31),m=n(h),f=r(3),v=n(f),g=r(20);n(g);var y=r(2);a(y);var w=function(e){function t(e,r,a){return d.default(this,t),b.default(this,(t.__proto__||i.default(t)).call(this,e,r,a))}return _.default(t,e),u.default(t,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(e){return e!==v.default.type.pageBreak&&e!==v.default.type.frame&&e!==v.default.type.section}},{key:"getOffset",value:function(){var e=0,t=0;if(this.owner!==null&&(e=this.owner.getValue("xVal"),t=this.owner.getValue("yVal")),this.parent!==null){var r=this.parent.getOffset();e+=r.x,t+=r.y}return{x:e,y:t}}},{key:"getSize",value:function(){var e=0,t=0;return this.owner!==null&&(e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal")),{width:e,height:t}}},{key:"getContentSize",value:function(){var e=0,t=0;
if(this.owner!==null){e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal");var r=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(e-=r),this.owner.getValue("borderRight")&&(e-=r),this.owner.getValue("borderTop")&&(t-=r),this.owner.getValue("borderBottom")&&(t-=r)}return{width:e,height:t}}}]),t}(m.default);t.default=w},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(3),v=n(f),g=r(4);n(g);var y=r(15);n(y);var w=r(2);a(w);var I=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementImage"),e,80,80,a));return n.elBarCode=null,n.content="",n.format="CODE128",n.displayValue=!0,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_colspan="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.name=n.rb.getLabel("docElementBarCode"),$("#rbro_menu_item_name"+n.id).text(n.name),n}return m.default(t,e),u.default(t,[{key:"setup",value:function(e){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r,a,n){_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),("content"===e||"format"===e||"displayValue"===e||"height"===e)&&(this.updateBarCode(),this.updateDisplay())}},{key:"getFields",value:function(){return["id","containerId","x","y","height","content","format","displayValue","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.barCode}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"getSizers",value:function(){return["N","S"]}},{key:"getXTagId",value:function(){return"rbro_bar_code_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_bar_code_element_position_y"}},{key:"getHeightTagId",value:function(){return"rbro_bar_code_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroBarCodeElement"></div>'),this.elBarCode=$("<canvas></canvas>"),this.el.append(this.elBarCode),this.appendToContainer(),this.updateBarCode(),_.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){var e=!1,t={format:this.format,height:this.displayValue?this.heightVal-22:this.heightVal,margin:0,displayValue:this.displayValue};if(this.content!==""&&this.content.indexOf("${")===-1)try{this.elBarCode.JsBarcode(this.content,t),e=!0}catch(r){}if(!e){var a="";this.format==="CODE39"||this.format==="CODE128"?a="12345678":this.format==="EAN13"?a="5901234123457":this.format==="EAN8"?a="96385074":this.format==="EAN5"?a="12345":this.format==="EAN2"?a="12":this.format==="ITF14"?a="12345678901231":(this.format==="MSI"||this.format==="MSI10"||this.format==="MSI11"||this.format==="MSI1010"||this.format==="MSI1110"||this.format=="pharmacode")&&(a="1234"),this.elBarCode.JsBarcode(a,t)}this.widthVal=this.elBarCode.width(),this.width=""+this.widthVal}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_bar_code_element_content","content",r),this.addCommandForChangedParameterName(e,t,"rbro_bar_code_element_print_if","printIf",r)}}]),t}(v.default);t.default=I},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(3),v=n(f),g=r(4);n(g);var y=r(15),w=n(y),I=r(2);a(I);var C=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementImage"),e,80,80,a));return n.source="",n.image="",n.imageWidth=0,n.imageHeight=0,n.imageRatio=0,n.imageFilename="",n.elImg=null,n.horizontalAlignment=w.default.alignment.left,n.verticalAlignment=w.default.alignment.top,n.backgroundColor="",n.link="",n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n}return m.default(t,e),u.default(t,[{key:"setup",value:function(e){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.image!==""&&this.setImage(this.image),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(e,r,a,n){_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"source"===e||"imageFilename"===e?this.updateName():"image"===e&&this.setImage(r)}},{key:"getFields",value:function(){return["id","containerId","x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.image}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n);var o=0,i=0;if(this.imageRatio!==0&&(o=this.imageWidth<r?this.imageWidth:r,i=this.imageHeight<a?this.imageHeight:a,o!==this.imageWidth||i!==this.imageHeight)){var l=Math.floor(i*this.imageRatio);r>l?o=l:i=Math.floor(o/this.imageRatio)}this.elImg.css({width:this.rb.toPixel(o),height:this.rb.toPixel(i)})}}},{key:"updateStyle",value:function(){var e={},t=this.getValue("horizontalAlignment"),r=this.getValue("verticalAlignment"),a="rbroDocElementAlign"+t.charAt(0).toUpperCase()+t.slice(1),n="rbroDocElementVAlign"+r.charAt(0).toUpperCase()+r.slice(1);e["text-align"]=t,e["vertical-align"]=r,e["background-color"]=this.getValue("backgroundColor"),$("#rbro_el_content"+this.id).css(e),$("#rbro_el_content"+this.id).removeClass().addClass("rbroContentContainerHelper").addClass(a).addClass(n)}},{key:"getXTagId",value:function(){return"rbro_image_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_image_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_image_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_image_element_height"}},{key:"createElement",value:function(){var e=this;this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroImageElement"></div>'),this.elImg=$('<img src="">').on("load",function(){e.imageWidth=e.elImg.get(0).naturalWidth,e.imageHeight=e.elImg.get(0).naturalHeight,e.imageRatio=e.imageHeight!==0?e.imageWidth/e.imageHeight:0,e.updateDisplay()}),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append(this.elImg)),this.appendToContainer(),this.setImage(this.image),_.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this)}},{key:"setImage",value:function(e){this.elImg.attr("src",""),""!==e?this.elImg.attr("src",e):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.name=this.getValue("imageFilename").trim()!==""?this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.getValue("source"):this.rb.getLabel("docElementImage"),$("#rbro_menu_item_name"+this.id).text(this.name),$("#rbro_menu_item_name"+this.id).attr("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_image_element_source","source",r),this.addCommandForChangedParameterName(e,t,"rbro_image_element_print_if","printIf",r)}}]),t}(v.default);t.default=C},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(8),p=a(u),b=r(10),c=a(b),_=r(7),h=a(_),m=r(3),f=a(m),v=function(e){function t(e,r,a){l.default(this,t);var n=p.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementLine"),e,100,1,a));return n.color="#000000",n.setInitialData(r),n}return h.default(t,e),s.default(t,[{key:"setup",value:function(e){c.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r,a,n){c.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r,a,n),"color"===e&&this.updateStyle()}},{key:"getFields",value:function(){return["id","containerId","x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return f.default.type.line}},{key:"updateStyle",value:function(){var e={};e["background-color"]=this.getValue("color"),this.el.css(e)}},{key:"getSizers",value:function(){return["E","W"]}},{key:"getXTagId",value:function(){return"rbro_line_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_line_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_line_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_line_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroLineElement"></div>'),this.appendToContainer(),c.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"rbro_line_element_print_if","printIf",r)}}]),t}(f.default);t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(10),_=n(c),h=r(7),m=n(h),f=r(3),v=n(f),g=r(14),y=n(g),w=r(20);n(w);var I=r(2),C=a(I),x=function(e){function t(e,r,a,n){d.default(this,t);var o=a===y.default.bandType.header?n.getLabel("bandHeader"):a===y.default.bandType.footer?n.getLabel("bandFooter"):n.getLabel("bandContent"),l=b.default(this,(t.__proto__||i.default(t)).call(this,o,e,0,100,n));return l.setupComplete=!1,l.band=null,l.bandType=a,l.repeatHeader=!1,l.alwaysPrintOnSamePage=!0,l.shrinkToContentHeight=!1,l.parentId=r.parentId,l.heightVal=0,l.visible=a===y.default.bandType.content,l.setInitialData(r),l}return m.default(t,e),u.default(t,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new y.default(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var e={x:0,y:0},t=this.getParent();return null!==t&&(e=t.getAbsolutePosition()),e.y+=this.yVal,e}},{key:"setValue",value:function(e,r,a,n){if(_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"height"===e){this[e+"Val"]=C.convertInputToNumber(r);var o=this.getParent();null!==o&&o.updateBands(this)}}},{key:"getFields",value:function(){var e=["id","containerId","linkedContainerId","height","alwaysPrintOnSamePage","shrinkToContentHeight"];return this.bandType===y.default.bandType.header&&e.push("repeatHeader"),e}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(a)};if(this.el.css(n),this.setupComplete){var o=this.getParent();null!==o&&o.updateHeight(this,a)}}}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeightTagId",value:function(){return"rbro_section_band_element_height"}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroSectionBandElement rbroElementContainer"></div>'),this.el.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("docElementSection")+" "+this.name+"</div>")),$("#rbro_el"+this.parentId).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(e){this.visible=e,e?$("#rbro_el"+this.id).removeClass("rbroHidden"):$("#rbro_el"+this.id).addClass("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}}]),t}(v.default);t.default=x},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(6),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(8),_=n(c),h=r(10),m=n(h),f=r(7),v=n(f),g=r(3),y=n(g),w=r(32),I=n(w),C=r(21),x=n(C),k=r(17),D=n(k),O=r(14),P=n(O),S=r(16),j=n(S),E=r(2),V=a(E),T=function(e){function t(e,r,a,n){u.default(this,t);var o="header"===a?n.getLabel("bandHeader"):"footer"===a?n.getLabel("bandFooter"):n.getLabel("bandContent"),i=_.default(this,(t.__proto__||d.default(t)).call(this,o,e,0,20,n));return i.bandType=a,i.repeatHeader=!1,i.alwaysPrintOnSamePage=!0,i.backgroundColor="",i.alternateBackgroundColor="",i.groupExpression="",i.parentId=r.parentId,i.columnData=[],i.heightVal=0,i.setInitialData(r),i}return v.default(t,e),b.default(t,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.heightVal=V.convertInputToNumber(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var e=this.id,t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;l.getId()>e&&(e=l.getId())}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getContainerId",value:function(){var e=this.getParent();return null!==e?e.getContainerId():null}},{key:"setValue",value:function(e,t,r,a){if(this[e]=t,"height"===e){var n=V.convertInputToNumber(t);this[e+"Val"]=n,this.getElement().find("td").css({height:this.rb.toPixel(n)});var o=!0,l=!1,d=void 0;try{for(var s,u=i.default(this.columnData);!(o=(s=u.next()).done);o=!0){var p=s.value;p.setValue(e,t,r,a)}}catch(b){l=!0,d=b}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}var c=this.getParent();null!==c&&c.updateHeight()}else"backgroundColor"===e&&this.updateStyle()}},{key:"getFields",value:function(){var e=["id","height","backgroundColor"];return this.bandType===P.default.bandType.header?e.push("repeatHeader"):this.bandType===P.default.bandType.content&&(e.push("alternateBackgroundColor"),e.push("groupExpression"),e.push("printIf"),e.push("alwaysPrintOnSamePage")),e}},{key:"updateDisplayInternal",value:function(){}},{key:"updateStyle",value:function(){this.el.css("background-color",this.backgroundColor)}},{key:"getSizers",value:function(){return[]}},{key:"getHeightTagId",value:function(){return"rbro_table_band_element_height"}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<tr id="rbro_el_table_band'+this.id+'" class="rbroTableBandElement"></tr>'),$("#rbro_el_table_"+this.bandType+this.parentId).append(this.el)}},{key:"remove",value:function(){m.default(t.prototype.__proto__||d.default(t.prototype),"remove",this).call(this);for(var e=0;e<this.columnData.length;e++)this.rb.deleteDataObject(this.columnData[e])}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(e,t,r,a){if(this.panelItem!==null){if(t)for(var n=0;n<this.columnData.length;n++)this.columnData[n].remove(),n>=e&&this.rb.deleteDataObject(this.columnData[n]);for(var o=[],i=0;e>i;i++){var l=void 0,d=void 0,s=t?20:100,u=i;-1!==r&&(a?i===r?(s=this.columnData[r].getValue("widthVal"),u=-1):i>=r&&u--:i===r+1?(s=this.columnData[r].getValue("widthVal"),u=-1):i>r&&u--),-1!==u&&u<this.columnData.length?(l=this.columnData[u],d=l.id,t||(l.band=this.band,l.columnIndex=i,l.parentId=this.id,l.tableId=this.parentId)):l={band:this.band,columnIndex:i,parentId:this.id,tableId:this.parentId,width:s,height:this.height},d||(d=this.rb.getUniqueId());var p=new I.default(d,l,this.rb);o.push(p),this.rb.addDataObject(p);var b=new j.default(y.default.type.text,this.panelItem,p,{showDelete:!1},this.rb);p.setPanelItem(b),this.panelItem.appendChild(b),p.setup(!0)}this.columnData=o,this.getElement().find("td").css({height:this.rb.toPixel(this.heightVal)})}}},{key:"deleteColumn",value:function(e){e<this.columnData.length&&(this.columnData[e].remove(),this.rb.deleteDataObject(this.columnData[e]),this.columnData.splice(e,1))}},{key:"show",value:function(e){e?$("#rbro_el_table_band"+this.id).removeClass("rbroHidden"):$("#rbro_el_table_band"+this.id).addClass("rbroHidden")}},{key:"updateColumnWidth",value:function(e,t){if(e<this.columnData.length){var r=this.columnData[e];r.updateColumnWidth(t)}}},{key:"getColumn",value:function(e){return e>=0&&e<this.columnData.length?this.columnData[e]:null}},{key:"getColumnIndex",value:function(e){for(var t=0;t<this.columnData.length;t++)if(e===this.columnData[t])return t;return-1}},{key:"getWidth",value:function(){var e=0,t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e+=l.getValue("widthVal")}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getColumnWidths",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e.push(l.getValue("widthVal"))}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"insertRow",value:function(e){var t=this.getParent();if(null!==t){var r=t.getContentRowIndex(this);if(-1!==r){var a=new D.default("Insert row"),n=new x.default(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);a.addCommand(n);var o=V.convertInputToNumber(t.getValue("contentRows"))+1;t.setValue("contentRows",o,"rbro_table_element_content_rows",!1);var l=t.getValue("contentDataRows")[r],d={height:l.height,columnData:[]},s=!0,u=!1,p=void 0;try{for(var b,c=i.default(l.columnData);!(s=(b=c.next()).done);s=!0){var _=b.value;d.columnData.push({width:_.width})}}catch(h){u=!0,p=h}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}var m=t.createBand("content",-1,d);t.getValue("contentDataRows").splice(e?r:r+1,0,m),n=new x.default(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),a.addCommand(n),this.rb.executeCommand(a),this.rb.selectObject(m.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var e=this.getParent();if(null!==e){var t=e.getContentRowIndex(this),r=V.convertInputToNumber(e.getValue("contentRows"));if(-1!==t&&r>1){var a=new D.default("Delete row"),n=new x.default(!1,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb);a.addCommand(n),e.setValue("contentRows",r-1,"rbro_table_element_content_rows",!1),e.getValue("contentDataRows").splice(t,1),n=new x.default(!0,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb),a.addCommand(n),this.rb.executeCommand(a)}}}},{key:"addChildren",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e.push(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"toJS",value:function(){var e=m.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this);e.columnData=[];var r=!0,a=!1,n=void 0;try{for(var o,l=i.default(this.columnData);!(r=(o=l.next()).done);r=!0){var s=o.value;e.columnData.push(s.toJS())}}catch(u){a=!0,n=u}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}return e}}]),t}(y.default);t.default=T},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(16),p=a(u),b=r(31),c=a(b),_=r(20);a(_);var h=function(){function e(t,r,a,n,o,i,d){l.default(this,e),this.rootElement=t,this.rb=d,this.headerItem=new p.default("band",null,r,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},d),this.documentItem=new p.default("band",null,a,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},d),this.footerItem=new p.default("band",null,n,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},d),this.parametersItem=new p.default("parameter",null,o,{hasChildren:!0,showAdd:d.getProperty("adminMode"),showDelete:!1,hasDetails:!1},d),this.stylesItem=new p.default("style",null,i,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},d),this.documentPropertiesItem=new p.default("documentProperties",null,d.getDocumentProperties(),{showDelete:!1,hasDetails:!0},d),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],r.setPanelItem(this.headerItem),a.setPanelItem(this.documentItem),n.setPanelItem(this.footerItem),o.setPanelItem(this.parametersItem),i.setPanelItem(this.stylesItem)}return s.default(e,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(e){for(;null!==e;){if(e.getData()instanceof c.default)return e.getData();e=e.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var e=$("#rbro_main_panel_list");this.appendChildren(e,this.items)}},{key:"appendChildren",value:function(e,t){var r=!0,a=!1,n=void 0;try{for(var i,l=o.default(t);!(r=(i=l.next()).done);r=!0){var d=i.value;e.append(d.getElement());var s=d.getChildren();s.length>0&&($("#"+d.getId()+"_children"),this.appendChildren(e,s))}}catch(u){a=!0,n=u}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=o.default(this.items);!(e=(a=n.next()).done);e=!0){var i=a.value;i.clear()}}catch(l){t=!0,r=l}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}}]),e}();t.default=h},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(15),s=a(d),u=r(3),p=a(u),b=r(32),c=a(b),_=function(){function e(t,r){o.default(this,e),this.rootElement=t,this.rb=r}return l.default(e,[{key:"render",value:function(){var e=this,t=this.rb.getProperty("menuShowButtonLabels"),r=t?"":"rbroHidden",a=$("#rbro_menu_panel"),n=$('<div class="rbroToolButtonContainer"></div>');(this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey"))&&n.append($('<button id="rbro_menu_save" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuSaveTip")+'">\n                    <span class="rbroIcon-save"></span><span class="'+r+'">'+this.rb.getLabel("menuSave")+"</span></button>").click(function(){e.rb.save()})),n.append($('<button id="rbro_menu_undo" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuUndoTip")+'">\n                <span class="rbroIcon-undo"></span><span class="'+r+'">'+this.rb.getLabel("menuUndo")+"</span></button>").click(function(){e.rb.undoCommand()})),n.append($('<button id="rbro_menu_redo" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuRedoTip")+'">\n                <span class="rbroIcon-redo"></span><span class="'+r+'">'+this.rb.getLabel("menuRedo")+"</span></button>").click(function(){e.rb.redoCommand()})),n.append($('<button id="rbro_menu_preview" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuPreviewTip")+'">\n                <span class="rbroIcon-play"></span><span class="'+r+'">'+this.rb.getLabel("menuPreview")+"</span></button>").click(function(){e.rb.preview()})),a.append(n);var o=$('<div class="rbroElementButtonContainer"></div>'),i=$('<div id="rbo_menu_elements" class="rbroElementButtons"></div>');i.append($('<div id="rbro_menu_element_text" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementText")+'">\n                    <span class="rbroIcon-text"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.text,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_line" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementLine")+'">\n                    <span class="rbroIcon-line"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.line,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_image" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementImage")+'">\n                    <span class="rbroIcon-image"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.image,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_bar_code" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementBarCode")+'">\n                    <span class="rbroIcon-barcode"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.barCode,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_table" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementTable")+'">\n                    <span class="rbroIcon-table"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.table,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_frame" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementFrame")+'">\n                    <span class="rbroIcon-frame"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.frame,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_section" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementSection")+'">\n                    <span class="rbroIcon-section"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.section,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_page_break" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementPageBreak")+'">\n                    <span class="rbroIcon-page-break"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",p.default.type.pageBreak,""),t.stopPropagation()})),o.append(i);var l=$('<div class="rbroActionButtons"></div>'),d=$('<div id="rbro_menu_align" style="display: none;"></div>'),u=$('<button id="rbro_menu_align_left"\n                class="rbroButton rbroActionButton rbroIcon-align-left" type="button"\n                title="'+this.rb.getLabel("menuAlignLeft")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.left)});d.append(u);var b=$('<button id="rbro_menu_align_center"\n                class="rbroButton rbroActionButton rbroIcon-align-center" type="button"\n                title="'+this.rb.getLabel("menuAlignCenter")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.center)});d.append(b);var _=$('<button id="rbro_menu_align_right"\n                class="rbroButton rbroActionButton rbroIcon-align-right" type="button"\n                title="'+this.rb.getLabel("menuAlignRight")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.right)});d.append(_),l.append(d);var h=$('<div id="rbro_menu_valign" style="display: none;"></div>'),m=$('<button id="rbro_menu_align_top"\n                class="rbroButton rbroActionButton rbroIcon-align-top" type="button"\n                title="'+this.rb.getLabel("menuAlignTop")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.top)});h.append(m);var f=$('<button id="rbro_menu_align_middle"\n                class="rbroButton rbroActionButton rbroIcon-align-middle" type="button"\n                title="'+this.rb.getLabel("menuAlignMiddle")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.middle)});h.append(f);var v=$('<button id="rbro_menu_align_bottom"\n                class="rbroButton rbroActionButton rbroIcon-align-bottom" type="button"\n                title="'+this.rb.getLabel("menuAlignBottom")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.bottom)});h.append(v),l.append(h);var g=$('<div id="rbro_menu_column_actions" style="display: none;"></div>'),y=$('<button id="rbro_menu_column_add_left"\n                class="rbroButton rbroActionButton rbroIcon-column-add-left" type="button"\n                title="'+this.rb.getLabel("menuColumnAddLeft")+'"></button>').click(function(){var t=e.rb.getSelectedObject();
t instanceof c.default&&t.insertColumn(!0)});g.append(y);var w=$('<button id="rbro_menu_column_add_right"\n                class="rbroButton rbroActionButton rbroIcon-column-add-right" type="button"\n                title="'+this.rb.getLabel("menuColumnAddRight")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof c.default&&t.insertColumn(!1)});g.append(w);var I=$('<button id="rbro_menu_column_delete"\n                class="rbroButton rbroActionButton rbroIcon-column-delete" type="button"\n                title="'+this.rb.getLabel("menuColumnDelete")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof c.default&&t.deleteColumn()});g.append(I),l.append(g);var C=$('<div id="rbro_menu_row_actions" style="display: none;"></div>'),x=$('<button id="rbro_menu_row_add_above"\n                class="rbroButton rbroActionButton rbroIcon-row-add-above" type="button"\n                title="'+this.rb.getLabel("menuRowAddAbove")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof c.default&&t.getParent()!==null&&t.getParent().insertRow(!0)});C.append(x);var k=$('<button id="rbro_menu_row_add_below"\n                class="rbroButton rbroActionButton rbroIcon-row-add-below" type="button"\n                title="'+this.rb.getLabel("menuRowAddBelow")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof c.default&&t.getParent()!==null&&t.getParent().insertRow(!1)});C.append(k);var D=$('<button id="rbro_menu_row_delete"\n                class="rbroButton rbroActionButton rbroIcon-row-delete" type="button"\n                title="'+this.rb.getLabel("menuRowDelete")+'"></button>').click(function(){var t=e.rb.getSelectedObject();t instanceof c.default&&t.getParent()!==null&&t.getParent().deleteRow()});C.append(D),l.append(C);var O=$('<button id="rbro_menu_toggle_grid"\n                class="rbroButton rbroGridButton rbroActionButton rbroIcon-grid '+(this.rb.getProperty("showGrid")?"rbroButtonActive":"")+'" type="button"\n                title="'+this.rb.getLabel("menuToggleGrid")+'"></button>').click(function(){O.toggleClass("rbroButtonActive"),e.rb.getDocument().toggleGrid()});l.append(O),o.append(l),a.append(o)}}]),e}();t.default=_},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(33);n(p);var b=r(17);n(b);var c=r(4),_=n(c),h=r(3);n(h);var m=r(12),f=n(m),v=r(2),g=a(v),y=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_bar_code_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_bar_code_element_content_row" class="rbroFormRow"></div>');r.append('<label for="rbro_bar_code_element_content">'+this.rb.getLabel("barCodeElementContent")+":</label>");var a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>'),n=$('<textarea id="rbro_bar_code_element_content" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_content","content",n.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_bar_code_element_content","content",f.default.type.parameterAppend)});a.append(o),a.append('<div id="rbro_bar_code_element_content_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_format_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_format">'+this.rb.getLabel("barCodeElementFormat")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<select id="rbro_bar_code_element_format" disabled="disabled">\n                <option value="CODE128">CODE128</option>\n            </select>').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_format","format",i.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)}});a.append(i),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_display_value_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_display_value">'+this.rb.getLabel("barCodeElementDisplayValue")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<input id="rbro_bar_code_element_display_value" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_display_value","displayValue",l.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(l),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_position">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var d=$('<input id="rbro_bar_code_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==d.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_position_x","x",d.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputDecimal(d),a.append(d);var s=$('<input id="rbro_bar_code_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==s.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_position_y","y",s.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputDecimal(s),a.append(s),a.append('<div id="rbro_bar_code_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_size">'+this.rb.getLabel("docElementHeight")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var u=$('<input id="rbro_bar_code_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==u.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_height","height",u.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputDecimal(u),a.append(u),a.append('<div id="rbro_bar_code_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var p=$('<div class="rbroPanelSectionHeader"></div>'),b=$('<span id="rbro_bar_code_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_bar_code_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_bar_code_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_bar_code_element_print_section").toggleClass("rbroHidden"),b.toggleClass("rbroIcon-plus"),b.toggleClass("rbroIcon-minus"),b.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(p.position().top),autosize.update($("#rbro_bar_code_element_print_if"))}),p.append(b),p.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(p),t.append(r);var c=$('<div id="rbro_bar_code_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_bar_code_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var h=$('<textarea id="rbro_bar_code_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_print_if","printIf",h.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(h),a.append(h),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_bar_code_element_print_if","printIf",f.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_bar_code_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),c.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var m=$('<input id="rbro_bar_code_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_remove_empty_element","removeEmptyElement",m.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});if(a.append(m),r.append(a),c.append(r),t.append(c),this.rb.getProperty("enableSpreadsheet")){var v=$('<div class="rbroPanelSectionHeader"></div>'),y=$('<span id="rbro_bar_code_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_bar_code_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_bar_code_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_bar_code_element_spreadsheet_section").toggleClass("rbroHidden"),y.toggleClass("rbroIcon-plus"),y.toggleClass("rbroIcon-minus"),y.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+v.position().top))}),v.append(y),v.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(v),t.append(r);var w=$('<div id="rbro_bar_code_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_bar_code_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var I=$('<input id="rbro_bar_code_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_hide","spreadsheet_hide",I.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(I),r.append(a),w.append(r),r=$('<div id="rbro_bar_code_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var C=$('<input id="rbro_bar_code_element_spreadsheet_column">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_column")!==C.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_column","spreadsheet_column",C.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputPositiveInteger(C),a.append(C),a.append('<div id="rbro_bar_code_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),w.append(r),r=$('<div id="rbro_bar_code_element_spreadsheet_colspan_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_colspan">'+this.rb.getLabel("docElementSpreadsheetColspan")+":</label>"),a=$('<div class="rbroFormField"></div>');var x=$('<input id="rbro_bar_code_element_spreadsheet_colspan">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_colspan")!==x.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_colspan","spreadsheet_colspan",x.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputPositiveInteger(x),a.append(x),a.append('<div id="rbro_bar_code_element_spreadsheet_colspan_error" class="rbroErrorMessage"></div>'),r.append(a),w.append(r),r=$('<div id="rbro_bar_code_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var k=$('<input id="rbro_bar_code_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",k.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(k),r.append(a),w.append(r),t.append(w)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_bar_code_element_content")),autosize.update($("#rbro_bar_code_element_print_if"))}},{key:"show",value:function(e){this.updateData(e),$("#rbro_bar_code_element_panel").removeClass("rbroHidden"),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_bar_code_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_bar_code_element_content").prop("disabled",!1),$("#rbro_bar_code_element_display_value").prop("disabled",!1),$("#rbro_bar_code_element_position_x").prop("disabled",!1),$("#rbro_bar_code_element_position_y").prop("disabled",!1),$("#rbro_bar_code_element_width").prop("disabled",!1),$("#rbro_bar_code_element_height").prop("disabled",!1),$("#rbro_bar_code_element_print_if").prop("disabled",!1),$("#rbro_bar_code_element_remove_empty_element").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_column").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_colspan").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_bar_code_element_content").val(e.getValue("content")),$("#rbro_bar_code_element_format").val(e.getValue("format")),$("#rbro_bar_code_element_display_value").prop("checked",e.getValue("displayValue")),$("#rbro_bar_code_element_position_x").val(e.getValue("x")),$("#rbro_bar_code_element_position_y").val(e.getValue("y")),$("#rbro_bar_code_element_width").val(e.getValue("width")),$("#rbro_bar_code_element_height").val(e.getValue("height")),$("#rbro_bar_code_element_print_if").val(e.getValue("printIf")),$("#rbro_bar_code_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_bar_code_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_bar_code_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_bar_code_element_spreadsheet_colspan").val(e.getValue("spreadsheet_colspan")),$("#rbro_bar_code_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_bar_code_element_content").prop("disabled",!0),$("#rbro_bar_code_element_display_value").prop("disabled",!0),$("#rbro_bar_code_element_position_x").prop("disabled",!0),$("#rbro_bar_code_element_position_y").prop("disabled",!0),$("#rbro_bar_code_element_width").prop("disabled",!0),$("#rbro_bar_code_element_height").prop("disabled",!0),$("#rbro_bar_code_element_print_if").prop("disabled",!0),$("#rbro_bar_code_element_remove_empty_element").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_column").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_colspan").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_add_empty_row").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_bar_code_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_bar_code_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_bar_code_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_bar_code_element_"+l.field+"_row",s="rbro_bar_code_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"?($("#rbro_bar_code_element_print_header").addClass("rbroError"),$("#rbro_bar_code_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_bar_code_element_print_header").trigger("click")):(l.field==="spreadsheet_column"||l.field==="spreadsheet_colspan")&&($("#rbro_bar_code_element_spreadsheet_header").addClass("rbroError"),$("#rbro_bar_code_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_bar_code_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=y},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(13),b=n(p),c=r(4),_=n(c),h=r(40),m=n(h),f=r(2),v=a(f),g=function(){function e(t,r,a){d.default(this,e),this.documentProperties=t,this.rootElement=r,this.rb=a}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_document_properties_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_document_properties_page_row" class="rbroFormRow"></div>');r.append('<label for="rbro_document_properties_page_format">'+this.rb.getLabel("pageFormat")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<select id="rbro_document_properties_page_format">\n                <option value="A4">'+this.rb.getLabel("pageFormatA4")+'</option>\n                <option value="A5">'+this.rb.getLabel("pageFormatA5")+'</option>\n                <option value="letter">'+this.rb.getLabel("pageFormatLetter")+'</option>\n                <option value="user_defined">'+this.rb.getLabel("pageFormatUserDefined")+"</option>\n            </select>").change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_page_format","pageFormat",n.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});a.append(n);var o=$('<div id="rbro_document_properties_page_size_row" class="rbroTripleSplit"></div>'),i=$('<input id="rbro_document_properties_page_width" maxlength="5">').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_page_width","pageWidth",i.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});v.setInputPositiveInteger(i),o.append(i);var l=$('<input id="rbro_document_properties_page_height" maxlength="5">').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_page_height","pageHeight",l.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)});v.setInputPositiveInteger(l),o.append(l);var d=$('<select id="rbro_document_properties_unit">\n            <option value="mm">mm</option>\n            <option value="inch">inch</option>\n        </select>').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_unit","unit",d.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});o.append(d),a.append(o),a.append('<div id="rbro_document_properties_page_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),this.documentProperties.getValue("pageFormat")!==m.default.pageFormat.userDefined&&o.hide(),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_orientation">'+this.rb.getLabel("orientation")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<select id="rbro_document_properties_orientation">\n                <option value="portrait">'+this.rb.getLabel("orientationPortrait")+'</option>\n                <option value="landscape">'+this.rb.getLabel("orientationLandscape")+"</option>\n            </select>").change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_orientation","orientation",s.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_content_height">'+this.rb.getLabel("contentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_document_properties_content_height">').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_content_height","contentHeight",u.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)});v.setInputPositiveInteger(u),a.append(u),a.append('<div class="rbroInfo">'+this.rb.getLabel("contentHeightInfo")+"</div>"),r.append(a),t.append(r),this.renderMarginControls(t),this.renderHeaderFooter(t),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_pattern_locale">'+this.rb.getLabel("patternLocale")+":</label>"),a=$('<div class="rbroFormField"></div>');var p=$('<select id="rbro_document_properties_pattern_locale">\n                <option value="de">de</option>\n                <option value="en">en</option>\n                <option value="es">es</option>\n                <option value="fr">fr</option>\n                <option value="it">it</option>\n            </select>').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_pattern_locale","patternLocale",p.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});a.append(p),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_pattern_currency_symbol">'+this.rb.getLabel("patternCurrencySymbol")+":</label>"),a=$('<div class="rbroFormField"></div>');var b=$('<input id="rbro_document_properties_pattern_currency_symbol">').change(function(){var t=new _.default(e.rb.getDetailData().getId(),"rbro_document_properties_pattern_currency_symbol","patternCurrencySymbol",b.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)});a.append(b),r.append(a),t.append(r),$("#rbro_detail_panel").append(t),this.updateData(this.documentProperties)}},{key:"renderMarginControls",value:function(e){var t=this,r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_document_properties_page_margin_top">'+this.rb.getLabel("pageMargins")+":</label>");var a=$('<div class="rbroFormField rbroSmallInput"></div>'),n=$('<div class="rbroColumnCenter"></div>'),o=$('<input id="rbro_document_properties_page_margin_top" placeholder="'+this.rb.getLabel("orientationTop")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_top","marginTop",o.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(o),n.append(o),a.append(n);var i=$('<div class="rbroSplit"></div>'),l=$('<input id="rbro_document_properties_page_margin_left" placeholder="'+this.rb.getLabel("orientationLeft")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_left","marginLeft",l.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(l),i.append(l);var d=$('<input id="rbro_document_properties_page_margin_right" placeholder="'+this.rb.getLabel("orientationRight")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_right","marginRight",d.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(d),i.append(d),a.append(i);var s=$('<div class="rbroColumnCenter"></div>'),u=$('<input id="rbro_document_properties_page_margin_bottom" placeholder="'+this.rb.getLabel("orientationBottom")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_bottom","marginBottom",u.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(u),s.append(u),a.append(s),r.append(a),e.append(r)}},{key:"renderHeaderFooter",value:function(e){var t=this,r=$('<div class="rbroFormRowContainer"></div>'),a=$('<div class="rbroFormRow"></div>');a.append('<label for="rbro_document_properties_header">'+this.rb.getLabel("header")+":</label>");var n=$('<div class="rbroFormField"></div>'),o=$('<label class="switch-light switch-material"></label>'),i=$('<input id="rbro_document_properties_header" type="checkbox">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_header","header",i.is(":checked"),_.default.type.checkbox,t.rb);t.rb.executeCommand(e)});o.append(i);var l=$("<span></span>");l.append($("<span></span>")),l.append($("<span></span>")),l.append($("<a></a>")),o.append(l),n.append(o),a.append(n),r.append(a);var d=$('<div id="rbro_document_properties_header_settings"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_header_size">'+this.rb.getLabel("headerSize")+":</label>"),n=$('<div class="rbroFormField"></div>');var s=$('<input id="rbro_document_properties_header_size">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_header_size","headerSize",s.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(s),n.append(s),a.append(n),d.append(a),a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_header_display">'+this.rb.getLabel("headerDisplay")+":</label>"),n=$('<div class="rbroFormField"></div>');var u=$('<select id="rbro_document_properties_header_display">\n                <option value="always">'+this.rb.getLabel("headerFooterDisplayAlways")+'</option>\n                <option value="not_on_first_page">'+this.rb.getLabel("headerFooterDisplayNotOnFirstPage")+"</option>\n            </select>").change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_header_display","headerDisplay",u.val(),_.default.type.select,t.rb);t.rb.executeCommand(e)});n.append(u),a.append(n),d.append(a),r.append(d),e.append(r);var p=$('<div class="rbroFormRowContainer"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer">'+this.rb.getLabel("footer")+":</label>"),n=$('<div class="rbroFormField"></div>');var b=$('<label class="switch-light switch-material"></label>'),c=$('<input id="rbro_document_properties_footer" type="checkbox">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_footer","footer",c.is(":checked"),_.default.type.checkbox,t.rb);t.rb.executeCommand(e)});b.append(c);var h=$("<span></span>");h.append($("<span></span>")),h.append($("<span></span>")),h.append($("<a></a>")),b.append(h),n.append(b),a.append(n),p.append(a);var m=$('<div id="rbro_document_properties_footer_settings"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer_size">'+this.rb.getLabel("footerSize")+":</label>"),n=$('<div class="rbroFormField"></div>');var f=$('<input id="rbro_document_properties_footer_size">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_footer_size","footerSize",f.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(f),n.append(f),a.append(n),m.append(a),a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer_display">'+this.rb.getLabel("footerDisplay")+":</label>"),n=$('<div class="rbroFormField"></div>');var g=$('<select id="rbro_document_properties_footer_display">\n                <option value="always">'+this.rb.getLabel("headerFooterDisplayAlways")+'</option>\n                <option value="not_on_first_page">'+this.rb.getLabel("headerFooterDisplayNotOnFirstPage")+"</option>\n            </select>").change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_footer_display","footerDisplay",g.val(),_.default.type.select,t.rb);t.rb.executeCommand(e)});n.append(g),a.append(n),m.append(a),p.append(m),e.append(p)}},{key:"show",value:function(e){$("#rbro_document_properties_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_document_properties_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e&&($("#rbro_document_properties_page_format").val(e.getValue("pageFormat")),$("#rbro_document_properties_page_width").val(e.getValue("pageWidth")),$("#rbro_document_properties_page_height").val(e.getValue("pageHeight")),$("#rbro_document_properties_unit").val(e.getValue("unit")),$("#rbro_document_properties_orientation").val(e.getValue("orientation")),$("#rbro_document_properties_content_height").val(e.getValue("contentHeight")),$("#rbro_document_properties_page_margin_top").val(e.getValue("marginTop")),$("#rbro_document_properties_page_margin_left").val(e.getValue("marginLeft")),$("#rbro_document_properties_page_margin_right").val(e.getValue("marginRight")),$("#rbro_document_properties_page_margin_bottom").val(e.getValue("marginBottom")),$("#rbro_document_properties_header").prop("checked",e.getValue("header")),$("#rbro_document_properties_header_size").val(e.getValue("headerSize")),$("#rbro_document_properties_header_display").val(e.getValue("headerDisplay")),$("#rbro_document_properties_footer").prop("checked",e.getValue("footer")),$("#rbro_document_properties_footer_size").val(e.getValue("footerSize")),$("#rbro_document_properties_footer_display").val(e.getValue("footerDisplay")),$("#rbro_document_properties_pattern_locale").val(e.getValue("patternLocale")),$("#rbro_document_properties_pattern_currency_symbol").val(e.getValue("patternCurrencySymbol")),this.updateVisibility(e)),this.updateErrors()}},{key:"notifyEvent",value:function(e,t){e instanceof m.default&&e===this.rb.getDetailData()&&t===b.default.operation.change&&this.updateVisibility(e)}},{key:"updateVisibility",value:function(e){e.getValue("pageFormat")===m.default.pageFormat.userDefined?$("#rbro_document_properties_page_size_row").show():$("#rbro_document_properties_page_size_row").hide(),e.getValue("header")?$("#rbro_document_properties_header_settings").show():$("#rbro_document_properties_header_settings").hide(),e.getValue("footer")?$("#rbro_document_properties_footer_settings").show():$("#rbro_document_properties_footer_settings").hide()}},{key:"updateErrors",value:function(){$("#rbro_document_properties_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_document_properties_panel .rbroErrorMessage").text("");var e=!0,t=!1,r=void 0;try{for(var a,n=i.default(this.documentProperties.getErrors());!(e=(a=n.next()).done);e=!0){var o=a.value,l="rbro_document_properties_"+o.field+"_row",d="rbro_document_properties_"+o.field+"_error",s=this.rb.getLabel(o.msg_key);o.info&&(s=s.replace("${info}",'<span class="rbroErrorMessageInfo">'+o.info+"</span>")),$("#"+l).addClass("rbroError"),$("#"+d).html(s)}}catch(u){t=!0,r=u}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}}]),e}();t.default=g},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(t,r){o.default(this,e),this.rootElement=t,this.rb=r}return l.default(e,[{key:"render",value:function(){$("#rbro_detail_panel"),$("#rbro_detail_panel").append('<div id="rbro_empty_detail_panel" class="rbroEmptyDetailPanel rbroHidden">\n                <div class="rbroLogo"></div>\n            </div>')}},{key:"show",value:function(){$("#rbro_empty_detail_panel").removeClass("rbroHidden")
}},{key:"hide",value:function(){$("#rbro_empty_detail_panel").addClass("rbroHidden")}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){}}]),e}();t.default=d},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(4),b=n(p),c=r(12),_=n(c),h=r(2),m=a(h),f=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_frame_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_frame_element_label">'+this.rb.getLabel("docElementLabel")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_frame_element_label">').on("input",function(){if(e.rb.getDataObject(e.getSelectedObjId())!==null){var t=new b.default(e.getSelectedObjId(),"rbro_frame_element_label","label",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(n),r.append(a),t.append(r),r=$('<div id="rbro_frame_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_position_x">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var o=$('<input id="rbro_frame_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==o.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_position_x","x",o.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(o),a.append(o);var i=$('<input id="rbro_frame_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==i.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_position_y","y",i.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(i),a.append(i),a.append('<div id="rbro_frame_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_frame_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_width">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var l=$('<input id="rbro_frame_element_width">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("width")!==l.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_width","width",l.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(l),a.append(l);var d=$('<input id="rbro_frame_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==d.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_height","height",d.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(d),a.append(d),a.append('<div id="rbro_frame_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_background_color">'+this.rb.getLabel("styleBackgroundColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<div class="rbroColorPickerContainer"></div>'),u=$('<input id="rbro_frame_element_background_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_background_color","backgroundColor",u.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});s.append(u),a.append(s),r.append(a),t.append(r),m.initColorPicker(u,this.rb,{allowEmpty:!0});var p=$('<div id="rbro_frame_element_border_div"></div>');r=$('<div class="rbroFormRow"></div>'),r.append("<label>"+this.rb.getLabel("styleBorder")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<div id="rbro_frame_element_border"></div>'),h=$('<button id="rbro_frame_element_border_all"\n                class="rbroButton rbroActionButton rbroIcon-border-all"\n                type="button" value="borderAll"\n                title="'+this.rb.getLabel("styleBorderAll")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_all","borderAll",!h.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(h);var f=$('<button id="rbro_frame_element_border_left"\n                class="rbroButton rbroActionButton rbroIcon-border-left"\n                type="button" value="borderLeft"\n                title="'+this.rb.getLabel("orientationLeft")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_left","borderLeft",!f.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(f);var v=$('<button id="rbro_frame_element_border_top"\n                class="rbroButton rbroActionButton rbroIcon-border-top"\n                type="button" value="borderTop"\n                title="'+this.rb.getLabel("orientationTop")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_top","borderTop",!v.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(v);var g=$('<button id="rbro_frame_element_border_right"\n                class="rbroButton rbroActionButton rbroIcon-border-right"\n                type="button" value="borderRight"\n                title="'+this.rb.getLabel("orientationRight")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_right","borderRight",!g.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(g);var y=$('<button id="rbro_frame_element_border_bottom"\n                class="rbroButton rbroActionButton rbroIcon-border-bottom"\n                type="button" value="borderBottom"\n                title="'+this.rb.getLabel("orientationBottom")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_bottom","borderBottom",!y.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(y),a.append(c),r.append(a),p.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_border_color">'+this.rb.getLabel("styleBorderColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var w=$('<div class="rbroColorPickerContainer"></div>'),I=$('<input id="rbro_frame_element_border_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_color","borderColor",I.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});w.append(I),a.append(w),r.append(a),p.append(r),m.initColorPicker(I,this.rb),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_border_width">'+this.rb.getLabel("styleBorderWidth")+":</label>"),a=$('<div class="rbroFormField"></div>');var C=$('<input id="rbro_frame_element_border_width">').on("input",function(){if(e.rb.getDataObject(e.getSelectedObjId())!==null){var t=new b.default(e.getSelectedObjId(),"rbro_frame_element_border_width","borderWidth",C.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(C),r.append(a),p.append(r),m.setInputDecimal(C),t.append(p);var x=$('<div class="rbroPanelSectionHeader"></div>'),k=$('<span id="rbro_frame_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_frame_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_frame_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_frame_element_print_section").toggleClass("rbroHidden"),k.toggleClass("rbroIcon-plus"),k.toggleClass("rbroIcon-minus"),k.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(x.position().top),autosize.update($("#rbro_frame_element_print_if"))}),x.append(k),x.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(x),t.append(r);var D=$('<div id="rbro_frame_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_frame_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var O=$('<textarea id="rbro_frame_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_print_if","printIf",O.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(O),a.append(O);var P=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_frame_element_print_if","printIf",_.default.type.parameterAppend)});a.append(P),a.append('<div id="rbro_frame_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),D.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var S=$('<input id="rbro_frame_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_remove_empty_element","removeEmptyElement",S.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(S),r.append(a),D.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_shrink_to_content_height">'+this.rb.getLabel("frameElementShrinkToContentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var j=$('<input id="rbro_frame_element_shrink_to_content_height" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_shrink_to_content_height","shrinkToContentHeight",j.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});if(a.append(j),r.append(a),D.append(r),t.append(D),this.rb.getProperty("enableSpreadsheet")){var E=$('<div class="rbroPanelSectionHeader"></div>'),V=$('<span id="rbro_frame_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_frame_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_frame_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_frame_element_spreadsheet_section").toggleClass("rbroHidden"),V.toggleClass("rbroIcon-plus"),V.toggleClass("rbroIcon-minus"),V.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+E.position().top))}),E.append(V),E.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(E),t.append(r);var T=$('<div id="rbro_frame_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_frame_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var F=$('<input id="rbro_frame_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_spreadsheet_hide","spreadsheet_hide",F.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(F),r.append(a),T.append(r),r=$('<div id="rbro_frame_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var A=$('<input id="rbro_frame_element_spreadsheet_column">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_column")!==A.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_spreadsheet_column","spreadsheet_column",A.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputPositiveInteger(A),a.append(A),a.append('<div id="rbro_frame_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),T.append(r),r=$('<div id="rbro_frame_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var B=$('<input id="rbro_frame_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",B.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(B),r.append(a),T.append(r),t.append(T)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_frame_element_print_if"))}},{key:"show",value:function(e){$("#rbro_frame_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_frame_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_frame_element_label").prop("disabled",!1),$("#rbro_frame_element_position_x").prop("disabled",!1),$("#rbro_frame_element_position_y").prop("disabled",!1),$("#rbro_frame_element_width").prop("disabled",!1),$("#rbro_frame_element_height").prop("disabled",!1),$("#rbro_frame_element_background_color").spectrum("enable"),$("#rbro_frame_element_border_all").prop("disabled",!1),$("#rbro_frame_element_border_left").prop("disabled",!1),$("#rbro_frame_element_border_top").prop("disabled",!1),$("#rbro_frame_element_border_right").prop("disabled",!1),$("#rbro_frame_element_border_bottom").prop("disabled",!1),$("#rbro_frame_element_border_color").spectrum("enable"),$("#rbro_frame_element_border_width").prop("disabled",!1),$("#rbro_frame_element_print_if").prop("disabled",!1),$("#rbro_frame_element_remove_empty_element").prop("disabled",!1),$("#rbro_frame_element_shrink_to_content_height").prop("disabled",!1),$("#rbro_frame_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_frame_element_spreadsheet_column").prop("disabled",!1),$("#rbro_frame_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_frame_element_label").val(e.getValue("label")),$("#rbro_frame_element_position_x").val(e.getValue("x")),$("#rbro_frame_element_position_y").val(e.getValue("y")),$("#rbro_frame_element_width").val(e.getValue("width")),$("#rbro_frame_element_height").val(e.getValue("height")),$("#rbro_frame_element_background_color").spectrum("set",e.getValue("backgroundColor")),e.getValue("borderAll")?$("#rbro_frame_element_border_all").addClass("rbroButtonActive"):$("#rbro_frame_element_border_all").removeClass("rbroButtonActive"),e.getValue("borderLeft")?$("#rbro_frame_element_border_left").addClass("rbroButtonActive"):$("#rbro_frame_element_border_left").removeClass("rbroButtonActive"),e.getValue("borderTop")?$("#rbro_frame_element_border_top").addClass("rbroButtonActive"):$("#rbro_frame_element_border_top").removeClass("rbroButtonActive"),e.getValue("borderRight")?$("#rbro_frame_element_border_right").addClass("rbroButtonActive"):$("#rbro_frame_element_border_right").removeClass("rbroButtonActive"),e.getValue("borderBottom")?$("#rbro_frame_element_border_bottom").addClass("rbroButtonActive"):$("#rbro_frame_element_border_bottom").removeClass("rbroButtonActive"),$("#rbro_frame_element_border_color").spectrum("set",e.getValue("borderColor")),$("#rbro_frame_element_border_width").val(e.getValue("borderWidth")),$("#rbro_frame_element_print_if").val(e.getValue("printIf")),$("#rbro_frame_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_frame_element_shrink_to_content_height").prop("checked",e.getValue("shrinkToContentHeight")),$("#rbro_frame_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_frame_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_frame_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_frame_element_label").prop("disabled",!0),$("#rbro_frame_element_position_x").prop("disabled",!0),$("#rbro_frame_element_position_y").prop("disabled",!0),$("#rbro_frame_element_width").prop("disabled",!0),$("#rbro_frame_element_height").prop("disabled",!0),$("#rbro_frame_element_background_color").spectrum("disable"),$("#rbro_frame_element_border_all").prop("disabled",!0),$("#rbro_frame_element_border_left").prop("disabled",!0),$("#rbro_frame_element_border_top").prop("disabled",!0),$("#rbro_frame_element_border_right").prop("disabled",!0),$("#rbro_frame_element_border_bottom").prop("disabled",!0),$("#rbro_frame_element_border_color").spectrum("disable"),$("#rbro_frame_element_border_width").prop("disabled",!0),$("#rbro_frame_element_print_if").prop("disabled",!0),$("#rbro_frame_element_remove_empty_element").prop("disabled",!0),$("#rbro_frame_element_shrink_to_content_height").prop("disabled",!0),$("#rbro_frame_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_frame_element_spreadsheet_column").prop("disabled",!0),$("#rbro_frame_element_spreadsheet_add_empty_row").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_frame_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_frame_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_frame_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_frame_element_"+l.field+"_row",s="rbro_frame_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"?($("#rbro_frame_element_print_header").addClass("rbroError"),$("#rbro_frame_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_frame_element_print_header").trigger("click")):l.field==="spreadsheet_column"&&($("#rbro_frame_element_spreadsheet_header").addClass("rbroError"),$("#rbro_frame_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_frame_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=f},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(33),b=n(p),c=r(17),_=n(c),h=r(4),m=n(h),f=r(11),v=n(f),g=r(3),y=n(g),w=r(12),I=n(w),C=r(2),x=a(C),k=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_image_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_image_element_source_row" class="rbroFormRow"></div>');r.append('<label for="rbro_image_element_source">'+this.rb.getLabel("imageElementSource")+":</label>");var a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>'),n=$('<textarea id="rbro_image_element_source" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_image_element_source","source",n.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t,[v.default.type.image,v.default.type.string]),e.selectedObjId,"rbro_image_element_source","source",I.default.type.parameterSet)});a.append(o),a.append('<div id="rbro_image_element_source_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_image_element_image_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_image">'+this.rb.getLabel("imageElementImage")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<input id="rbro_image_element_image" type="file">').change(function(t){if(e.rb.getDataObject(e.selectedObjId)!==null){var r=t.target.files;if(r&&r[0]){var a=new FileReader,n=e.rb,o=r[0].name,i=e.selectedObjId;a.onload=function(e){var t=new _.default("Load image",this.rb),r=new m.default(i,"rbro_image_element_image","image",e.target.result,m.default.type.file,n);t.addCommand(r),r=new m.default(i,"rbro_image_element_image_filename","imageFilename",o,m.default.type.filename,n),t.addCommand(r),n.executeCommand(t)},a.onerror=function(){alert(this.rb.getLabel("imageElementLoadErrorMsg"))},a.readAsDataURL(r[0])}}});a.append(i);var l=$('<div class="rbroSplit rbroHidden" id="rbro_image_element_image_filename_container"></div>');l.append($('<div id="rbro_image_element_image_filename"></div>')),l.append($('<div id="rbro_image_element_image_filename_clear" class="rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"></div>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){i.val("");var t=new _.default("Clear image",e.rb),r=new m.default(e.selectedObjId,"rbro_image_element_image","image","",m.default.type.file,e.rb);t.addCommand(r),r=new m.default(e.selectedObjId,"rbro_image_element_image_filename","imageFilename","",m.default.type.filename,e.rb),t.addCommand(r),e.rb.executeCommand(t)}})),a.append(l),a.append('<div id="rbro_image_element_image_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_image_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_position">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var d=$('<input id="rbro_image_element_position_x">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=x.checkInputDecimal(d.val(),0,1e3);t!==d.val()&&d.val(t);var r=new m.default(e.selectedObjId,"rbro_image_element_position_x","x",t,m.default.type.text,e.rb);e.rb.executeCommand(r)}});x.setInputDecimal(d),a.append(d);var s=$('<input id="rbro_image_element_position_y">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=x.checkInputDecimal(s.val(),0,1e3);t!==s.val()&&s.val(t);var r=new m.default(e.selectedObjId,"rbro_image_element_position_y","y",t,m.default.type.text,e.rb);e.rb.executeCommand(r)}});x.setInputDecimal(s),a.append(s),a.append('<div id="rbro_image_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_image_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_size">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var u=$('<input id="rbro_image_element_width">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=x.checkInputDecimal(u.val(),10,1e3);t!==u.val()&&u.val(t);var r=new m.default(e.selectedObjId,"rbro_image_element_width","width",t,m.default.type.text,e.rb);e.rb.executeCommand(r)}});x.setInputDecimal(u),a.append(u);var p=$('<input id="rbro_image_element_height">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=x.checkInputDecimal(p.val(),10,1e3);t!==p.val()&&p.val(t);var r=new m.default(e.selectedObjId,"rbro_image_element_height","height",t,m.default.type.text,e.rb);e.rb.executeCommand(r)}});x.setInputDecimal(p),a.append(p),a.append('<div id="rbro_image_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var c=$('<div class="rbroPanelSectionHeader"></div>'),h=$('<div id="rbro_image_element_style_header_icon" class="rbroPanelSectionHeaderOpen rbroIcon-minus"></div>');r=$('<div id="rbro_image_element_style_header" class="rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"></div>').click(function(){$("#rbro_image_element_style_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_image_element_style_section").toggleClass("rbroHidden"),h.toggleClass("rbroIcon-plus"),h.toggleClass("rbroIcon-minus"),h.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(c.position().top)}),c.append(h),c.append("<span>"+this.rb.getLabel("docElementStyle")+"</span>"),r.append(c),t.append(r);var f=$('<div id="rbro_image_element_style_section"></div>');b.default.renderStyle(f,"image_element_","",y.default.type.image,this,this.rb),t.append(f);var g=$('<div class="rbroPanelSectionHeader"></div>'),w=$('<span id="rbro_image_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_image_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_image_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_image_element_print_section").toggleClass("rbroHidden"),w.toggleClass("rbroIcon-plus"),w.toggleClass("rbroIcon-minus"),w.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(g.position().top),autosize.update($("#rbro_image_element_print_if"))}),g.append(w),g.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(g),t.append(r);var C=$('<div id="rbro_image_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_image_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var k=$('<textarea id="rbro_image_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_image_element_print_if","printIf",k.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(k),a.append(k),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_image_element_print_if","printIf",I.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_image_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),C.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var D=$('<input id="rbro_image_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_image_element_remove_empty_element","removeEmptyElement",D.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(D),r.append(a),C.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_link">'+this.rb.getLabel("docElementLink")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var O=$('<input id="rbro_image_element_link">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("link")!==O.val()){var r=new m.default(e.selectedObjId,"rbro_image_element_link","link",O.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});if(a.append(O),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_image_element_link","link",I.default.type.parameterSet)}),a.append(o),a.append('<div id="rbro_image_element_link_error" class="rbroErrorMessage"></div>'),r.append(a),C.append(r),t.append(C),this.rb.getProperty("enableSpreadsheet")){var P=$('<div class="rbroPanelSectionHeader"></div>'),S=$('<span id="rbro_image_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_image_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_image_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_image_element_spreadsheet_section").toggleClass("rbroHidden"),S.toggleClass("rbroIcon-plus"),S.toggleClass("rbroIcon-minus"),S.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+P.position().top))}),P.append(S),P.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(P),t.append(r);var j=$('<div id="rbro_image_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_image_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var E=$('<input id="rbro_image_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_image_element_spreadsheet_hide","spreadsheet_hide",E.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(E),r.append(a),j.append(r),r=$('<div id="rbro_image_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var V=$('<input id="rbro_image_element_spreadsheet_column">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_image_element_spreadsheet_column","spreadsheet_column",V.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});x.setInputPositiveInteger(V),a.append(V),a.append('<div id="rbro_image_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),j.append(r),r=$('<div id="rbro_image_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var T=$('<input id="rbro_image_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_image_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",T.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(T),r.append(a),j.append(r),t.append(j)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_image_element_source")),autosize.update($("#rbro_image_element_print_if"))}},{key:"show",value:function(e){$("#rbro_image_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_image_element_panel").addClass("rbroHidden")
}},{key:"updateData",value:function(e){null!==e?($("#rbro_image_element_source").prop("disabled",!1),$("#rbro_image_element_image").prop("disabled",!1),$("#rbro_image_element_position_x").prop("disabled",!1),$("#rbro_image_element_position_y").prop("disabled",!1),$("#rbro_image_element_width").prop("disabled",!1),$("#rbro_image_element_height").prop("disabled",!1),$("#rbro_image_element_print_if").prop("disabled",!1),$("#rbro_image_element_remove_empty_element").prop("disabled",!1),$("#rbro_image_element_link").prop("disabled",!1),$("#rbro_image_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_image_element_spreadsheet_column").prop("disabled",!1),$("#rbro_image_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_image_element_source").val(e.getValue("source")),$("#rbro_image_element_image_filename").text(e.getValue("imageFilename")),e.getValue("imageFilename")!==""?$("#rbro_image_element_image_filename_container").removeClass("rbroHidden"):$("#rbro_image_element_image_filename_container").addClass("rbroHidden"),$("#rbro_image_element_position_x").val(e.getValue("x")),$("#rbro_image_element_position_y").val(e.getValue("y")),$("#rbro_image_element_width").val(e.getValue("width")),$("#rbro_image_element_height").val(e.getValue("height")),$("#rbro_image_element_print_if").val(e.getValue("printIf")),$("#rbro_image_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_image_element_link").val(e.getValue("link")),$("#rbro_image_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_image_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_image_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_image_element_source").prop("disabled",!0),$("#rbro_image_element_image_filename").text(""),$("#rbro_image_element_image_filename_container").addClass("rbroHidden"),$("#rbro_image_element_image").prop("disabled",!0),$("#rbro_image_element_position_x").prop("disabled",!0),$("#rbro_image_element_position_y").prop("disabled",!0),$("#rbro_image_element_width").prop("disabled",!0),$("#rbro_image_element_height").prop("disabled",!0),$("#rbro_image_element_print_if").prop("disabled",!0),$("#rbro_image_element_remove_empty_element").prop("disabled",!0),$("#rbro_image_element_link").prop("disabled",!0),$("#rbro_image_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_image_element_spreadsheet_column").prop("disabled",!0),$("#rbro_image_element_spreadsheet_add_empty_row").prop("disabled",!0)),$("#rbro_image_element_image").val(""),b.default.updateStyleData(e,"image_element_","",y.default.type.image),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_image_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_image_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_image_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_image_element_"+l.field+"_row",s="rbro_image_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"||l.field==="link"?($("#rbro_image_element_print_header").addClass("rbroError"),$("#rbro_image_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_image_element_print_header").trigger("click")):l.field==="spreadsheet_column"&&($("#rbro_image_element_spreadsheet_header").addClass("rbroError"),$("#rbro_image_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_image_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=k},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(4),b=n(p),c=r(12),_=n(c),h=r(2),m=a(h),f=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_line_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_line_element_position_row" class="rbroFormRow"></div>');r.append('<label for="rbro_line_element_position">'+this.rb.getLabel("docElementPosition")+":</label>");var a=$('<div class="rbroFormField rbroSplit"></div>'),n=$('<input id="rbro_line_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==n.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_position_x","x",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(n),a.append(n);var o=$('<input id="rbro_line_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==o.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_position_y","y",o.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(o),a.append(o),a.append('<div id="rbro_line_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_line_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_line_element_size">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var i=$('<input id="rbro_line_element_width">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("width")!==i.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_width","width",i.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(i),a.append(i);var l=$('<input id="rbro_line_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==l.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_height","height",l.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});m.setInputDecimal(l),a.append(l),a.append('<div id="rbro_line_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_line_element_color">'+this.rb.getLabel("docElementColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<div class="rbroColorPickerContainer"></div>'),s=$('<input id="rbro_line_element_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_line_element_color","color",s.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});d.append(s),a.append(d),r.append(a),t.append(r),m.initColorPicker(s,this.rb),r=$('<div id="rbro_line_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_line_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var u=$('<textarea id="rbro_line_element_print_if" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("printIf")!==u.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_print_if","printIf",u.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});autosize(u),a.append(u);var p=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_line_element_print_if","printIf",_.default.type.parameterAppend)});a.append(p),a.append('<div id="rbro_line_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_line_element_print_if"))}},{key:"show",value:function(e){$("#rbro_line_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_line_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_line_element_position_x").prop("disabled",!1),$("#rbro_line_element_position_y").prop("disabled",!1),$("#rbro_line_element_width").prop("disabled",!1),$("#rbro_line_element_height").prop("disabled",!1),$("#rbro_line_element_color").spectrum("enable"),$("#rbro_line_element_print_if").prop("disabled",!1),$("#rbro_line_element_position_x").val(e.getValue("x")),$("#rbro_line_element_position_y").val(e.getValue("y")),$("#rbro_line_element_width").val(e.getValue("width")),$("#rbro_line_element_height").val(e.getValue("height")),$("#rbro_line_element_color").spectrum("set",e.getValue("color")),$("#rbro_line_element_print_if").val(e.getValue("printIf")),this.selectedObjId=e.getId()):($("#rbro_line_element_position_x").prop("disabled",!0),$("#rbro_line_element_position_y").prop("disabled",!0),$("#rbro_line_element_width").prop("disabled",!0),$("#rbro_line_element_height").prop("disabled",!0),$("#rbro_line_element_color").spectrum("disable"),$("#rbro_line_element_print_if").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_line_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_line_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_line_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_line_element_"+l.field+"_row",s="rbro_line_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u)}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=f},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(4),b=n(p),c=r(2),_=a(c),h=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_page_break_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_page_break_element_position_row" class="rbroFormRow"></div>');r.append('<label for="rbro_page_break_element_position_y">'+this.rb.getLabel("docElementPositionY")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_page_break_element_position_y">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_page_break_element_position_y","y",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});_.setInputDecimal(n),a.append(n),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"show",value:function(e){$("#rbro_page_break_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_page_break_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_page_break_element_position_y").prop("disabled",!1),$("#rbro_page_break_element_position_y").val(e.getValue("y")),this.selectedObjId=e.getId()):$("#rbro_page_break_element_position_y").prop("disabled",!0),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_page_break_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_page_break_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0)n.value}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=h},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(13),b=n(p),c=r(17),_=n(c),h=r(4),m=n(h),f=r(11),v=n(f),g=r(12),y=n(g),w=r(2);a(w);var I=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_parameter_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_parameter_name_row" class="rbroFormRow"></div>');r.append('<label for="rbro_parameter_name">'+this.rb.getLabel("parameterName")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_parameter_name">').change(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t)if(n.val().trim()!==""){var r=n.val(),a=new _.default("Rename parameter"),o=new m.default(e.selectedObjId,"rbro_parameter_name","name",r,m.default.type.text,e.rb);a.addCommand(o);var l=t.getParent();null!==l&&l.addUpdateTestDataCmdForChangedParameter(t.getName(),r,a);var d=e.rb.getDocElements(!0),s=!0,u=!1,p=void 0;try{for(var b,c=i.default(d);!(s=(b=c.next()).done);s=!0){var h=b.value;h.addCommandsForChangedParameterName(t,r,a)}}catch(f){u=!0,p=f}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}var v=!0,g=!1,y=void 0;try{for(var w,I=i.default(e.rb.getParameters());!(v=(w=I.next()).done);v=!0){var $=w.value;$.addCommandsForChangedParameterName(t,r,a)}}catch(f){g=!0,y=f}finally{try{!v&&I.return&&I.return()}finally{if(g)throw y}}e.rb.executeCommand(a)}else n.val(parameter.getName())});a.append(n),a.append('<div id="rbro_parameter_name_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_parameter_type_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_parameter_type">'+this.rb.getLabel("parameterType")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<select id="rbro_parameter_type">\n                <option value="string">'+this.rb.getLabel("parameterTypeString")+'</option>\n                <option value="number">'+this.rb.getLabel("parameterTypeNumber")+'</option>\n                <option value="boolean">'+this.rb.getLabel("parameterTypeBoolean")+'</option>\n                <option value="date">'+this.rb.getLabel("parameterTypeDate")+'</option>\n                <option value="image">'+this.rb.getLabel("parameterTypeImage")+'</option>\n                <option value="array">'+this.rb.getLabel("parameterTypeArray")+'</option>\n                <option value="simple_array">'+this.rb.getLabel("parameterTypeSimpleArray")+'</option>\n                <option value="map">'+this.rb.getLabel("parameterTypeMap")+'</option>\n                <option value="sum">'+this.rb.getLabel("parameterTypeSum")+'</option>\n                <option value="average">'+this.rb.getLabel("parameterTypeAverage")+"</option>\n            </select>").change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_type","type",o.val(),m.default.type.select,e.rb);e.rb.executeCommand(t)}});a.append(o),a.append('<div id="rbro_parameter_type_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_parameter_array_item_type_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_parameter_array_item_type_row">'+this.rb.getLabel("parameterArrayItemType")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<select id="rbro_parameter_array_item_type">\n                <option value="string">'+this.rb.getLabel("parameterTypeString")+'</option>\n                <option value="number">'+this.rb.getLabel("parameterTypeNumber")+'</option>\n                <option value="boolean">'+this.rb.getLabel("parameterTypeBoolean")+'</option>\n                <option value="date">'+this.rb.getLabel("parameterTypeDate")+"</option>\n            </select>").change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_array_item_type","arrayItemType",l.val(),m.default.type.select,e.rb);e.rb.executeCommand(t)}});if(a.append(l),a.append('<div id="rbro_parameter_array_item_type_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),this.rb.getProperty("adminMode")){r=$('<div class="rbroFormRow" id="rbro_parameter_eval_row"></div>'),r.append('<label for="rbro_parameter_eval">'+this.rb.getLabel("parameterEval")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<input id="rbro_parameter_eval" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_eval","eval",d.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(d),r.append(a),t.append(r)}r=$('<div class="rbroFormRow" id="rbro_parameter_nullable_row"></div>'),r.append('<label for="rbro_parameter_nullable">'+this.rb.getLabel("parameterNullable")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<input id="rbro_parameter_nullable" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_nullable","nullable",s.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_pattern_row"></div>'),r.append('<label for="rbro_parameter_pattern">'+this.rb.getLabel("parameterPattern")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var u=$('<input id="rbro_parameter_pattern">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_pattern","pattern",u.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(u);var p=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=void 0,a=t.getValue("type"),n=a===v.default.type.simpleArray?t.getValue("arrayItemType"):a;r=n===v.default.type.date?e.rb.getProperty("patternDates"):e.rb.getProperty("patternNumbers"),e.rb.getPopupWindow().show(r,e.selectedObjId,"rbro_parameter_pattern","pattern",y.default.type.pattern)}});a.append(p),a.append('<div id="rbro_parameter_pattern_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_expression_row"></div>'),r.append('<label for="rbro_parameter_expression">'+this.rb.getLabel("parameterExpression")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var b=$('<textarea id="rbro_parameter_expression" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_expression","expression",b.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(b),a.append(b),p=$('<div id="rbro_parameter_expression_param_button"\n        class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=void 0,a=void 0;t.getValue("type")===v.default.type.sum||t.getValue("type")===v.default.type.average?(r=e.rb.getArrayFieldParameterItems(v.default.type.number),a=y.default.type.parameterSet):(r=e.rb.getParameterItems(t),a=y.default.type.parameterAppend),e.rb.getPopupWindow().show(r,e.selectedObjId,"rbro_parameter_expression","expression",a)}}),a.append(p),a.append('<div id="rbro_parameter_expression_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_test_data_row"></div>'),r.append('<label for="rbro_parameter_test_data">'+this.rb.getLabel("parameterTestData")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<input id="rbro_parameter_test_data">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_parameter_test_data","testData",c.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(c);var h=$('<button id="rbro_parameter_edit_test_data"\n        class="rbroButton rbroActionButton" style="display: none;">\n                    <span>'+this.rb.getLabel("parameterEditTestData")+'</span>\n                    <span class="rbroIcon-edit"></span>\n                </button>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=t.getTestDataRows(!0);r.length>0?e.rb.getPopupWindow().show(r,e.selectedObjId,"","testData",y.default.type.testData):alert(e.rb.getLabel("parameterEditTestDataNoFields"))}});a.append(h),a.append('<div id="rbro_parameter_test_data_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_parameter_expression"))}},{key:"show",value:function(e){$("#rbro_parameter_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_parameter_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){if(null!==e){var t=e.getValue("editable");$("#rbro_parameter_name").prop("disabled",!t),$("#rbro_parameter_type").prop("disabled",!t),$("#rbro_parameter_eval").prop("disabled",!t),$("#rbro_parameter_nullable").prop("disabled",!t),$("#rbro_parameter_pattern").prop("disabled",!t),$("#rbro_parameter_expression").prop("disabled",!t),t?($("#rbro_parameter_name_row label").removeClass("rbroDisabled"),$("#rbro_parameter_type_row label").removeClass("rbroDisabled"),$("#rbro_parameter_eval_row label").removeClass("rbroDisabled"),$("#rbro_parameter_nullable_row label").removeClass("rbroDisabled"),$("#rbro_parameter_pattern_row label").removeClass("rbroDisabled"),$("#rbro_parameter_expression_row label").removeClass("rbroDisabled")):($("#rbro_parameter_name_row label").addClass("rbroDisabled"),$("#rbro_parameter_type_row label").addClass("rbroDisabled"),$("#rbro_parameter_eval_row label").addClass("rbroDisabled"),$("#rbro_parameter_nullable_row label").addClass("rbroDisabled"),$("#rbro_parameter_pattern_row label").addClass("rbroDisabled"),$("#rbro_parameter_expression_row label").addClass("rbroDisabled")),$("#rbro_parameter_test_data").prop("disabled",!1),$("#rbro_parameter_name").val(e.getName()),$("#rbro_parameter_type").val(e.getValue("type")),$("#rbro_parameter_eval").prop("checked",e.getValue("eval")),$("#rbro_parameter_nullable").prop("checked",e.getValue("nullable")),$("#rbro_parameter_pattern").val(e.getValue("pattern")),$("#rbro_parameter_expression").val(e.getValue("expression")),$("#rbro_parameter_test_data").val(e.getValue("testData")),this.updatePatternPlaceholder(e),this.updateVisibility(e),this.selectedObjId=e.getId()}else $("#rbro_parameter_name").prop("disabled",!0),$("#rbro_parameter_type").prop("disabled",!0),$("#rbro_parameter_eval").prop("disabled",!0),$("#rbro_parameter_nullable").prop("disabled",!0),$("#rbro_parameter_pattern").prop("disabled",!0),$("#rbro_parameter_expression").prop("disabled",!0),$("#rbro_parameter_test_data").prop("disabled",!0);this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(e,t){e instanceof v.default&&e===this.rb.getDetailData()&&t===b.default.operation.change&&this.updateVisibility(e)}},{key:"updatePatternPlaceholder",value:function(e){null!==e&&e.getValue("type")===v.default.type.date?$("#rbro_parameter_test_data").attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):$("#rbro_parameter_test_data").attr("placeholder","")}},{key:"updateVisibility",value:function(e){var t=e.getValue("type"),r=t===v.default.type.simpleArray?e.getValue("arrayItemType"):t,a=e.getValue("showOnlyNameType"),n=null;e.getPanelItem()!==null&&e.getPanelItem().getParent().getData()instanceof v.default&&(n=e.getPanelItem().getParent().getData()),t===v.default.type.simpleArray?$("#rbro_parameter_array_item_type_row").show():$("#rbro_parameter_array_item_type_row").hide(),t===v.default.type.string||t===v.default.type.number||t===v.default.type.boolean||t===v.default.type.date||t===v.default.type.array||t===v.default.type.simpleArray||t===v.default.type.map?$("#rbro_parameter_nullable_row").show():$("#rbro_parameter_nullable_row").hide(),r!==v.default.type.number&&r!==v.default.type.date&&r!==v.default.type.sum&&r!==v.default.type.average||a?$("#rbro_parameter_pattern_row").hide():$("#rbro_parameter_pattern_row").show(),t===v.default.type.image||t===v.default.type.sum||t===v.default.type.average||a?($("#rbro_parameter_eval_row").hide(),$("#rbro_parameter_test_data_row").hide()):(t===v.default.type.image||t===v.default.type.array||t===v.default.type.simpleArray||t===v.default.type.map?$("#rbro_parameter_eval_row").hide():$("#rbro_parameter_eval_row").show(),null!==n&&n.getValue("type")===v.default.type.array||t===v.default.type.map?$("#rbro_parameter_test_data_row").hide():t!==v.default.type.array&&t!==v.default.type.simpleArray&&e.getValue("eval")?$("#rbro_parameter_test_data_row").hide():$("#rbro_parameter_test_data_row").show(),t===v.default.type.array||t===v.default.type.simpleArray?($("#rbro_parameter_test_data").hide(),$("#rbro_parameter_edit_test_data").show()):($("#rbro_parameter_test_data").show(),$("#rbro_parameter_edit_test_data").hide())),(!e.getValue("eval")||t!==v.default.type.string&&t!==v.default.type.number&&t!==v.default.type.boolean&&t!==v.default.type.date)&&t!==v.default.type.sum&&t!==v.default.type.average||a?$("#rbro_parameter_expression_row").hide():$("#rbro_parameter_expression_row").show(),e.getPanelItem()!==null&&e.getPanelItem().getParent()===this.rb.getMainPanel().getParametersItem()?($('#rbro_parameter_type option[value="array"]').removeClass("rbroHidden"),$('#rbro_parameter_type option[value="map"]').removeClass("rbroHidden")):($('#rbro_parameter_type option[value="array"]').addClass("rbroHidden"),$('#rbro_parameter_type option[value="map"]').addClass("rbroHidden")),null!==n&&n.getValue("type")===v.default.type.array?($('#rbro_parameter_type option[value="image"]').addClass("rbroHidden"),$('#rbro_parameter_type option[value="sum"]').addClass("rbroHidden"),$('#rbro_parameter_type option[value="average"]').addClass("rbroHidden")):($('#rbro_parameter_type option[value="image"]').removeClass("rbroHidden"),$('#rbro_parameter_type option[value="sum"]').removeClass("rbroHidden"),$('#rbro_parameter_type option[value="average"]').removeClass("rbroHidden"))}},{key:"updateErrors",value:function(){$("#rbro_parameter_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_parameter_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_parameter_"+l.field+"_row",s="rbro_parameter_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u)}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=I},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(17);n(p);var b=r(4),c=n(b),_=r(2),h=a(_),m=r(14),f=n(m),v=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_section_band_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_section_band_element_height">'+this.rb.getLabel("docElementHeight")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_section_band_element_height">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_section_band_element_height","height",n.val(),c.default.type.text,e.rb);e.rb.executeCommand(t)}});h.setInputDecimal(n),a.append(n),a.append('<div id="rbro_section_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_section_band_element_repeat_header_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_section_band_element_repeat_header">'+this.rb.getLabel("tableElementRepeatHeader")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<input id="rbro_section_band_element_repeat_header" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_section_band_element_repeat_header","repeatHeader",o.is(":checked"),c.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(o),r.append(a),t.append(r),r=$('<div id="rbro_section_band_element_always_print_on_same_page_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_section_band_element_always_print_on_same_page">'+this.rb.getLabel("docElementAlwaysPrintOnSamePage")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<input id="rbro_section_band_element_always_print_on_same_page" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_section_band_element_always_print_on_same_page","alwaysPrintOnSamePage",i.is(":checked"),c.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(i),a.append('<div id="rbro_section_band_element_always_print_on_same_page_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_section_band_element_shrink_to_content_height">'+this.rb.getLabel("frameElementShrinkToContentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<input id="rbro_section_band_element_shrink_to_content_height" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_section_band_element_shrink_to_content_height","shrinkToContentHeight",l.is(":checked"),c.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(l),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"show",value:function(e){$("#rbro_section_band_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_section_band_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_section_band_element_height").prop("disabled",!1),$("#rbro_section_band_element_repeat_header").prop("disabled",!1),$("#rbro_section_band_shrink_to_content_height").prop("disabled",!1),$("#rbro_section_band_element_height").val(e.getValue("height")),e.getValue("bandType")===f.default.bandType.header?($("#rbro_section_band_element_repeat_header").prop("checked",e.getValue("repeatHeader")),$("#rbro_section_band_element_repeat_header_row").show(),$("#rbro_section_band_element_always_print_on_same_page_row").hide()):($("#rbro_section_band_element_repeat_header_row").hide(),$("#rbro_section_band_element_always_print_on_same_page").prop("checked",e.getValue("alwaysPrintOnSamePage")),$("#rbro_section_band_element_always_print_on_same_page_row").show()),$("#rbro_section_band_shrink_to_content_height").prop("checked",e.getValue("shrinkToContentHeight")),this.selectedObjId=e.getId()):($("#rbro_section_band_element_height").prop("disabled",!0),$("#rbro_section_band_element_repeat_header").prop("disabled",!0),$("#rbro_section_band_shrink_to_content_height").prop("disabled",!0)),this.updateErrors()
}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_section_band_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_section_band_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_section_band_element_"+l.field+"_row",s="rbro_section_band_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u)}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(4),b=n(p),c=r(11),_=n(c),h=r(12),m=n(h),f=r(2),v=a(f),g=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_section_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_section_element_label">'+this.rb.getLabel("docElementLabel")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_section_element_label">').on("input",function(){if(e.rb.getDataObject(e.getSelectedObjId())!==null){var t=new b.default(e.getSelectedObjId(),"rbro_section_element_label","label",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(n),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_section_element_data_source_row"></div>'),r.append('<label for="rbro_section_element_data_source">'+this.rb.getLabel("docElementDataSource")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var o=$('<textarea id="rbro_section_element_data_source" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_section_element_data_source","dataSource",o.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(o),a.append(o);var i=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t,[_.default.type.array]),e.selectedObjId,"rbro_section_element_data_source","dataSource",m.default.type.parameterSet)});a.append(i),a.append('<div id="rbro_section_element_data_source_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_section_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_section_element_position_y">'+this.rb.getLabel("docElementPositionY")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<input id="rbro_section_element_position_y">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_section_element_position_y","y",l.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});v.setInputDecimal(l),a.append(l),a.append('<div id="rbro_section_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_section_element_header">'+this.rb.getLabel("header")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<label class="switch-light switch-material"></label>'),s=$('<input id="rbro_section_element_header" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_section_element_header","header",s.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});d.append(s);var u=$("<span></span>");u.append($("<span></span>")),u.append($("<span></span>")),u.append($("<a></a>")),d.append(u),a.append(d),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_section_element_footer">'+this.rb.getLabel("footer")+":</label>"),a=$('<div class="rbroFormField"></div>');var p=$('<label class="switch-light switch-material"></label>'),c=$('<input id="rbro_section_element_footer" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_section_element_footer","footer",c.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});p.append(c);var h=$("<span></span>");h.append($("<span></span>")),h.append($("<span></span>")),h.append($("<a></a>")),p.append(h),a.append(p),r.append(a),t.append(r);var f=$('<div class="rbroPanelSectionHeader"></div>'),g=$('<span id="rbro_section_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_section_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_section_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_section_element_print_section").toggleClass("rbroHidden"),g.toggleClass("rbroIcon-plus"),g.toggleClass("rbroIcon-minus"),g.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(f.position().top),autosize.update($("#rbro_section_element_print_if"))}),f.append(g),f.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(f),t.append(r);var y=$('<div id="rbro_section_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_section_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_section_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var w=$('<textarea id="rbro_section_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_section_element_print_if","printIf",w.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(w),a.append(w),i=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_section_element_print_if","parameter",m.default.type.parameterAppend)}),a.append(i),a.append('<div id="rbro_section_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),y.append(r),t.append(y),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_section_element_print_if"))}},{key:"show",value:function(e){$("#rbro_section_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_section_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_section_element_data_source").prop("disabled",!1),$("#rbro_section_element_label").prop("disabled",!1),$("#rbro_section_element_position_y").prop("disabled",!1),$("#rbro_table_element_header").prop("disabled",!1),$("#rbro_table_element_footer").prop("disabled",!1),$("#rbro_section_element_print_if").prop("disabled",!1),$("#rbro_section_element_data_source").val(e.getValue("dataSource")),$("#rbro_section_element_label").val(e.getValue("label")),$("#rbro_section_element_position_y").val(e.getValue("y")),$("#rbro_section_element_header").prop("checked",e.getValue("header")),$("#rbro_section_element_footer").prop("checked",e.getValue("footer")),$("#rbro_section_element_print_if").val(e.getValue("printIf")),this.selectedObjId=e.getId()):($("#rbro_section_element_data_source").prop("disabled",!0),$("#rbro_section_element_label").prop("disabled",!0),$("#rbro_section_element_position_y").prop("disabled",!0),$("#rbro_table_element_header").prop("disabled",!0),$("#rbro_table_element_footer").prop("disabled",!0),$("#rbro_section_element_print_if").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_section_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_section_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_section_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_section_element_"+l.field+"_row",s="rbro_section_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"&&($("#rbro_section_element_print_header").addClass("rbroError"),$("#rbro_section_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_section_element_print_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=g},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(4),b=n(p),c=r(14),_=n(c),h=r(2),m=a(h),f=r(12),v=n(f),g=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_table_band_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_table_band_element_height">'+this.rb.getLabel("docElementHeight")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_table_band_element_height">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_table_band_element_height","height",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});m.setInputDecimal(n),a.append(n),r.append(a),t.append(r),r=$('<div id="rbro_table_band_element_repeat_header_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_repeat_header">'+this.rb.getLabel("tableElementRepeatHeader")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<input id="rbro_table_band_element_repeat_header" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_table_band_element_repeat_header","repeatHeader",o.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(o),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_background_color">'+this.rb.getLabel("styleBackgroundColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<div class="rbroColorPickerContainer"></div>'),l=$('<input id="rbro_table_band_element_background_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_table_band_element_background_color","backgroundColor",l.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});i.append(l),a.append(i),r.append(a),t.append(r),m.initColorPicker(l,this.rb,{allowEmpty:!0}),r=$('<div id="rbro_table_band_element_alternate_background_color_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_alternate_background_color">'+this.rb.getLabel("tableElementAlternateBackgroundColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<div class="rbroColorPickerContainer"></div>'),s=$('<input id="rbro_table_band_element_alternate_background_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_table_band_element_alternate_background_color","alternateBackgroundColor",s.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});d.append(s),a.append(d),r.append(a),t.append(r),m.initColorPicker(s,this.rb,{allowEmpty:!0}),r=$('<div id="rbro_table_band_element_always_print_on_same_page_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_always_print_on_same_page">'+this.rb.getLabel("docElementAlwaysPrintOnSamePage")+":</label>"),a=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_table_band_element_always_print_on_same_page" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_table_band_element_always_print_on_same_page","alwaysPrintOnSamePage",u.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(u),r.append(a),t.append(r),r=$('<div id="rbro_table_band_element_group_expression_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_group_expression">'+this.rb.getLabel("tableElementGroupExpression")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var p=$('<textarea id="rbro_table_band_element_group_expression" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("groupExpression")!==p.val()){var r=new b.default(e.selectedObjId,"rbro_table_band_element_group_expression","groupExpression",p.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}}).blur(function(){e.rb.getPopupWindow().hide()});autosize(p),a.append(p);var c=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_table_band_element_group_expression","groupExpression",v.default.type.parameterSet)});a.append(c),a.append('<div id="rbro_text_element_group_expression_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_table_band_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var _=$('<textarea id="rbro_table_band_element_print_if" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("printIf")!==_.val()){var r=new b.default(e.selectedObjId,"rbro_table_band_element_print_if","printIf",_.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});autosize(_),a.append(_),c=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_table_band_element_print_if","printIf",v.default.type.parameterAppend)}),a.append(c),a.append('<div id="rbro_table_band_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_table_band_element_group_expression")),autosize.update($("#rbro_table_band_element_print_if"))}},{key:"show",value:function(e){$("#rbro_table_band_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_table_band_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_table_band_element_height").prop("disabled",!1),$("#rbro_table_band_element_repeat_header").prop("disabled",!1),$("#rbro_table_band_element_height").val(e.getValue("height")),$("#rbro_table_band_element_background_color").spectrum("set",e.getValue("backgroundColor")),e.getValue("bandType")===_.default.bandType.header?($("#rbro_table_band_element_repeat_header").prop("checked",e.getValue("repeatHeader")),$("#rbro_table_band_element_repeat_header_row").show()):$("#rbro_table_band_element_repeat_header_row").hide(),e.getValue("bandType")===_.default.bandType.content?($("#rbro_table_band_element_alternate_background_color").spectrum("set",e.getValue("alternateBackgroundColor")),$("#rbro_table_band_element_always_print_on_same_page").prop("checked",e.getValue("alwaysPrintOnSamePage")),$("#rbro_table_band_element_group_expression").val(e.getValue("groupExpression")),$("#rbro_table_band_element_print_if").val(e.getValue("printIf")),$("#rbro_table_band_element_alternate_background_color_row").show(),$("#rbro_table_band_element_always_print_on_same_page_row").show(),$("#rbro_table_band_element_group_expression_row").show(),$("#rbro_table_band_element_print_if_row").show()):($("#rbro_table_band_element_alternate_background_color_row").hide(),$("#rbro_table_band_element_always_print_on_same_page_row").hide(),$("#rbro_table_band_element_group_expression_row").hide(),$("#rbro_table_band_element_print_if_row").hide()),this.selectedObjId=e.getId()):($("#rbro_table_band_element_height").prop("disabled",!0),$("#rbro_table_band_element_repeat_header").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_table_band_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_table_band_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_table_band_element_"+l.field+"_row",s="rbro_table_band_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u)}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=g},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(17),b=n(p),c=r(4),_=n(c),h=r(11),m=n(h),f=r(3);n(f);var v=r(42),g=n(v),y=r(12),w=n(y),I=r(2),C=a(I),x=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_table_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow" id="rbro_table_element_data_source_row"></div>');r.append('<label for="rbro_table_element_data_source">'+this.rb.getLabel("docElementDataSource")+":</label>");var a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>'),n=$('<textarea id="rbro_table_element_data_source" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_data_source","dataSource",n.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t,[m.default.type.array]),e.selectedObjId,"rbro_table_element_data_source","dataSource",w.default.type.parameterSet)});a.append(o),a.append('<div id="rbro_table_element_data_source_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_table_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_position">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var i=$('<input id="rbro_table_element_position_x">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_position_x","x",i.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});C.setInputDecimal(i),a.append(i);var l=$('<input id="rbro_table_element_position_y">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_position_y","y",l.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});C.setInputDecimal(l),a.append(l),a.append('<div id="rbro_table_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_columns">'+this.rb.getLabel("tableElementColumns")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<input id="rbro_table_element_columns" maxlength="2">').change(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=C.checkInputDecimal(d.val(),1,99);r!==d.val()&&d.val(r);var a=new b.default("Set value"),n=C.convertInputToNumber(r),o=t.addCommandsForChangedColumns(n,a);o!==n&&d.val(o),a.isEmpty()||e.rb.executeCommand(a)}});C.setInputPositiveInteger(d),a.append(d),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_header">'+this.rb.getLabel("header")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<label class="switch-light switch-material"></label>'),u=$('<input id="rbro_table_element_header" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_header","header",u.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});s.append(u);var p=$("<span></span>");p.append($("<span></span>")),p.append($("<span></span>")),p.append($("<a></a>")),s.append(p),a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_content_rows">'+this.rb.getLabel("tableElementContentRows")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<input id="rbro_table_element_content_rows" maxlength="2">').change(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=C.checkInputDecimal(c.val(),1,99);r!==c.val()&&c.val(r);var a=new b.default("Set value"),n=C.convertInputToNumber(r);t.addCommandsForChangedContentRows(n,a),a.isEmpty()||e.rb.executeCommand(a)}});C.setInputPositiveInteger(c),a.append(c),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_footer">'+this.rb.getLabel("footer")+":</label>"),a=$('<div class="rbroFormField"></div>');var h=$('<label class="switch-light switch-material"></label>'),f=$('<input id="rbro_table_element_footer" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_footer","footer",f.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});h.append(f);var v=$("<span></span>");v.append($("<span></span>")),v.append($("<span></span>")),v.append($("<a></a>")),h.append(v),a.append(h),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append("<label>"+this.rb.getLabel("styleBorder")+":</label>"),a=$('<div class="rbroFormField"></div>');var y=$('<div id="rbro_table_element_border"></div>'),I=$('<button id="rbro_table_element_border_grid" class="rbroButton rbroActionButton rbroIcon-border-table-grid"\n                type="button" value="grid"\n                title="'+this.rb.getLabel("tableElementBorderGrid")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.grid,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});y.append(I);var x=$('<button id="rbro_table_element_border_frame_row" class="rbroButton rbroActionButton rbroIcon-border-table-frame-row"\n                type="button" value="frame_row"\n                title="'+this.rb.getLabel("tableElementBorderFrameRow")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.frameRow,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});y.append(x);var k=$('<button id="rbro_table_element_border_frame" class="rbroButton rbroActionButton rbroIcon-border-table-frame"\n                type="button" value="frame"\n                title="'+this.rb.getLabel("tableElementBorderFrame")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.frame,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});y.append(k);var D=$('<button id="rbro_table_element_border_row" class="rbroButton rbroActionButton rbroIcon-border-table-row"\n                type="button" value="row"\n                title="'+this.rb.getLabel("tableElementBorderRow")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.row,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});y.append(D);var O=$('<button id="rbro_table_element_border_none" class="rbroButton rbroActionButton rbroIcon-border-table-none"\n                type="button" value="none"\n                title="'+this.rb.getLabel("tableElementBorderNone")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.none,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});y.append(O),a.append(y),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_border_color">'+this.rb.getLabel("styleBorderColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var P=$('<div class="rbroColorPickerContainer"></div>'),S=$('<input id="rbro_table_element_border_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border_color","borderColor",S.val(),_.default.type.color,e.rb);e.rb.executeCommand(t)}});P.append(S),a.append(P),r.append(a),t.append(r),C.initColorPicker(S,this.rb),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_border_width">'+this.rb.getLabel("styleBorderWidth")+":</label>"),a=$('<div class="rbroFormField"></div>');var j=$('<input id="rbro_table_element_border_width">').on("input",function(){if(e.rb.getDataObject(e.getSelectedObjId())!==null){var t=new _.default(e.getSelectedObjId(),"rbro_table_element_border_width","borderWidth",j.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(j),r.append(a),C.setInputDecimal(j),t.append(r);var E=$('<div class="rbroPanelSectionHeader"></div>'),V=$('<span id="rbro_table_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_table_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_table_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_table_element_print_section").toggleClass("rbroHidden"),V.toggleClass("rbroIcon-plus"),V.toggleClass("rbroIcon-minus"),V.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(E.position().top),autosize.update($("#rbro_table_element_print_if"))}),E.append(V),E.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(E),t.append(r);var T=$('<div id="rbro_table_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_table_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var F=$('<textarea id="rbro_table_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_print_if","printIf",F.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(F),a.append(F),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_table_element_print_if","printIf",w.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_table_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),T.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var A=$('<input id="rbro_table_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_remove_empty_element","removeEmptyElement",A.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});if(a.append(A),r.append(a),T.append(r),t.append(T),this.rb.getProperty("enableSpreadsheet")){var B=$('<div class="rbroPanelSectionHeader"></div>'),L=$('<span id="rbro_table_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_table_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_table_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_table_element_spreadsheet_section").toggleClass("rbroHidden"),L.toggleClass("rbroIcon-plus"),L.toggleClass("rbroIcon-minus"),L.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+B.position().top))}),B.append(L),B.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(B),t.append(r);var M=$('<div id="rbro_table_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_table_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var R=$('<input id="rbro_table_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_spreadsheet_hide","spreadsheet_hide",R.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(R),r.append(a),M.append(r),r=$('<div id="rbro_table_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var H=$('<input id="rbro_table_element_spreadsheet_column">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_spreadsheet_column","spreadsheet_column",H.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});C.setInputPositiveInteger(H),a.append(H),a.append('<div id="rbro_table_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),M.append(r),r=$('<div id="rbro_table_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var N=$('<input id="rbro_table_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",N.is(":checked"),_.default.type.checkbox,e.rb);
e.rb.executeCommand(t)}});a.append(N),r.append(a),M.append(r),t.append(M)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_table_element_data_source")),autosize.update($("#rbro_line_element_print_if"))}},{key:"show",value:function(e){$("#rbro_table_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_table_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_table_element_data_source").prop("disabled",!1),$("#rbro_table_element_position_x").prop("disabled",!1),$("#rbro_table_element_position_y").prop("disabled",!1),$("#rbro_table_element_columns").prop("disabled",!1),$("#rbro_table_element_header").prop("disabled",!1),$("#rbro_table_element_footer").prop("disabled",!1),$("#rbro_table_element_border_grid").prop("disabled",!1),$("#rbro_table_element_border_frame_row").prop("disabled",!1),$("#rbro_table_element_border_frame").prop("disabled",!1),$("#rbro_table_element_border_row").prop("disabled",!1),$("#rbro_table_element_border_none").prop("disabled",!1),$("#rbro_table_element_border_color").spectrum("enable"),$("#rbro_table_element_border_width").prop("disabled",!1),$("#rbro_table_element_print_if").prop("disabled",!1),$("#rbro_table_element_remove_empty_element").prop("disabled",!1),$("#rbro_table_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_table_element_spreadsheet_column").prop("disabled",!1),$("#rbro_table_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_table_element_data_source").val(e.getValue("dataSource")),$("#rbro_table_element_position_x").val(e.getValue("x")),$("#rbro_table_element_position_y").val(e.getValue("y")),$("#rbro_table_element_columns").val(e.getValue("columns")),$("#rbro_table_element_header").prop("checked",e.getValue("header")),$("#rbro_table_element_content_rows").val(e.getValue("contentRows")),$("#rbro_table_element_footer").prop("checked",e.getValue("footer")),$("#rbro_table_element_border").find("button").removeClass("rbroButtonActive"),$("#rbro_table_element_border").find('button[value="'+e.getValue("border")+'"]').addClass("rbroButtonActive"),$("#rbro_table_element_border_color").spectrum("set",e.getValue("borderColor")),$("#rbro_table_element_border_width").val(e.getValue("borderWidth")),$("#rbro_table_element_print_if").val(e.getValue("printIf")),$("#rbro_table_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_table_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_table_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_table_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_table_element_data_source").prop("disabled",!0),$("#rbro_table_element_position_x").prop("disabled",!0),$("#rbro_table_element_position_y").prop("disabled",!0),$("#rbro_table_element_columns").prop("disabled",!0),$("#rbro_table_element_header").prop("disabled",!0),$("#rbro_table_element_content_rows").prop("disabled",!0),$("#rbro_table_element_footer").prop("disabled",!0),$("#rbro_table_element_border_grid").prop("disabled",!0),$("#rbro_table_element_border_frame_row").prop("disabled",!0),$("#rbro_table_element_border_frame").prop("disabled",!0),$("#rbro_table_element_border_row").prop("disabled",!0),$("#rbro_table_element_border_none").prop("disabled",!0),$("#rbro_table_element_border_color").spectrum("disable"),$("#rbro_table_element_border_width").prop("disabled",!0),$("#rbro_table_element_print_if").prop("disabled",!0),$("#rbro_table_element_remove_empty_element").prop("disabled",!0),$("#rbro_table_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_table_element_spreadsheet_column").prop("disabled",!0),$("#rbro_table_element_spreadsheet_add_empty_row").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_table_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_table_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_table_element_"+l.field+"_row",s="rbro_table_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="spreadsheet_column"&&($("#rbro_table_element_spreadsheet_header").addClass("rbroError"),$("#rbro_table_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_table_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=x},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(33),b=n(p),c=r(13),_=n(c),h=r(4),m=n(h),f=r(14),v=n(f),g=r(15),y=n(g),w=r(3),I=n(w),C=r(32),x=n(C),k=r(12),D=n(k),O=r(2),P=a(O),S=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.elStyle=null,this.cs_elStyle=null,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_text_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_text_element_content_row" class="rbroFormRow"></div>');r.append('<label for="rbro_text_element_content">'+this.rb.getLabel("textElementContent")+":</label>");var a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>'),n=$('<textarea id="rbro_text_element_content" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("content")!==n.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_content","content",n.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}}).blur(function(){e.rb.getPopupWindow().hide()});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_content","content",D.default.type.parameterAppend)});a.append(o),a.append('<div id="rbro_text_element_content_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_text_element_eval_row"></div>'),r.append('<label for="rbro_text_element_eval">'+this.rb.getLabel("textElementEval")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<input id="rbro_text_element_eval" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_eval","eval",i.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(i),r.append(a),t.append(r),r=$('<div id="rbro_text_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_position_x">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var l=$('<input id="rbro_text_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==l.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_position_x","x",l.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});P.setInputDecimal(l),a.append(l);var d=$('<input id="rbro_text_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==d.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_position_y","y",d.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});P.setInputDecimal(d),a.append(d),a.append('<div id="rbro_text_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_text_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_size">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var s=$('<input id="rbro_text_element_width">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("width")!==s.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_width","width",s.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});P.setInputDecimal(s),a.append(s);var u=$('<input id="rbro_text_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==u.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_height","height",u.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});P.setInputDecimal(u),a.append(u),a.append('<div id="rbro_text_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var p=$('<div class="rbroPanelSectionHeader"></div>'),c=$('<span id="rbro_text_element_style_header_icon" class="rbroPanelSectionHeaderOpen rbroIcon-minus"></span>');r=$('<div id="rbro_text_element_style_header" class="rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_style_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_style_section").toggleClass("rbroHidden"),c.toggleClass("rbroIcon-plus"),c.toggleClass("rbroIcon-minus"),c.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+p.position().top))}),p.append(c),p.append("<span>"+this.rb.getLabel("docElementStyle")+"</span>"),r.append(p),t.append(r);var _=$('<div id="rbro_text_element_style_section"></div>');r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_style_id">'+this.rb.getLabel("docElementStyle")+":</label>"),a=$('<div class="rbroFormField"></div>'),this.elStyle=$('<select id="rbro_text_element_style_id"></select>').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_style_id","styleId",e.elStyle.val(),m.default.type.select,e.rb);e.rb.executeCommand(t)}}),a.append(this.elStyle),r.append(a),_.append(r);var h=$('<div id="rbro_text_element_style_settings"></div>');b.default.renderStyle(h,"text_element_","",I.default.type.text,this,this.rb),_.append(h),t.append(_);var f=$('<div class="rbroPanelSectionHeader"></div>'),v=$('<span id="rbro_text_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_text_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_print_section").toggleClass("rbroHidden"),v.toggleClass("rbroIcon-plus"),v.toggleClass("rbroIcon-minus"),v.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+f.position().top),autosize.update($("#rbro_text_element_print_if")))}),f.append(v),f.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(f),t.append(r);var g=$('<div id="rbro_text_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_text_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var y=$('<textarea id="rbro_text_element_print_if" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("printIf")!==y.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_print_if","printIf",y.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});autosize(y),a.append(y),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_print_if","printIf",D.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_text_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),g.append(r),r=$('<div id="rbro_text_element_remove_empty_element_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var w=$('<input id="rbro_text_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_remove_empty_element","removeEmptyElement",w.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(w),r.append(a),g.append(r),r=$('<div id="rbro_text_element_always_print_on_same_page_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_always_print_on_same_page">'+this.rb.getLabel("docElementAlwaysPrintOnSamePage")+":</label>"),a=$('<div class="rbroFormField"></div>');var C=$('<input id="rbro_text_element_always_print_on_same_page" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_always_print_on_same_page","alwaysPrintOnSamePage",C.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(C),r.append(a),g.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_pattern">'+this.rb.getLabel("textElementPattern")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var x=$('<input id="rbro_text_element_pattern">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("pattern")!==x.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_pattern","pattern",x.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});a.append(x),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getPatterns(),e.selectedObjId,"rbro_text_element_pattern","pattern",D.default.type.pattern)}),a.append(o),a.append('<div id="rbro_text_element_pattern_error" class="rbroErrorMessage"></div>'),r.append(a),g.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_link">'+this.rb.getLabel("docElementLink")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var k=$('<input id="rbro_text_element_link">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("link")!==k.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_link","link",k.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});a.append(k),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_link","link",D.default.type.parameterSet)}),a.append(o),a.append('<div id="rbro_text_element_link_error" class="rbroErrorMessage"></div>'),r.append(a),g.append(r),t.append(g);var O=$('<div class="rbroPanelSectionHeader"></div>'),S=$('<span id="rbro_text_element_cs_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_text_element_cs_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_cs_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_cs_section").toggleClass("rbroHidden"),S.toggleClass("rbroIcon-plus"),S.toggleClass("rbroIcon-minus"),S.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+O.position().top),autosize.update($("#rbro_text_element_cs_condition")))}),O.append(S),O.append("<span>"+this.rb.getLabel("docElementConditionalStyle")+"</span>"),r.append(O),t.append(r);var j=$('<div id="rbro_text_element_cs_section" class="rbroHidden"></div>');r=$('<div id="rbro_text_element_cs_condition_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_cs_condition">'+this.rb.getLabel("docElementConditionalStyleCondition")+":</label>"),a=$('<div class="rbroFormField rbroSplit rbroSelector"></div>');var E=$('<textarea id="rbro_text_element_cs_condition" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_cs_condition","cs_condition",E.val(),m.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(E),a.append(E),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_cs_condition","cs_condition",D.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_text_element_cs_condition_error" class="rbroErrorMessage"></div>'),r.append(a),j.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_cs_style_id">'+this.rb.getLabel("docElementStyle")+":</label>"),a=$('<div class="rbroFormField"></div>'),this.cs_elStyle=$('<select id="rbro_text_element_cs_style_id"></select>').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_cs_style_id","cs_styleId",e.cs_elStyle.val(),m.default.type.select,e.rb);e.rb.executeCommand(t)}}),a.append(this.cs_elStyle),r.append(a),j.append(r);var V=$('<div id="rbro_text_element_cs_style_settings"></div>');if(b.default.renderStyle(V,"text_element_cs_","cs_",I.default.type.text,this,this.rb),j.append(V),t.append(j),this.rb.getProperty("enableSpreadsheet")){var T=$('<div class="rbroPanelSectionHeader"></div>'),F=$('<span id="rbro_text_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_text_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_spreadsheet_section").toggleClass("rbroHidden"),F.toggleClass("rbroIcon-plus"),F.toggleClass("rbroIcon-minus"),F.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+T.position().top))}),T.append(F),T.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(T),t.append(r);var A=$('<div id="rbro_text_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_text_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var B=$('<input id="rbro_text_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_spreadsheet_hide","spreadsheet_hide",B.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(B),r.append(a),A.append(r),r=$('<div id="rbro_text_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var L=$('<input id="rbro_text_element_spreadsheet_column">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_column")!==L.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_spreadsheet_column","spreadsheet_column",L.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});P.setInputPositiveInteger(L),a.append(L),a.append('<div id="rbro_text_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),A.append(r),r=$('<div id="rbro_text_element_spreadsheet_colspan_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_colspan">'+this.rb.getLabel("docElementSpreadsheetColspan")+":</label>"),a=$('<div class="rbroFormField"></div>');var M=$('<input id="rbro_text_element_spreadsheet_colspan">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_colspan")!==M.val()){var r=new m.default(e.selectedObjId,"rbro_text_element_spreadsheet_colspan","spreadsheet_colspan",M.val(),m.default.type.text,e.rb);e.rb.executeCommand(r)}});P.setInputPositiveInteger(M),a.append(M),a.append('<div id="rbro_text_element_spreadsheet_colspan_error" class="rbroErrorMessage"></div>'),r.append(a),A.append(r),r=$('<div id="rbro_text_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var R=$('<input id="rbro_text_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new m.default(e.selectedObjId,"rbro_text_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",R.is(":checked"),m.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(R),r.append(a),A.append(r),t.append(A)}$("#rbro_detail_panel").append(t),this.renderStyleSelect()}},{key:"renderStyleSelect",value:function(){this.elStyle.empty(),this.cs_elStyle.empty(),this.elStyle.append('<option value="">'+this.rb.getLabel("styleNone")+"</option>"),this.cs_elStyle.append('<option value="">'+this.rb.getLabel("styleNone")+"</option>");var e=this.rb.getStyles(),t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e);!(t=(n=o.next()).done);t=!0){var l=n.value;this.elStyle.append('<option value="'+l.getId()+'">'+l.getName()+"</option>"),this.cs_elStyle.append('<option value="'+l.getId()+'">'+l.getName()+"</option>")}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_text_element_content")),autosize.update($("#rbro_text_element_print_if")),autosize.update($("#rbro_text_element_cs_condition"))}},{key:"show",value:function(e){$("#rbro_text_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_text_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){if(null!==e){if($("#rbro_text_element_content").prop("disabled",!1),$("#rbro_text_element_eval").prop("disabled",!1),$("#rbro_text_element_position_x").prop("disabled",!1),$("#rbro_text_element_position_y").prop("disabled",!1),$("#rbro_text_element_width").prop("disabled",!1),$("#rbro_text_element_height").prop("disabled",!1),$("#rbro_text_element_print_if").prop("disabled",!1),$("#rbro_text_element_remove_empty_element").prop("disabled",!1),$("#rbro_text_element_always_print_on_same_page").prop("disabled",!1),$("#rbro_text_element_pattern").prop("disabled",!1),$("#rbro_text_element_link").prop("disabled",!1),$("#rbro_text_element_cs_condition").prop("disabled",!1),$("#rbro_text_element_style_id").prop("disabled",!1),$("#rbro_text_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_text_element_spreadsheet_column").prop("disabled",!1),$("#rbro_text_element_spreadsheet_colspan").prop("disabled",!1),$("#rbro_text_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_text_element_content").val(e.getValue("content")),$("#rbro_text_element_eval").prop("checked",e.getValue("eval")),$("#rbro_text_element_width").val(e.getValue("width")),$("#rbro_text_element_height").val(e.getValue("height")),$("#rbro_text_element_print_if").val(e.getValue("printIf")),$("#rbro_text_element_pattern").val(e.getValue("pattern")),$("#rbro_text_element_link").val(e.getValue("link")),e instanceof x.default){$("#rbro_text_element_position_x").val(e.getOffsetX()),$("#rbro_text_element_remove_empty_element_row").hide(),$("#rbro_text_element_always_print_on_same_page_row").hide();var t=this.rb.getDataObject(e.parentId);null!==t&&t.getValue("bandType")===v.default.bandType.header?$("#rbro_text_element_print_if_row").show():$("#rbro_text_element_print_if_row").hide(),$("#rbro_text_element_spreadsheet_hide").hide(),$("#rbro_text_element_spreadsheet_column").hide(),$("#rbro_text_element_spreadsheet_colspan").hide(),$("#rbro_text_element_spreadsheet_header").hide(),$("#rbro_text_element_spreadsheet_section").hide()}else $("#rbro_text_element_position_x").val(e.getValue("x")),$("#rbro_text_element_position_y").val(e.getValue("y")),$("#rbro_text_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_text_element_always_print_on_same_page").prop("checked",e.getValue("alwaysPrintOnSamePage")),$("#rbro_text_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_text_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_text_element_spreadsheet_colspan").val(e.getValue("spreadsheet_colspan")),$("#rbro_text_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),$("#rbro_text_element_print_if_row").show(),$("#rbro_text_element_remove_empty_element_row").show(),$("#rbro_text_element_always_print_on_same_page_row").show(),$("#rbro_text_element_spreadsheet_hide").show(),$("#rbro_text_element_spreadsheet_column").show(),$("#rbro_text_element_spreadsheet_colspan").show(),$("#rbro_text_element_spreadsheet_header").show(),$("#rbro_text_element_spreadsheet_section").show();$("#rbro_text_element_cs_condition").val(e.getValue("cs_condition")),$("#rbro_text_element_style_id").val(e.getValue("styleId")),e.getValue("styleId")!==""?$("#rbro_text_element_style_settings").hide():$("#rbro_text_element_style_settings").show(),$("#rbro_text_element_cs_style_id").val(e.getValue("cs_styleId")),e.getValue("cs_styleId")!=""?$("#rbro_text_element_cs_style_settings").hide():$("#rbro_text_element_cs_style_settings").show(),e.getXTagId()!==""?($("#rbro_text_element_position_row label").text(this.rb.getLabel("docElementPosition")+":"),$("#rbro_text_element_position_row label").removeClass("rbroDisabled"),$("#rbro_text_element_position_x").prop("disabled",!1)):($("#rbro_text_element_position_row label").text(this.rb.getLabel("docElementPositionX")+":"),$("#rbro_text_element_position_row label").addClass("rbroDisabled"),$("#rbro_text_element_position_x").prop("disabled",!0)),e.getYTagId()!==""?$("#rbro_text_element_position_y").show():$("#rbro_text_element_position_y").hide(),e.getHeightTagId()!==""?($("#rbro_text_element_size_row label").text(this.rb.getLabel("docElementSize")+":"),$("#rbro_text_element_height").show()):($("#rbro_text_element_size_row label").text(this.rb.getLabel("docElementWidth")+":"),$("#rbro_text_element_height").hide()),e.hasBorderSettings()?($("#rbro_text_element_border_div").show(),$("#rbro_text_element_cs_border_div").show()):($("#rbro_text_element_border_div").hide(),$("#rbro_text_element_cs_border_div").hide()),this.selectedObjId=e.getId()}else $("#rbro_text_element_content").prop("disabled",!0),$("#rbro_text_element_eval").prop("disabled",!0),$("#rbro_text_element_position_x").prop("disabled",!0),$("#rbro_text_element_position_y").prop("disabled",!0),$("#rbro_text_element_width").prop("disabled",!0),$("#rbro_text_element_height").prop("disabled",!0),$("#rbro_text_element_print_if").prop("disabled",!0),$("#rbro_text_element_remove_empty_element").prop("disabled",!0),$("#rbro_text_element_always_print_on_same_page").prop("disabled",!0),$("#rbro_text_element_pattern").prop("disabled",!0),$("#rbro_text_element_link").prop("disabled",!0),$("#rbro_text_element_cs_condition").prop("disabled",!0),$("#rbro_text_element_style_id").prop("disabled",!0),$("#rbro_text_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_text_element_spreadsheet_column").prop("disabled",!0),$("#rbro_text_element_spreadsheet_colspan").prop("disabled",!0),$("#rbro_text_element_spreadsheet_add_empty_row").prop("disabled",!0),this.selectedObjId=null;b.default.updateStyleData(e,"text_element_","",I.default.type.text),b.default.updateStyleData(e,"text_element_cs_","cs_",I.default.type.text),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(e,t){if(e instanceof y.default){if(t===_.default.operation.add||t===_.default.operation.move){this.renderStyleSelect();var r=this.rb.getDataObject(this.selectedObjId);null!==r&&($("#rbro_text_element_style_id").val(r.getValue("styleId")),$("#rbro_text_element_cs_style_id").val(r.getValue("cs_styleId")))}else t===_.default.operation.remove?(this.elStyle.find("option[value='"+e.getId()+"']").remove(),this.cs_elStyle.find("option[value='"+e.getId()+"']").remove()):t===_.default.operation.rename&&(this.elStyle.find("option[value='"+e.getId()+"']").text(e.getName()),this.cs_elStyle.find("option[value='"+e.getId()+"']").text(e.getName()));$("#rbro_text_element_style_id").val()===""?$("#rbro_text_element_style_settings").show():$("#rbro_text_element_style_settings").hide(),$("#rbro_text_element_cs_style_id").val()===""?$("#rbro_text_element_cs_style_settings").show():$("#rbro_text_element_cs_style_settings").hide()}}},{key:"updateErrors",value:function(){$("#rbro_text_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_text_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_text_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_text_element_"+l.field+"_row",s="rbro_text_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"||l.field==="pattern"||l.field==="link"?($("#rbro_text_element_print_header").addClass("rbroError"),$("#rbro_text_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_text_element_print_header").trigger("click")):l.field==="cs_condition"?($("#rbro_text_element_cs_header").addClass("rbroError"),$("#rbro_text_element_cs_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_text_element_cs_header").trigger("click")):(l.field==="spreadsheet_column"||l.field==="spreadsheet_colspan")&&($("#rbro_text_element_spreadsheet_header").addClass("rbroError"),$("#rbro_text_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_text_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=S},function(e,t,r){e.exports={"default":r(110),__esModule:!0}},function(e,t,r){e.exports={"default":r(111),__esModule:!0}},function(e,t,r){e.exports={"default":r(112),__esModule:!0}},function(e,t,r){e.exports={"default":r(114),__esModule:!0}},function(e,t,r){e.exports={"default":r(115),__esModule:!0}},function(e,t,r){e.exports={"default":r(116),__esModule:!0}},function(e,t,r){r(75),r(74),e.exports=r(135)},function(e,t,r){var a=r(9),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(){return n.stringify.apply(n,arguments)}},function(e,t,r){r(137);var a=r(9).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,r){r(138);var a=r(9).Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},function(e,t,r){r(139);var a=r(9).Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)
}},function(e,t,r){r(140),e.exports=r(9).Object.getPrototypeOf},function(e,t,r){r(141),e.exports=r(9).Object.setPrototypeOf},function(e,t,r){r(143),r(142),r(144),r(145),e.exports=r(9).Symbol},function(e,t,r){r(74),r(75),e.exports=r(56).f("iterator")},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(){}},function(e,t,r){var a=r(25),n=r(133),o=r(132);e.exports=function(e){return function(t,r,i){var l,d=a(t),s=n(d.length),u=o(i,s);if(e&&r!=r){for(;s>u;)if(l=d[u++],l!=l)return!0}else for(;s>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var a=r(43),n=r(19)("toStringTag"),o=a(function(){return arguments}())=="Arguments",i=function(e,t){try{return e[t]}catch(r){}};e.exports=function(e){var t,r,l;return void 0===e?"Undefined":null===e?"Null":typeof(r=i(t=Object(e),n))=="string"?r:o?a(t):(l=a(t))=="Object"&&typeof t.callee=="function"?"Arguments":l}},function(e,t,r){var a=r(48),n=r(68),o=r(49);e.exports=function(e){var t=a(e),r=n.f;if(r)for(var i,l=r(e),d=o.f,s=0;l.length>s;)d.call(e,i=l[s++])&&t.push(i);return t}},function(e,t,r){var a=r(18).document;e.exports=a&&a.documentElement},function(e,t,r){var a=r(43);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return a(e)=="String"?e.split(""):Object(e)}},function(e,t,r){var a=r(43);e.exports=Array.isArray||function(e){return a(e)=="Array"}},function(e,t,r){"use strict";var a=r(46),n=r(37),o=r(50),i={};r(28)(i,r(19)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=a(i,{next:n(1,r)}),o(e,t+" Iterator")}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var a=r(38)("meta"),n=r(29),o=r(23),i=r(24).f,l=0,d=Object.isExtensible||function(){return!0},s=!r(30)(function(){return d(Object.preventExtensions({}))}),u=function(e){i(e,a,{value:{i:"O"+ ++l,w:{}}})},p=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!d(e))return"F";if(!t)return"E";u(e)}return e[a].i},b=function(e,t){if(!o(e,a)){if(!d(e))return!0;if(!t)return!1;u(e)}return e[a].w},c=function(e){return s&&_.NEED&&d(e)&&!o(e,a)&&u(e),e},_=e.exports={KEY:a,NEED:!1,fastKey:p,getWeak:b,onFreeze:c}},function(e,t,r){var a=r(24),n=r(26),o=r(48);e.exports=r(22)?Object.defineProperties:function(e,t){n(e);for(var r,i=o(t),l=i.length,d=0;l>d;)a.f(e,r=i[d++],t[r]);return e}},function(e,t,r){var a=r(25),n=r(67).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return n(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&o.call(e)=="[object Window]"?l(e):n(a(e))}},function(e,t,r){var a=r(29),n=r(26),o=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=r(63)(Function.call,r(47).f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){var a=r(53),n=r(44);e.exports=function(e){return function(t,r){var o,i,l=String(n(t)),d=a(r),s=l.length;return 0>d||d>=s?e?"":void 0:(o=l.charCodeAt(d),55296>o||o>56319||d+1===s||(i=l.charCodeAt(d+1))<56320||i>57343?e?l.charAt(d):o:e?l.slice(d,d+2):(o-55296<<10)+(i-56320)+65536)}}},function(e,t,r){var a=r(53),n=Math.max,o=Math.min;e.exports=function(e,t){return e=a(e),0>e?n(e+t,0):o(e,t)}},function(e,t,r){var a=r(53),n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},function(e,t,r){var a=r(120),n=r(19)("iterator"),o=r(35);e.exports=r(9).getIteratorMethod=function(e){return void 0!=e?e[n]||e["@@iterator"]||o[a(e)]:void 0}},function(e,t,r){var a=r(26),n=r(134);e.exports=r(9).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},function(e,t,r){"use strict";var a=r(118),n=r(126),o=r(35),i=r(25);e.exports=r(66)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(e,t,r){var a=r(27);a(a.S,"Object",{create:r(46)})},function(e,t,r){var a=r(27);a(a.S+a.F*!r(22),"Object",{defineProperty:r(24).f})},function(e,t,r){var a=r(25),n=r(47).f;r(71)("getOwnPropertyDescriptor",function(){return function(e,t){return n(a(e),t)}})},function(e,t,r){var a=r(73),n=r(69);r(71)("getPrototypeOf",function(){return function(e){return n(a(e))}})},function(e,t,r){var a=r(27);a(a.S,"Object",{setPrototypeOf:r(130).set})},function(){},function(e,t,r){"use strict";var a=r(18),n=r(23),o=r(22),i=r(27),l=r(72),d=r(127).KEY,s=r(30),u=r(52),p=r(50),b=r(38),c=r(19),_=r(56),h=r(55),m=r(121),f=r(124),v=r(26),g=r(29),y=r(25),w=r(54),I=r(37),$=r(46),C=r(129),x=r(47),k=r(24),D=r(48),O=x.f,P=k.f,S=C.f,j=a.Symbol,E=a.JSON,V=E&&E.stringify,T="prototype",F=c("_hidden"),A=c("toPrimitive"),B={}.propertyIsEnumerable,L=u("symbol-registry"),M=u("symbols"),R=u("op-symbols"),H=Object[T],N="function"==typeof j,z=a.QObject,W=!z||!z[T]||!z[T].findChild,Y=o&&s(function(){return $(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var a=O(H,t);a&&delete H[t],P(e,t,r),a&&e!==H&&P(H,t,a)}:P,J=function(e){var t=M[e]=$(j[T]);return t._k=e,t},X=N&&typeof j.iterator=="symbol"?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},G=function(e,t,r){return e===H&&G(R,t,r),v(e),t=w(t,!0),v(r),n(M,t)?(r.enumerable?(n(e,F)&&e[F][t]&&(e[F][t]=!1),r=$(r,{enumerable:I(0,!1)})):(n(e,F)||P(e,F,I(1,{})),e[F][t]=!0),Y(e,t,r)):P(e,t,r)},U=function(e,t){v(e);for(var r,a=m(t=y(t)),n=0,o=a.length;o>n;)G(e,r=a[n++],t[r]);return e},K=function(e,t){return void 0===t?$(e):U($(e),t)},q=function(e){var t=B.call(this,e=w(e,!0));return this===H&&n(M,e)&&!n(R,e)?!1:t||!n(this,e)||!n(M,e)||n(this,F)&&this[F][e]?t:!0},Q=function(e,t){if(e=y(e),t=w(t,!0),e!==H||!n(M,t)||n(R,t)){var r=O(e,t);return!r||!n(M,t)||n(e,F)&&e[F][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=S(y(e)),a=[],o=0;r.length>o;)n(M,t=r[o++])||t==F||t==d||a.push(t);return a},et=function(e){for(var t,r=e===H,a=S(r?R:y(e)),o=[],i=0;a.length>i;)n(M,t=a[i++])&&(r?n(H,t):!0)&&o.push(M[t]);return o};N||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=b(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(R,r),n(this,F)&&n(this[F],e)&&(this[F][e]=!1),Y(this,e,I(1,r))};return o&&W&&Y(H,e,{configurable:!0,set:t}),J(e)},l(j[T],"toString",function(){return this._k}),x.f=Q,k.f=G,r(67).f=C.f=Z,r(49).f=q,r(68).f=et,o&&!r(36)&&l(H,"propertyIsEnumerable",q,!0),_.f=function(e){return J(c(e))}),i(i.G+i.W+i.F*!N,{Symbol:j});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;tt.length>rt;)c(tt[rt++]);for(var at=D(c.store),nt=0;at.length>nt;)h(at[nt++]);i(i.S+i.F*!N,"Symbol",{"for":function(e){return n(L,e+="")?L[e]:L[e]=j(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),i(i.S+i.F*!N,"Object",{create:K,defineProperty:G,defineProperties:U,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:et}),E&&i(i.S+i.F*(!N||s(function(){var e=j();return V([e])!="[null]"||V({a:e})!="{}"||V(Object(e))!="{}"})),"JSON",{stringify:function(e){for(var t,r,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);return r=t=a[1],!g(t)&&void 0===e||X(e)?void 0:(f(t)||(t=function(e,t){return"function"==typeof r&&(t=r.call(this,e,t)),X(t)?void 0:t}),a[1]=t,V.apply(E,a))}}),j[T][A]||r(28)(j[T],A,j[T].valueOf),p(j,"Symbol"),p(Math,"Math",!0),p(a.JSON,"JSON",!0)},function(e,t,r){r(55)("asyncIterator")},function(e,t,r){r(55)("observable")},function(e,t,r){r(76),r(78),r(77),e.exports=r(79)}]);
/*
//@ sourceMappingURL=./dist/reportbro.min.js.map
*/