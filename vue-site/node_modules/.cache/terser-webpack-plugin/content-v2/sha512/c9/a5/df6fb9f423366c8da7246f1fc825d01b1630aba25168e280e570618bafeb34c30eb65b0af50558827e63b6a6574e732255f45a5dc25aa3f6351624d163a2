{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0d03cc\"],{\"66b8\":function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{inline:!0,\"label-width\":\"100px\"}},[a(\"el-form-item\",{attrs:{label:\"报告名称\",prop:\"name\"}},[a(\"el-input\",{model:{value:e.templateName,callback:function(t){e.templateName=t},expression:\"templateName\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleNew}},[e._v(\"新增\")])],1)],1),a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData}},[a(\"el-table-column\",{attrs:{label:\"报告名称\",width:\"400\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row))])]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")]),a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleRender(t.$index,t.row)}}},[e._v(\"报告生成\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1)],1)},o=[],l=a(\"53ca\"),r={data:function(){return{tableData:[],templateName:\"\"}},methods:{handleNew:function(){this.$axios.post(\"/report/reportmanage/newTemplate\",{name:this.templateName},(function(e){if(console.log(e),e)return 0==e.data.retcode}))},handleEdit:function(e,t){console.log(e,t),this.$axios.post(\"/report/reportmanage/setTemplate\",{name:t},(function(e){var t=e.data.message;if(console.log(t),console.log(Object(l[\"a\"])(t)),localStorage.setItem(\"report\",JSON.stringify(t)),e)return 0==e.data.retcode})),this.$router.push({name:\"reportedit\"})},handleDelete:function(e,t){console.log(e,t),this.$axios.post(\"report/reportmanage/delTemplate\",{name:t},(function(e){if(console.log(e),e)return 0==e.data.retcode}))},handleRender:function(e,t){console.log(e,t),this.$axios.post(\"/report/reportmanage/setTemplate\",{name:t},(function(e){var t=e.data.message;if(console.log(t),console.log(Object(l[\"a\"])(t)),localStorage.setItem(\"report\",JSON.stringify(t)),e)return 0==e.data.retcode})),this.$router.push({name:\"pdfrender\"})}},mounted:function(){var e=this;this.$client.notifyws.notifyBus.$on(\"templatesList\",(function(t){console.log(t.data.templatesList),e.tableData=t.data.templatesList})),this.$axios.get(\"report/reportmanage/templatesList\",{},(function(t){if(console.log(t),t)return 0==t.data.retcode&&(console.log(t.data.message.templatesList),e.tableData=t.data.message.templatesList,!0)}))}},s=r,i=a(\"2877\"),c=Object(i[\"a\"])(s,n,o,!1,null,null,null);t[\"default\"]=c.exports}}]);","extractedComments":[]}