{"remainingRequest":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\src\\views\\reportmanager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\src\\views\\reportmanager\\index.vue","mtime":1578465370844},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\babel-loader\\lib\\index.js","mtime":1577960100595},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\index.js","mtime":1577960037517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRDpcXHdvcmtzcGFjZVxceWZqelxcbGVtaW5nLXJlcG9ydGRlc2lnbmVyXFx2dWUtc2l0ZXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdGVtcGxhdGVOYW1lOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZU5ldzogZnVuY3Rpb24gaGFuZGxlTmV3KCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KCIvcmVwb3J0L3JlcG9ydG1hbmFnZS9uZXdUZW1wbGF0ZSIsIHsKICAgICAgICAibmFtZSI6IHRoaXMudGVtcGxhdGVOYW1lCiAgICAgIH0sIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgICB0aGlzLiRheGlvcy5wb3N0KCIvcmVwb3J0L3JlcG9ydG1hbmFnZS9zZXRUZW1wbGF0ZSIsIHsKICAgICAgICAibmFtZSI6IHJvdwogICAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHJlcG9ydCA9IHJlcy5kYXRhLm1lc3NhZ2U7CiAgICAgICAgY29uc29sZS5sb2cocmVwb3J0KTsKICAgICAgICBjb25zb2xlLmxvZyhfdHlwZW9mKHJlcG9ydCkpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyZXBvcnQiLCBKU09OLnN0cmluZ2lmeShyZXBvcnQpKTsKCiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3JlcG9ydEVkaXQnCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsKICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoInJlcG9ydC9yZXBvcnRtYW5hZ2UvZGVsVGVtcGxhdGUiLCB7CiAgICAgICAgIm5hbWUiOiByb3cKICAgICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVSZW5kZXI6IGZ1bmN0aW9uIGhhbmRsZVJlbmRlcihpbmRleCwgcm93KSB7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgICB0aGlzLiRheGlvcy5wb3N0KCIvcmVwb3J0L3JlcG9ydG1hbmFnZS9zZXRUZW1wbGF0ZSIsIHsKICAgICAgICAibmFtZSI6IHJvdwogICAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHJlcG9ydCA9IHJlcy5kYXRhLm1lc3NhZ2U7CiAgICAgICAgY29uc29sZS5sb2cocmVwb3J0KTsKICAgICAgICBjb25zb2xlLmxvZyhfdHlwZW9mKHJlcG9ydCkpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyZXBvcnQiLCBKU09OLnN0cmluZ2lmeShyZXBvcnQpKTsKCiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3BkZnJlbmRlcicKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGF0ID0gdGhpczsKCiAgICB0aGlzLiRjbGllbnQubm90aWZ5d3Mubm90aWZ5QnVzLiRvbigidGVtcGxhdGVzTGlzdCIsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEudGVtcGxhdGVzTGlzdCk7CiAgICAgIF90aGF0LnRhYmxlRGF0YSA9IHJlcy5kYXRhLnRlbXBsYXRlc0xpc3Q7CiAgICB9KSwgdGhpcy4kYXhpb3MuZ2V0KCJyZXBvcnQvcmVwb3J0bWFuYWdlL3RlbXBsYXRlc0xpc3QiLCB7fSwgZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgaWYgKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLm1lc3NhZ2UudGVtcGxhdGVzTGlzdCk7CiAgICAgICAgICBfdGhhdC50YWJsZURhdGEgPSByZXMuZGF0YS5tZXNzYWdlLnRlbXBsYXRlc0xpc3Q7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form :inline=\"true\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\t\t\t<el-form-item label=\"报告名称\" prop=\"name\">\r\n\t\t\t\t<el-input v-model=\"templateName\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleNew\">新增</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-table :data=\"tableData\" style=\"width: 100%\">\r\n\t\t\t<el-table-column label=\"报告名称\" width=\"400\">\r\n\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ props.row }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" @click=\"handleRender(scope.$index, scope.row)\">报告生成</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t</div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\ttemplateName: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleNew() {\r\n\t\t\t\tthis.$axios.post(\"/report/reportmanage/newTemplate\", {\r\n\t\t\t\t\t\"name\": this.templateName\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$axios.post(\"/report/reportmanage/setTemplate\", {\r\n\t\t\t\t\t\"name\": row\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tvar report = res.data.message\r\n\t\t\t\t\tconsole.log(report)\r\n\t\t\t\t\tconsole.log(typeof(report))\r\n\t\t\t\t\tlocalStorage.setItem(\"report\", JSON.stringify(report));\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'reportEdit'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$axios.post(\"report/reportmanage/delTemplate\", {\r\n\t\t\t\t\t\"name\": row\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleRender(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$axios.post(\"/report/reportmanage/setTemplate\", {\r\n\t\t\t\t\t\"name\": row\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tvar report = res.data.message\r\n\t\t\t\t\tconsole.log(report)\r\n\t\t\t\t\tconsole.log(typeof(report))\r\n\t\t\t\t\tlocalStorage.setItem(\"report\", JSON.stringify(report));\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'pdfrender'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar _that = this;\r\n\t\t\tthis.$client.notifyws.notifyBus.$on(\"templatesList\", function(res) {\r\n\t\t\t\t\tconsole.log(res.data.templatesList)\r\n\t\t\t\t\t_that.tableData = res.data.templatesList\r\n\t\t\t\t}),\r\n\r\n\t\t\t\tthis.$axios.get(\"report/reportmanage/templatesList\", {}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\tconsole.log(res.data.message.templatesList)\r\n\t\t\t\t\t\t\t_that.tableData = res.data.message.templatesList\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\n"],"sourceRoot":"src/views/reportmanager"}]}