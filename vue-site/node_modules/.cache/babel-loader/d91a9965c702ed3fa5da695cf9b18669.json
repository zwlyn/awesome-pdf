{"remainingRequest":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\api\\client.js","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\api\\client.js","mtime":1577073863640},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOlxcd29ya3NwYWNlXFx5Zmp6XFxsZW1pbmctd2ViYXBpc2NyYXBlclxcdnVlLXNpdGVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBub3RpZnl3cyBmcm9tICIuL25vdGlmeXdzYXBpLmpzIjsKaW1wb3J0IGRhdGVGb3JtYXQgZnJvbSAiZGF0ZWZvcm1hdCI7CnZhciBjbGllbnQgPSB7CiAgcm9vdFVybDogd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICI6ODY0OCIsCiAgdXJscHJlZml4OiBmdW5jdGlvbiB1cmxwcmVmaXgoaWQpIHsKICAgIHJldHVybiB0aGlzLnJvb3RVcmwgKyAiL2FwaS92MS9jYXNlLyIgKyBpZDsKICB9LAogIGFwaVVybHByZWZpeDogZnVuY3Rpb24gYXBpVXJscHJlZml4KCkgewogICAgcmV0dXJuIHRoaXMucm9vdFVybCArICIvYXBpL3YxIjsKICB9LAogIGZpbGVBcGlVcmxwcmVmaXg6IGZ1bmN0aW9uIGZpbGVBcGlVcmxwcmVmaXgoKSB7CiAgICByZXR1cm4gdGhpcy5yb290VXJsICsgIi9hcGkvdjEvZmlsZSI7CiAgfSwKICBldmVudEJ1czogbmV3IFZ1ZSgpLAogIG5vdGlmeXdzOiBub3RpZnl3cywKICB2YWx1ZTJDaGVja2VkTGlzdDogZnVuY3Rpb24gdmFsdWUyQ2hlY2tlZExpc3QodmFsdWUsIG9wdGlvbnMsIGxlbmd0aCkgewogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBiaXRzID0gdmFsdWUudG9TdHJpbmcoMik7CiAgICB2YXIgYml0c0NvdW50ID0gYml0cy5sZW5ndGg7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSBiaXRzQ291bnQ7IGkrKykgewogICAgICBiaXRzID0gIjAiICsgYml0czsKICAgIH0KCiAgICBiaXRzID0gYml0cy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwogICAgdmFyIHJldCA9IFtdOwoKICAgIGZvciAoaSA9IDA7IGkgPCBiaXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChiaXRzW2ldID09PSAiMSIpIHsKICAgICAgICByZXQucHVzaChvcHRpb25zW2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByZXQ7CiAgfSwKICBjaGVja2VkTGlzdDJWYWx1ZTogZnVuY3Rpb24gY2hlY2tlZExpc3QyVmFsdWUoY2hlY2tlZExpc3QsIG9wdGlvbnMsIGxlbmd0aCkgewogICAgdmFyIGJpdHMgPSAiIjsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChjaGVja2VkTGlzdC5pbmRleE9mKG9wdGlvbnNbaV0pICE9IC0xKSB7CiAgICAgICAgYml0cyArPSAiMSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYml0cyArPSAiMCI7CiAgICAgIH0KICAgIH0KCiAgICBiaXRzID0gYml0cy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwogICAgcmV0dXJuIHBhcnNlSW50KGJpdHMsIDIpOwogIH0sCiAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkodGhhdCwgZXZlbnQsIHJlcykgewogICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgIHRoYXQuJG5vdGlmeSh7CiAgICAgICAgdGl0bGU6IGV2ZW50LnNyY0VsZW1lbnQuaW5uZXJUZXh0ICsgdGhhdC50aXRsZSArICfmiJDlip8nLAogICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgIH0pOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoYXQuJG5vdGlmeSh7CiAgICAgICAgdGl0bGU6IGV2ZW50LnNyY0VsZW1lbnQuaW5uZXJUZXh0ICsgdGhhdC50aXRsZSArICflpLHotKUnLAogICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UsCiAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICBkdXJhdGlvbjogNTAwMAogICAgICB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sCiAgbm90aWZ5SW5mbzogZnVuY3Rpb24gbm90aWZ5SW5mbyh0aGF0LCB0aXRsZSwgbWVzc2FnZSwgZHVyYXRpb24sIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZykgewogICAgdGhhdC4kbm90aWZ5KHsKICAgICAgdGl0bGU6IHRpdGxlLAogICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICB0eXBlOiAnaW5mbycsCiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiwKICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmcKICAgIH0pOwogIH0sCiAgbm90aWZ5U3VjY2VzczogZnVuY3Rpb24gbm90aWZ5U3VjY2Vzcyh0aGF0LCB0aXRsZSwgbWVzc2FnZSwgZHVyYXRpb24sIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZykgewogICAgdGhhdC4kbm90aWZ5KHsKICAgICAgdGl0bGU6IHRpdGxlLAogICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiwKICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmcKICAgIH0pOwogIH0sCiAgbm90aWZ5RXJyb3I6IGZ1bmN0aW9uIG5vdGlmeUVycm9yKHRoYXQsIHRpdGxlLCBtZXNzYWdlLCBkdXJhdGlvbiwgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nKSB7CiAgICB0aGF0LiRub3RpZnkoewogICAgICB0aXRsZTogdGl0bGUsCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiwKICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmcKICAgIH0pOwogIH0sCiAgLy8gdGltZVN0YW1wOiBNU2Vjc1NpbmNlRXBvY2ggPSBVbml4IHRpbWVzdGFtcCAqIDEwMDAKICBwYXJzZVRpbWVTdGFtcDogZnVuY3Rpb24gcGFyc2VUaW1lU3RhbXAodGltZVN0YW1wKSB7CiAgICByZXR1cm4gZGF0ZUZvcm1hdCh0aGlzLnRzMkRhdGUodGltZVN0YW1wKSwgInl5eXktbW0tZGQgSEg6TU06c3MiKTsKICB9LAogIHRzMkRhdGU6IGZ1bmN0aW9uIHRzMkRhdGUoc3RyVGltZXN0YW1wKSB7CiAgICB2YXIgdGltZXN0YW1wID0gcGFyc2VJbnQoc3RyVGltZXN0YW1wKTsKCiAgICBpZiAoaXNOYU4odGltZXN0YW1wKSkgewogICAgICB0aW1lc3RhbXAgPSAwOwogICAgfQoKICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXApOwogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogIHZhciBzdHIsCiAgICAgIG5ld29iaiA9IG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBbXSA6IHt9OwoKICBpZiAoX3R5cGVvZihvYmopICE9PSAnb2JqZWN0JykgewogICAgcmV0dXJuOwogIH0gZWxzZSBpZiAod2luZG93LkpTT04pIHsKICAgIHN0ciA9IEpTT04uc3RyaW5naWZ5KG9iaiksIC8v57O75YiX5YyW5a+56LGhCiAgICBuZXdvYmogPSBKU09OLnBhcnNlKHN0cik7IC8v6L+Y5Y6fCiAgfSBlbHNlIHsKICAgIGZvciAodmFyIGkgaW4gb2JqKSB7CiAgICAgIG5ld29ialtpXSA9IF90eXBlb2Yob2JqW2ldKSA9PT0gJ29iamVjdCcgPyBkZWVwQ29weShvYmpbaV0pIDogb2JqW2ldOwogICAgfQogIH0KCiAgcmV0dXJuIG5ld29iajsKfQpleHBvcnQgZnVuY3Rpb24gc2V0Q2FjaGUoa2V5LCB2YWx1ZSkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGUoa2V5KSB7CiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7Cn0KZXhwb3J0IGRlZmF1bHQgY2xpZW50Ow=="},{"version":3,"sources":["D:/workspace/yfjz/leming-webapiscraper/vue-sites/src/api/client.js"],"names":["Vue","notifyws","dateFormat","client","rootUrl","window","location","protocol","hostname","urlprefix","id","apiUrlprefix","fileApiUrlprefix","eventBus","value2CheckedList","value","options","length","undefined","bits","toString","bitsCount","i","split","reverse","join","ret","push","checkedList2Value","checkedList","indexOf","parseInt","notify","that","event","res","data","code","$notify","title","srcElement","innerText","message","type","duration","notifyInfo","dangerouslyUseHTMLString","notifySuccess","notifyError","parseTimeStamp","timeStamp","ts2Date","strTimestamp","timestamp","isNaN","Date","deepCopy","obj","str","newobj","constructor","Array","JSON","stringify","parse","setCache","key","localStorage","setItem","getCache","getItem"],"mappings":"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","sourcesContent":["import Vue from \"vue\"\r\nimport notifyws from \"./notifywsapi.js\"\r\nimport dateFormat from \"dateformat\"\r\n\r\nvar client = {\r\n    rootUrl: window.location.protocol + \"//\" + window.location.hostname + \":8648\",\r\n    urlprefix: function(id){\r\n    return this.rootUrl + \"/api/v1/case/\" + id;\r\n    },\r\n    apiUrlprefix: function(){\r\n    return this.rootUrl + \"/api/v1\"\r\n    },\r\n    fileApiUrlprefix: function(){\r\n    return this.rootUrl + \"/api/v1/file\"\r\n    },\r\n    eventBus: new Vue(),\r\n    notifyws: notifyws,\r\n\r\n    value2CheckedList(value, options, length){\r\n        if (value === undefined){\r\n          return;\r\n        }\r\n        var bits = value.toString(2);\r\n        var bitsCount = bits.length;\r\n        for (var i = 0; i < length - bitsCount; i++) {\r\n            bits = \"0\" + bits;\r\n        }\r\n        bits = bits.split(\"\").reverse().join(\"\");\r\n        var ret = [];\r\n        for (i = 0; i < bits.length; i++) {\r\n            if (bits[i] === \"1\"){\r\n                ret.push(options[i])\r\n            }\r\n        }\r\n        return ret;\r\n    },\r\n\r\n    checkedList2Value(checkedList, options, length){\r\n        var bits = \"\";\r\n        for (var i = 0; i < length; i++) {\r\n            if (checkedList.indexOf(options[i]) != -1){\r\n                bits += \"1\";\r\n            }else{\r\n                bits += \"0\";\r\n            }\r\n        }\r\n\r\n        bits = bits.split(\"\").reverse().join(\"\");\r\n        return parseInt(bits, 2);\r\n    },\r\n\r\n    notify: function(that, event, res){\r\n        if (res === undefined){\r\n          return false;\r\n        }\r\n        if (res.data.code == 0){\r\n          that.$notify({\r\n            title: event.srcElement.innerText + that.title + '成功',\r\n            message: res.data.message,\r\n            type: 'success',\r\n            duration: 2000,\r\n          });\r\n          return true;\r\n        }else {\r\n          that.$notify({\r\n            title: event.srcElement.innerText + that.title + '失败',\r\n            message: res.data.message,\r\n            type: 'error',\r\n            duration: 5000\r\n          });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      notifyInfo: function (that, title, message, duration, dangerouslyUseHTMLString) {\r\n        that.$notify({\r\n            title: title,\r\n            message: message,\r\n            type: 'info',\r\n            duration: duration,\r\n            dangerouslyUseHTMLString: dangerouslyUseHTMLString\r\n          });\r\n      },\r\n\r\n      notifySuccess: function (that, title, message, duration, dangerouslyUseHTMLString) {\r\n        that.$notify({\r\n            title: title,\r\n            message: message,\r\n            type: 'success',\r\n            duration: duration,\r\n            dangerouslyUseHTMLString: dangerouslyUseHTMLString\r\n          });\r\n      },\r\n\r\n      notifyError: function (that, title, message, duration, dangerouslyUseHTMLString) {\r\n        that.$notify({\r\n            title: title,\r\n            message: message,\r\n            type: 'error',\r\n            duration: duration,\r\n            dangerouslyUseHTMLString: dangerouslyUseHTMLString\r\n          });\r\n      },\r\n\r\n      // timeStamp: MSecsSinceEpoch = Unix timestamp * 1000\r\n      parseTimeStamp(timeStamp) {\r\n        return dateFormat(\r\n          this.ts2Date(timeStamp),\r\n          \"yyyy-mm-dd HH:MM:ss\"\r\n        );\r\n      },\r\n      ts2Date(strTimestamp) {\r\n        var timestamp = parseInt(strTimestamp);\r\n        if (isNaN(timestamp)) {\r\n          timestamp = 0;\r\n        }\r\n        return new Date(timestamp);\r\n      }\r\n}\r\n\r\nexport function deepCopy(obj) {\r\n  var str, newobj = obj.constructor === Array ? [] : {};\r\n    if(typeof obj !== 'object'){\r\n        return;\r\n    } else if(window.JSON){\r\n        str = JSON.stringify(obj), //系列化对象\r\n        newobj = JSON.parse(str); //还原\r\n    } else {\r\n        for(var i in obj){\r\n            newobj[i] = typeof obj[i] === 'object' ?\r\n            deepCopy(obj[i]) : obj[i];\r\n        }\r\n    }\r\n    return newobj\r\n}\r\n\r\nexport function setCache(key, value) {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n}\r\n\r\nexport function getCache(key) {\r\n    return JSON.parse(localStorage.getItem(key))\r\n}\r\n\r\n\r\nexport default client;"]}]}