{"remainingRequest":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\views\\scriptmanager\\index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\views\\scriptmanager\\index.vue","mtime":1577779922513},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLkNvZGVNaXJyb3IgewoJb3ZlcmZsb3cteTogc2Nyb2xsOwoJaGVpZ2h0OiA5MDBweDsKfQoKLkNvZGVNaXJyb3ItZm9jdXNlZCAuY20tbWF0Y2hoaWdobGlnaHQgewoJYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUlBQUFBQ0NBWUFBQUJ5dGcwa0FBQUFGa2xFUVZRSTEyTmdZR0Jna0t6Yzh4OUNNREF3QUFBbWh3U2JpZEVvU1FBQUFBQkpSVTVFcmtKZ2dnPT0pOwoJYmFja2dyb3VuZC1wb3NpdGlvbjogYm90dG9tOwoJYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14Owp9CgouY20tbWF0Y2hoaWdobGlnaHQgewoJYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbgp9CgouQ29kZU1pcnJvci1zZWxlY3Rpb24taGlnaGxpZ2h0LXNjcm9sbGJhciB7CgliYWNrZ3JvdW5kLWNvbG9yOiBncmVlbgp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/scriptmanager","sourcesContent":["<template>\r\n\r\n\t<el-container>\r\n\t\t<el-main>\r\n\t\t\t<el-menu class=\"el-menu-demo\" mode=\"horizontal\">\r\n\t\t\t\t<el-menu-item index=\"2\" @click=\"refresh()\">刷新脚本</el-menu-item>\r\n\t\t\t\t<el-menu-item index=\"3\" @click=\"startTest()\">开始测试</el-menu-item>\r\n\t\t\t</el-menu>\r\n\t\t\t<div class=\"codemirror\">\r\n\t\t\t\t<codemirror v-model=\"code\" :options=\"cmOptions\"></codemirror>\r\n\t\t\t</div>\r\n\t\t</el-main>\r\n\t</el-container>\r\n\r\n</template>\r\n\r\n<script>\r\n\t// require component\r\n\timport {\r\n\t\tcodemirror\r\n\t} from 'vue-codemirror'\r\n\r\n\t// require styles//\r\n\timport 'codemirror/lib/codemirror.css'\r\n\timport 'codemirror/mode/python/python.js'\r\n\timport 'codemirror/theme/mbo.css'\r\n\timport 'codemirror/theme/monokai.css'\r\n\timport 'codemirror/addon/selection/active-line.js'\r\n\r\n\timport 'codemirror/addon/edit/closebrackets.js'\r\n\r\n\t// component\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tcodemirror\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcode: \"\",\r\n\t\t\t\turl: \"localhost:8089\",\r\n\t\t\t\tcmOptions: {\r\n\t\t\t\t\t// codemirror options\r\n\t\t\t\t\tstyleActiveLine: true,\r\n\t\t\t\t\ttabSize: 4,\r\n\t\t\t\t\tindentUnit: 4, // 智能缩进单位为4个空格长度\r\n\t\t\t\t\tindentWithTabs: true, // 使用制表符进行智能缩进\r\n\t\t\t\t\tmode: 'text/x-python',\r\n\t\t\t\t\t//keyMap: \"sublime\", // 快键键风格  会导致next错误\r\n\t\t\t\t\tsmartIndent: true, //智能缩进\r\n\t\t\t\t\tlineWrapping: true, //\r\n\t\t\t\t\ttheme: 'monokai',\r\n\t\t\t\t\tlineNumbers: true,\r\n\t\t\t\t\tline: true,\r\n\t\t\t\t\tgutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\r\n\t\t\t\t\thighlightSelectionMatches: {\r\n\t\t\t\t\t\tshowToken: /\\w/,\r\n\t\t\t\t\t\tannotateScrollbar: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldGutter: true,\r\n\t\t\t\t\tclosebrackets: true\r\n\t\t\t\t\t// more codemirror options, 更多 codemirror 的高级配置...\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonCmReady(cm) {\r\n\t\t\t\tconsole.log('the editor is readied!', cm)\r\n\t\t\t},\r\n\t\t\tonCmFocus(cm) {\r\n\t\t\t\tconsole.log('the editor is focus!', cm)\r\n\t\t\t},\r\n\t\t\tonCmCodeChange(newCode) {\r\n\t\t\t\tconsole.log('this is new code', newCode)\r\n\t\t\t\tthis.code = newCode\r\n\t\t\t},\r\n\t\t\trefresh() {\r\n\t\t\t\tconsole.log('刷新脚本');\r\n\t\t\t\tvar _that = this;\r\n\t\t\t\tthis.$axios.get(this.$client.apiUrlprefix() + \"/webapiscraper/save\", {}, function(res) {\r\n\t\t\t\t\tconsole.log(res.data.scriptData)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\t_that.code = res.data.scriptData;\r\n\t\t\t\t\t\t\t_that.$client.notifySuccess(_that, \"刷新成功\", \"\", 2000);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_that.$client.notifySuccess(_that, \"刷新失败\", \"\", 3000);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tstartTest() {\r\n\t\t\t\tvar _that = this;\r\n\t\t\t\t_that.$client.notifySuccess(_that, \"正在启动测试，请稍等...\", \"\", 3000);\r\n\t\t\t\tthis.$axios.post(this.$client.apiUrlprefix() + \"/webapiscraper/runWebRunner\", {}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.data.retcode === 0) {\r\n\t\t\t\t\t\t_that.url = res.data.data.url;\r\n\t\t\t\t\t\t_that.$client.notifySuccess(_that, res.data.message, 3000);\r\n\t\t\t\t\t\twindow.open(_that.url);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_that.$client.notifyError(_that, res.data.message, 3000);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tOnResponse() {\r\n\t\t\t\tconsole.log(\"\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar _that = this;\r\n\t\t\tthis.$client.notifyws.notifyBus.$on(\"WebApiMonitorScriptData\", function(res) {\r\n\t\t\t\t_that.code = res.data\r\n\t\t\t\t// _that.OnResponse(res.data.cases)\r\n\t\t\t});\r\n\t\t\tthis.$axios.get(this.$client.apiUrlprefix() + \"/webapiscraper/save\", {}, function(res) {\r\n\t\t\t\tconsole.log(res.data.scriptData)\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t_that.code = res.data.scriptData;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n<style>\r\n\t.CodeMirror {\r\n\t\toverflow-y: scroll;\r\n\t\theight: 900px;\r\n\t}\r\n\r\n\t.CodeMirror-focused .cm-matchhighlight {\r\n\t\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAFklEQVQI12NgYGBgkKzc8x9CMDAwAAAmhwSbidEoSQAAAABJRU5ErkJggg==);\r\n\t\tbackground-position: bottom;\r\n\t\tbackground-repeat: repeat-x;\r\n\t}\r\n\r\n\t.cm-matchhighlight {\r\n\t\tbackground-color: lightgreen\r\n\t}\r\n\r\n\t.CodeMirror-selection-highlight-scrollbar {\r\n\t\tbackground-color: green\r\n\t}\r\n</style>\r\n"]}]}