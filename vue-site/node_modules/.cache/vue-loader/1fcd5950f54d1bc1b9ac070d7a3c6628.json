{"remainingRequest":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\src\\views\\pdfrender\\index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\src\\views\\pdfrender\\index.vue","mtime":1578465407261},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\css-loader\\dist\\cjs.js","mtime":1577960050887},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1577960037541},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\postcss-loader\\src\\index.js","mtime":1577960051578},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\index.js","mtime":1577960037517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5Db2RlTWlycm9yIHsKICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgIGhlaWdodDogOTAwcHg7Cn0KCi5Db2RlTWlycm9yLWZvY3VzZWQgLmNtLW1hdGNoaGlnaGxpZ2h0IHsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFJQUFBQUNDQVlBQUFCeXRnMGtBQUFBRmtsRVFWUUkxMk5nWUdCZ2tLemM4eDlDTURBd0FBQW1od1NiaWRFb1NRQUFBQUJKUlU1RXJrSmdnZz09KTsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IGJvdHRvbTsKICAgIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsKfQoKLmNtLW1hdGNoaGlnaGxpZ2h0IHsKICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JlZW4KfQoKLkNvZGVNaXJyb3Itc2VsZWN0aW9uLWhpZ2hsaWdodC1zY3JvbGxiYXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW4KfQoKLnBkZnByZXZpZXcgewogICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA1MHB4KTsKICAgIHdpZHRoOiAxMDAlOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA0NXB4Owp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/pdfrender","sourcesContent":["<template>\r\n\r\n    <el-row>\r\n        <el-col :span=\"12\">\r\n            <el-menu class=\"el-menu-demo\" mode=\"horizontal\">\r\n                <el-menu-item index=\"1\" @click=\"pdfrender()\">生成报告</el-menu-item>\r\n            </el-menu>\r\n            <div class=\"codemirror\">\r\n                <codemirror v-model=\"data\" :options=\"cmOptions\"></codemirror>\r\n            </div>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n            <div class=\"pdfpreview\">\r\n                <object :data=url type=\"application/pdf\" width=\"50%\" height=\"100%\" internalinstanceid=\"41\"></object>\r\n            </div>\r\n        </el-col>\r\n    </el-row>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    // require component\r\n    import {\r\n        codemirror\r\n    } from 'vue-codemirror'\r\n\r\n    // require styles//\r\n    import 'codemirror/lib/codemirror.css'\r\n    import 'codemirror/mode/python/python.js'\r\n    import 'codemirror/theme/mbo.css'\r\n    import 'codemirror/theme/monokai.css'\r\n    import 'codemirror/addon/selection/active-line.js'\r\n    import 'codemirror/addon/edit/closebrackets.js'\r\n\r\n    // component\r\n    export default {\r\n        components: {\r\n            codemirror\r\n        },\r\n        data() {\r\n            return {\r\n                data: \"1233\",\r\n                url: \"\",\r\n                cmOptions: {\r\n                    // codemirror options\r\n                    styleActiveLine: true,\r\n                    tabSize: 4,\r\n                    indentUnit: 4, // 智能缩进单位为4个空格长度\r\n                    indentWithTabs: true, // 使用制表符进行智能缩进\r\n                    mode: 'text/x-python',\r\n                    //keyMap: \"sublime\", // 快键键风格  会导致next错误\r\n                    smartIndent: true, //智能缩进\r\n                    lineWrapping: true, //\r\n                    theme: 'monokai',\r\n                    lineNumbers: true,\r\n                    line: true,\r\n                    gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\r\n                    highlightSelectionMatches: {\r\n                        showToken: /\\w/,\r\n                        annotateScrollbar: true\r\n                    },\r\n                    foldGutter: true,\r\n                    closebrackets: true\r\n                    // more codemirror options, 更多 codemirror 的高级配置...\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            onCmReady(cm) {\r\n                console.log('the editor is readied!', cm)\r\n            },\r\n            onCmFocus(cm) {\r\n                console.log('the editor is focus!', cm)\r\n            },\r\n            onCmCodeChange(newCode) {\r\n                console.log('this is new code', newCode)\r\n                this.data = newCode\r\n            },\r\n            pdfrender() {\r\n                console.log('渲染脚本');\r\n                var _that = this;\r\n                this.$axios.post(\"report/reportmanage/setData\", JSON.parse(this.data), function(res) {\r\n                    console.log(res.data)\r\n                })\r\n                let report = JSON.parse(localStorage.getItem('report'))\r\n                console.log(typeof(report))\r\n                report.data = JSON.parse(this.data)\r\n                console.log(report)\r\n                this.$axios.post(\"report/reportmanage/pdfGenerate\", report, function(res) {\r\n                    console.log(res.data.message)\r\n                    _that.url = \"http://127.0.0.1:8800/report/report/run?key=\" + res.data.message;\r\n\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            var _that = this\r\n            this.$axios.get(\"report/reportmanage/getData\", {}, function(res) {\r\n                console.log(res.data.message)\r\n                if (res) {\r\n                    if (res.data.retcode == 0) {\r\n                        // 将json 转换为 string 并且 优美展示\r\n                        _that.data = JSON.stringify(res.data.message, null, 4);\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n</script>\r\n<style>\r\n    .CodeMirror {\r\n        overflow-y: scroll;\r\n        height: 900px;\r\n    }\r\n\r\n    .CodeMirror-focused .cm-matchhighlight {\r\n        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAFklEQVQI12NgYGBgkKzc8x9CMDAwAAAmhwSbidEoSQAAAABJRU5ErkJggg==);\r\n        background-position: bottom;\r\n        background-repeat: repeat-x;\r\n    }\r\n\r\n    .cm-matchhighlight {\r\n        background-color: lightgreen\r\n    }\r\n\r\n    .CodeMirror-selection-highlight-scrollbar {\r\n        background-color: green\r\n    }\r\n\r\n    .pdfpreview {\r\n        height: calc(100% - 50px);\r\n        width: 100%;\r\n        position: absolute;\r\n        top: 45px;\r\n    }\r\n</style>\n"]}]}