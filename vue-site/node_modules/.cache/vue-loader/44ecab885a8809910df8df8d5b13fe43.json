{"remainingRequest":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\views\\scriptmanager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\views\\scriptmanager\\index.vue","mtime":1577330623872},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIHJlcXVpcmUgY29tcG9uZW50CmltcG9ydCB7Cgljb2RlbWlycm9yCn0gZnJvbSAndnVlLWNvZGVtaXJyb3InCgovLyByZXF1aXJlIHN0eWxlcy8vCmltcG9ydCAnY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5jc3MnCmltcG9ydCAnY29kZW1pcnJvci9tb2RlL3B5dGhvbi9weXRob24uanMnCmltcG9ydCAnY29kZW1pcnJvci90aGVtZS9tYm8uY3NzJwppbXBvcnQgJ2NvZGVtaXJyb3IvdGhlbWUvbW9ub2thaS5jc3MnCmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWxlY3Rpb24vYWN0aXZlLWxpbmUuanMnCgppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZWRpdC9jbG9zZWJyYWNrZXRzLmpzJwoKLy8gY29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IHsKCWNvbXBvbmVudHM6IHsKCQljb2RlbWlycm9yCgl9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQljb2RlOiAiIiwKCQkJdXJsOiAibG9jYWxob3N0OjgwODkiLAoJCQljbU9wdGlvbnM6IHsKCQkJCS8vIGNvZGVtaXJyb3Igb3B0aW9ucwoJCQkJc3R5bGVBY3RpdmVMaW5lOiB0cnVlLAoJCQkJdGFiU2l6ZTogNCwKCQkJCWluZGVudFVuaXQ6IDQsIC8vIOaZuuiDvee8qei/m+WNleS9jeS4ujTkuKrnqbrmoLzplb/luqYKCQkJCWluZGVudFdpdGhUYWJzOiB0cnVlLCAvLyDkvb/nlKjliLbooajnrKbov5vooYzmmbrog73nvKnov5sKCQkJCW1vZGU6ICd0ZXh0L3gtcHl0aG9uJywKCQkJCS8va2V5TWFwOiAic3VibGltZSIsIC8vIOW/q+mUrumUrumjjuagvCAg5Lya5a+86Ie0bmV4dOmUmeivrwoJCQkJc21hcnRJbmRlbnQ6IHRydWUsIC8v5pm66IO957yp6L+bCgkJCQlsaW5lV3JhcHBpbmc6IHRydWUsIC8vCgkJCQl0aGVtZTogJ21vbm9rYWknLAoJCQkJbGluZU51bWJlcnM6IHRydWUsCgkJCQlsaW5lOiB0cnVlLAoJCQkJZ3V0dGVyczogWyJDb2RlTWlycm9yLWxpbmVudW1iZXJzIiwgIkNvZGVNaXJyb3ItZm9sZGd1dHRlciJdLAoJCQkJaGlnaGxpZ2h0U2VsZWN0aW9uTWF0Y2hlczogewoJCQkJCXNob3dUb2tlbjogL1x3LywKCQkJCQlhbm5vdGF0ZVNjcm9sbGJhcjogdHJ1ZQoJCQkJfSwKCQkJCWZvbGRHdXR0ZXI6IHRydWUsCgkJCQljbG9zZWJyYWNrZXRzOiB0cnVlCgkJCQkvLyBtb3JlIGNvZGVtaXJyb3Igb3B0aW9ucywg5pu05aSaIGNvZGVtaXJyb3Ig55qE6auY57qn6YWN572uLi4uCgkJCX0KCQl9Cgl9LAoJbWV0aG9kczogewoJCW9uQ21SZWFkeShjbSkgewoJCQljb25zb2xlLmxvZygndGhlIGVkaXRvciBpcyByZWFkaWVkIScsIGNtKQoJCX0sCgkJb25DbUZvY3VzKGNtKSB7CgkJCWNvbnNvbGUubG9nKCd0aGUgZWRpdG9yIGlzIGZvY3VzIScsIGNtKQoJCX0sCgkJb25DbUNvZGVDaGFuZ2UobmV3Q29kZSkgewoJCQljb25zb2xlLmxvZygndGhpcyBpcyBuZXcgY29kZScsIG5ld0NvZGUpCgkJCXRoaXMuY29kZSA9IG5ld0NvZGUKCQl9LAoJCXJlZnJlc2goKSB7CgkJCWNvbnNvbGUubG9nKCdyZWZyZXNoJyk7CgkJfSwKCQlzdGFydFRlc3QoKSB7CgkJCXZhciBfdGhhdCA9IHRoaXM7CgkJCXRoaXMuJGF4aW9zLnBvc3QodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi93ZWJhcGlzY3JhcGVyL3J1bldlYlJ1bm5lciIsIHt9LCBmdW5jdGlvbihyZXMpIHsKCQkJCWNvbnNvbGUubG9nKHJlcykKCQkJCWlmIChyZXMuZGF0YS5yZXRjb2RlID09PSAwKSB7CgkJCQkJX3RoYXQudXJsID0gcmVzLmRhdGEuZGF0YS51cmwKCQkJCQlfdGhhdC4kY2xpZW50Lm5vdGlmeVN1Y2Nlc3MoX3RoYXQsIHJlcy5kYXRhLm1lc3NhZ2UsIDMwMDApOwoJCQkJCXdpbmRvdy5vcGVuKCJodHRwOi8vbG9jYWxob3N0OjgwODkiKTsKCQkJCX0gZWxzZSB7CgkJCQkJX3RoYXQuJGNsaWVudC5ub3RpZnlFcnJvcihfdGhhdCwgcmVzLmRhdGEubWVzc2FnZSwgMzAwMCk7CgkJCQl9CgkJCX0pCgkJfSwKCQlPblJlc3BvbnNlKCkgewoJCQljb25zb2xlLmxvZygiIik7CgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJdmFyIF90aGF0ID0gdGhpczsKCQl0aGlzLiRjbGllbnQubm90aWZ5d3Mubm90aWZ5QnVzLiRvbigiV2ViQXBpTW9uaXRvclNjcmlwdERhdGEiLCBmdW5jdGlvbihyZXMpIHsKCQkJX3RoYXQuY29kZSA9IHJlcy5kYXRhCgkJCS8vIF90aGF0Lk9uUmVzcG9uc2UocmVzLmRhdGEuY2FzZXMpCgkJfSk7CgkJdGhpcy4kYXhpb3MuZ2V0KHRoaXMuJGNsaWVudC5hcGlVcmxwcmVmaXgoKSArICIvd2ViYXBpc2NyYXBlci9zYXZlIiwge30sIGZ1bmN0aW9uKHJlcykgewoJCQljb25zb2xlLmxvZyhyZXMuZGF0YS5zY3JpcHREYXRhKQoJCQlpZiAocmVzKSB7CgkJCQlpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAwKSB7CgkJCQkJX3RoYXQuY29kZSA9IHJlcy5kYXRhLnNjcmlwdERhdGE7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9IGVsc2UgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfQoJCX0pCgl9Cgp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/scriptmanager","sourcesContent":["<template>\r\n\r\n\t<el-container>\r\n\t\t<el-main>\r\n\t\t\t<el-menu class=\"el-menu-demo\" mode=\"horizontal\">\r\n\t\t\t\t<el-menu-item index=\"1\" @click=\"refresh()\">刷新脚本</el-menu-item>\r\n\t\t\t\t<el-menu-item index=\"3\" @click=\"startTest()\">开始测试</el-menu-item>\r\n\t\t\t</el-menu>\r\n\t\t\t<div class=\"codemirror\">\r\n\r\n\t\t\t\t<codemirror v-model=\"code\" :options=\"cmOptions\"></codemirror>\r\n\t\t\t</div>\r\n\t\t</el-main>\r\n\t</el-container>\r\n\r\n</template>\r\n\r\n<script>\r\n\t// require component\r\n\timport {\r\n\t\tcodemirror\r\n\t} from 'vue-codemirror'\r\n\r\n\t// require styles//\r\n\timport 'codemirror/lib/codemirror.css'\r\n\timport 'codemirror/mode/python/python.js'\r\n\timport 'codemirror/theme/mbo.css'\r\n\timport 'codemirror/theme/monokai.css'\r\n\timport 'codemirror/addon/selection/active-line.js'\r\n\r\n\timport 'codemirror/addon/edit/closebrackets.js'\r\n\r\n\t// component\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tcodemirror\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcode: \"\",\r\n\t\t\t\turl: \"localhost:8089\",\r\n\t\t\t\tcmOptions: {\r\n\t\t\t\t\t// codemirror options\r\n\t\t\t\t\tstyleActiveLine: true,\r\n\t\t\t\t\ttabSize: 4,\r\n\t\t\t\t\tindentUnit: 4, // 智能缩进单位为4个空格长度\r\n\t\t\t\t\tindentWithTabs: true, // 使用制表符进行智能缩进\r\n\t\t\t\t\tmode: 'text/x-python',\r\n\t\t\t\t\t//keyMap: \"sublime\", // 快键键风格  会导致next错误\r\n\t\t\t\t\tsmartIndent: true, //智能缩进\r\n\t\t\t\t\tlineWrapping: true, //\r\n\t\t\t\t\ttheme: 'monokai',\r\n\t\t\t\t\tlineNumbers: true,\r\n\t\t\t\t\tline: true,\r\n\t\t\t\t\tgutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\r\n\t\t\t\t\thighlightSelectionMatches: {\r\n\t\t\t\t\t\tshowToken: /\\w/,\r\n\t\t\t\t\t\tannotateScrollbar: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfoldGutter: true,\r\n\t\t\t\t\tclosebrackets: true\r\n\t\t\t\t\t// more codemirror options, 更多 codemirror 的高级配置...\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonCmReady(cm) {\r\n\t\t\t\tconsole.log('the editor is readied!', cm)\r\n\t\t\t},\r\n\t\t\tonCmFocus(cm) {\r\n\t\t\t\tconsole.log('the editor is focus!', cm)\r\n\t\t\t},\r\n\t\t\tonCmCodeChange(newCode) {\r\n\t\t\t\tconsole.log('this is new code', newCode)\r\n\t\t\t\tthis.code = newCode\r\n\t\t\t},\r\n\t\t\trefresh() {\r\n\t\t\t\tconsole.log('refresh');\r\n\t\t\t},\r\n\t\t\tstartTest() {\r\n\t\t\t\tvar _that = this;\r\n\t\t\t\tthis.$axios.post(this.$client.apiUrlprefix() + \"/webapiscraper/runWebRunner\", {}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.data.retcode === 0) {\r\n\t\t\t\t\t\t_that.url = res.data.data.url\r\n\t\t\t\t\t\t_that.$client.notifySuccess(_that, res.data.message, 3000);\r\n\t\t\t\t\t\twindow.open(\"http://localhost:8089\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_that.$client.notifyError(_that, res.data.message, 3000);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tOnResponse() {\r\n\t\t\t\tconsole.log(\"\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar _that = this;\r\n\t\t\tthis.$client.notifyws.notifyBus.$on(\"WebApiMonitorScriptData\", function(res) {\r\n\t\t\t\t_that.code = res.data\r\n\t\t\t\t// _that.OnResponse(res.data.cases)\r\n\t\t\t});\r\n\t\t\tthis.$axios.get(this.$client.apiUrlprefix() + \"/webapiscraper/save\", {}, function(res) {\r\n\t\t\t\tconsole.log(res.data.scriptData)\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t_that.code = res.data.scriptData;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n<style>\r\n\t.CodeMirror {\r\n\t\toverflow-y: scroll;\r\n\t\theight: 900px;\r\n\t}\r\n\r\n\t.CodeMirror-focused .cm-matchhighlight {\r\n\t\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAFklEQVQI12NgYGBgkKzc8x9CMDAwAAAmhwSbidEoSQAAAABJRU5ErkJggg==);\r\n\t\tbackground-position: bottom;\r\n\t\tbackground-repeat: repeat-x;\r\n\t}\r\n\r\n\t.cm-matchhighlight {\r\n\t\tbackground-color: lightgreen\r\n\t}\r\n\r\n\t.CodeMirror-selection-highlight-scrollbar {\r\n\t\tbackground-color: green\r\n\t}\r\n</style>\n"]}]}