{"remainingRequest":"D:\\workspace\\zw\\awesome-pdf\\vue-site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\zw\\awesome-pdf\\vue-site\\src\\views\\pdfrender\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\zw\\awesome-pdf\\vue-site\\src\\views\\pdfrender\\index.vue","mtime":1579172789016},{"path":"D:\\workspace\\zw\\awesome-pdf\\vue-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\zw\\awesome-pdf\\vue-site\\node_modules\\babel-loader\\lib\\index.js","mtime":1577960100595},{"path":"D:\\workspace\\zw\\awesome-pdf\\vue-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\zw\\awesome-pdf\\vue-site\\node_modules\\vue-loader\\lib\\index.js","mtime":1577960037517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIHJlcXVpcmUgY29tcG9uZW50CmltcG9ydCB7CiAgICBjb2RlbWlycm9yCn0gZnJvbSAndnVlLWNvZGVtaXJyb3InCgovLyByZXF1aXJlIHN0eWxlcy8vCmltcG9ydCAnY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5jc3MnCmltcG9ydCAnY29kZW1pcnJvci9tb2RlL3B5dGhvbi9weXRob24uanMnCmltcG9ydCAnY29kZW1pcnJvci90aGVtZS9tYm8uY3NzJwppbXBvcnQgJ2NvZGVtaXJyb3IvdGhlbWUvbW9ub2thaS5jc3MnCmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWxlY3Rpb24vYWN0aXZlLWxpbmUuanMnCmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9lZGl0L2Nsb3NlYnJhY2tldHMuanMnCgovLyBjb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIGNvZGVtaXJyb3IKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZvcm1hdEFyZ3M6ewogICAgICAgICAgICAgICAgZGJ0eXBlOiJvcmFjbGUiLAogICAgICAgICAgICAgICAgY3VzdG9tZXI6IjUwMDAiLAogICAgICAgICAgICAgICAgZGF0YUxvYWQ6IjE4MDAiLAogICAgICAgICAgICAgICAgbmVlZERidHlwZTpmYWxzZSwKICAgICAgICAgICAgICAgIG5lZWRDdXN0b21lcjpmYWxzZSwKICAgICAgICAgICAgICAgIG5lZWREYXRhTG9hZDpmYWxzZSwKICAgICAgICAgICAgICAgIGRidHlwZUxpc3Q6WydvcmFjbGUnLCAnZG0nLCAnbXlzcWwnLCAna2luZ2Jhc2UnLCAnc3Fsc2VydmVyJ10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZm9ybWF0QXJnc1Zpc2libGU6ZmFsc2UsCiAgICAgICAgICAgIGZvcm1hdEJ1dHRvblZhbHVlOiLmoLzlvI/ljJbmlbDmja4iLAogICAgICAgICAgICBpc0Zvcm1hdGU6ZmFsc2UsCiAgICAgICAgICAgIG1vZGVsOiB7fSwKICAgICAgICAgICAgZGF0YU5hbWU6ICIiLAogICAgICAgICAgICBkYXRhOiAiIiwKICAgICAgICAgICAgdXJsOiAiIiwKICAgICAgICAgICAgZm9ybTpbXSwKICAgICAgICAgICAgY3JlYXRlUGRmOiB0cnVlLAogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGNtT3B0aW9uczogewogICAgICAgICAgICAgICAgLy8gY29kZW1pcnJvciBvcHRpb25zCiAgICAgICAgICAgICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsCiAgICAgICAgICAgICAgICB0YWJTaXplOiA0LAogICAgICAgICAgICAgICAgaW5kZW50VW5pdDogNCwgLy8g5pm66IO957yp6L+b5Y2V5L2N5Li6NOS4quepuuagvOmVv+W6pgogICAgICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IHRydWUsIC8vIOS9v+eUqOWItuihqOespui/m+ihjOaZuuiDvee8qei/mwogICAgICAgICAgICAgICAgbW9kZTogJ3RleHQveC1weXRob24nLAogICAgICAgICAgICAgICAgLy9rZXlNYXA6ICJzdWJsaW1lIiwgLy8g5b+r6ZSu6ZSu6aOO5qC8ICDkvJrlr7zoh7RuZXh06ZSZ6K+vCiAgICAgICAgICAgICAgICBzbWFydEluZGVudDogdHJ1ZSwgLy/mmbrog73nvKnov5sKICAgICAgICAgICAgICAgIGxpbmVXcmFwcGluZzogdHJ1ZSwgLy8KICAgICAgICAgICAgICAgIHRoZW1lOiAnbW9ub2thaScsCiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSwKICAgICAgICAgICAgICAgIGxpbmU6IHRydWUsCiAgICAgICAgICAgICAgICBndXR0ZXJzOiBbIkNvZGVNaXJyb3ItbGluZW51bWJlcnMiLCAiQ29kZU1pcnJvci1mb2xkZ3V0dGVyIl0sCiAgICAgICAgICAgICAgICBoaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzOiB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1Rva2VuOiAvXHcvLAogICAgICAgICAgICAgICAgICAgIGFubm90YXRlU2Nyb2xsYmFyOiB0cnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZm9sZEd1dHRlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNsb3NlYnJhY2tldHM6IHRydWUKICAgICAgICAgICAgICAgIC8vIG1vcmUgY29kZW1pcnJvciBvcHRpb25zLCDmm7TlpJogY29kZW1pcnJvciDnmoTpq5jnuqfphY3nva4uLi4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZm9ybWF0V2l0aEFyZ3MoKXsKICAgICAgICAgICAgdmFyIF90aGF0ID0gdGhpcwogICAgICAgICAgICBpZih0aGlzLmlzRm9ybWF0ZSA9PT0gZmFsc2UpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5tb2RlbCkKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YUpzb24gPSBKU09OLnBhcnNlKHRoaXMuZGF0YSkKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YUpzb24uZGJ0eXBlID0gdGhpcy5mb3JtYXRBcmdzLmRidHlwZQogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhSnNvbi5jdXN0b21lciA9IHRoaXMuZm9ybWF0QXJncy5jdXN0b21lcgogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhSnNvbi5kYXRhTG9hZCA9IHRoaXMuZm9ybWF0QXJncy5kYXRhTG9hZAogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRjbGllbnQuYXBpVXJscHJlZml4KCkgKyAiL3JlcG9ydG1hbmFnZS9mb3JtYXREYXRhIiwgdGhpcy5tb2RlbCwgZnVuY3Rpb24oCiAgICAgICAgICAgICAgICAgICAgcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgX3RoYXQuZGF0YSA9IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLm1lc3NhZ2UsIG51bGwsIDQpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRBcmdzVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmlzRm9ybWF0ZSA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0QnV0dG9uVmFsdWUgPSAi5Y+W5raI5qC85byP5YyWIgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmb3JtYXREYXRhKCl7CiAgICAgICAgICAgIGlmKHRoaXMuaXNGb3JtYXRlID09PSBmYWxzZSl7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC50ZW1wbGF0ZU5hbWUuc2VhcmNoKCd0cGNlJykgPT09IDApewogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0QXJnc1Zpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRBcmdzLm5lZWRDdXN0b21lciA9IHRydWUKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1hdEFyZ3MubmVlZERidHlwZSA9IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5tb2RlbC50ZW1wbGF0ZU5hbWUuc2VhcmNoKCd0cGNkcycpID09PSAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1hdEFyZ3NWaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0QXJncy5uZWVkQ3VzdG9tZXIgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRBcmdzLm5lZWREYnR5cGUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRBcmdzLm5lZWREYXRhTG9hZCA9IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGF0ID0gdGhpcwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5tb2RlbCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhSnNvbiA9IEpTT04ucGFyc2UodGhpcy5kYXRhKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGNsaWVudC5hcGlVcmxwcmVmaXgoKSArICIvcmVwb3J0bWFuYWdlL2Zvcm1hdERhdGEiLCB0aGlzLm1vZGVsLCBmdW5jdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhhdC5kYXRhID0gSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEubWVzc2FnZSwgbnVsbCwgNCkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRCdXR0b25WYWx1ZSA9ICLlj5bmtojmoLzlvI/ljJYiCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNGb3JtYXRlID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgdGhpcy5pc0Zvcm1hdGUgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRCdXR0b25WYWx1ZSA9ICLmoLzlvI/ljJbmlbDmja4iCiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLm1vZGVsLmRhdGFKc29uLCBudWxsLCA0KQogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgb25DbVJlYWR5KGNtKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGUgZWRpdG9yIGlzIHJlYWRpZWQhJywgY20pCiAgICAgICAgfSwKICAgICAgICBvbkNtRm9jdXMoY20pIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoZSBlZGl0b3IgaXMgZm9jdXMhJywgY20pCiAgICAgICAgfSwKICAgICAgICBvbkNtQ29kZUNoYW5nZShuZXdDb2RlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIG5ldyBjb2RlJywgbmV3Q29kZSkKICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3Q29kZQogICAgICAgIH0sCiAgICAgICAgcGRmcmVuZGVyKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygn5riy5p+T6ISa5pysJyk7CiAgICAgICAgICAgIHZhciBfdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi9yZXBvcnRtYW5hZ2Uvc2V0RGF0YSIsIEpTT04ucGFyc2UodGhpcy5kYXRhKSwgZnVuY3Rpb24oCiAgICAgICAgICAgICAgICByZXMpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi9yZXBvcnRtYW5hZ2UvcGRmR2VuZXJhdGUiLCB7fSwgZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICAgICAgX3RoYXQudXJsID0gX3RoYXQuJGNsaWVudC5hcGlVcmxwcmVmaXgoKSArICIvcmVwb3J0L3J1bj9rZXk9IiArIHJlcy5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2F2ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZGF0YU1vZGVsLmRhdGFQYXRoID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAvLyDliJvlu7rmlrDnmoRkYXRh55qEIGpzb27mlofku7YKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YU1vZGVsLmRhdGFQYXRoID0gdGhpcy5tb2RlbC5kYXRhTW9kZWwuZGlyUGF0aCArIHRoaXMuZGF0YU5hbWUgKyAnLmpzb24nCiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmNyZWF0ZVBkZiA9IHRoaXMuY3JlYXRlUGRmIAoKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YU1vZGVsLmRhdGFOYW1lID0gdGhpcy5kYXRhTmFtZQogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhSnNvbiA9IEpTT04ucGFyc2UodGhpcy5kYXRhKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAvLyDkv53lrZjopobnm5blt7LmnInnmoRkYXRhIGpzb27mlofku7YKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuY3JlYXRlUGRmID0gdGhpcy5jcmVhdGVQZGYKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YU1vZGVsLmRhdGFQYXRoID0gdGhpcy5tb2RlbC5kYXRhTW9kZWwuZGF0YVBhdGgucmVwbGFjZSh0aGlzLm1vZGVsLmRhdGFNb2RlbC5kYXRhTmFtZSwgdGhpcy5kYXRhTmFtZSkKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YU1vZGVsLmRhdGFOYW1lID0gdGhpcy5kYXRhTmFtZQogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhSnNvbiA9IEpTT04ucGFyc2UodGhpcy5kYXRhKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi9yZXBvcnRtYW5hZ2Uvc2F2ZURhdGEiLCB0aGlzLm1vZGVsLCBmdW5jdGlvbigKICAgICAgICAgICAgICAgIHJlcykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHZhciBfdGhhdCA9IHRoaXMKICAgICAgICB0aGlzLiRheGlvcy5nZXQodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi9yZXBvcnRtYW5hZ2UvZ2V0RGF0YSIsIHt9LCBmdW5jdGlvbihyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIC8vIOWwhmpzb24g6L2s5o2i5Li6IHN0cmluZyDlubbkuJQg5LyY576O5bGV56S6CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICBfdGhhdC5tb2RlbCA9IHJlcy5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICBfdGhhdC5kYXRhID0gSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEubWVzc2FnZS5kYXRhSnNvbiwgbnVsbCwgNCk7CiAgICAgICAgICAgICAgICAgICAgX3RoYXQuZGF0YU5hbWUgPSByZXMuZGF0YS5tZXNzYWdlLmRhdGFNb2RlbC5kYXRhTmFtZQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KQoKICAgIH0KCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"index.vue","sourceRoot":"src/views/pdfrender","sourcesContent":["<template>\r\n\r\n    <el-row>\r\n        <el-col :span=\"12\">\r\n            <el-button @click=\"pdfrender()\" type=\"success\" style=\"margin: 10px;\">生成报告</el-button>\r\n            <el-button @click=\"formatData()\" type=\"primary\" style=\"margin: 10px;\">{{formatButtonValue}}</el-button>\r\n            <el-button @click=\"dialogFormVisible = true\" type=\"primary\" style=\"margin: 10px;\">保存</el-button>\r\n            <el-dialog title=\"保存数据\" :visible.sync=\"dialogFormVisible\">\r\n              <el-form>\r\n                <el-form-item label=\"数据名称\">\r\n                  <el-input v-model=\"dataName\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"同时保存pdf\">\r\n                    <el-switch\r\n                      v-model=\"createPdf\"\r\n                      active-color=\"#13ce66\"\r\n                      inactive-color=\"#ff4949\">\r\n                    </el-switch>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"save()\">确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n           <el-dialog title=\"请输入以下参数\" :visible.sync=\"formatArgsVisible\">\r\n              <el-form>\r\n                <el-form-item label=\"数据库类型\" v-if=\"formatArgs.needDbtype\">\r\n                      <el-select placeholder=\"请选择\" v-model=\"formatArgs.dbtype\">\r\n                        <el-option\r\n                          v-for=\"item in formatArgs.dbtypeList\"\r\n                          :key=\"item\"\r\n                          :label=\"item\"\r\n                          :value=\"item\">\r\n                        </el-option>\r\n                      </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户数量\" v-if=\"formatArgs.needCustomer\">\r\n                  <el-input v-model=\"formatArgs.customer\" auto-complete=\"off\" ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"导入数据时间\" v-if=\"formatArgs.needDataLoad\">\r\n                  <el-input v-model=\"formatArgs.dataLoad\" auto-complete=\"off\" ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"同时保存pdf\">\r\n                    <el-switch\r\n                      v-model=\"createPdf\"\r\n                      active-color=\"#13ce66\"\r\n                      inactive-color=\"#ff4949\">\r\n                    </el-switch>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"formatArgsVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"formatWithArgs()\">确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n            <div class=\"codemirror\">\r\n                <codemirror v-model=\"data\" :options=\"cmOptions\"></codemirror>\r\n            </div>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n            <div class=\"pdfpreview\">\r\n                <object :data=url type=\"application/pdf\" width=\"50%\" height=\"100%\" internalinstanceid=\"41\"></object>\r\n            </div>\r\n            \r\n        </el-col>\r\n    </el-row>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    // require component\r\n    import {\r\n        codemirror\r\n    } from 'vue-codemirror'\r\n\r\n    // require styles//\r\n    import 'codemirror/lib/codemirror.css'\r\n    import 'codemirror/mode/python/python.js'\r\n    import 'codemirror/theme/mbo.css'\r\n    import 'codemirror/theme/monokai.css'\r\n    import 'codemirror/addon/selection/active-line.js'\r\n    import 'codemirror/addon/edit/closebrackets.js'\r\n\r\n    // component\r\n    export default {\r\n        components: {\r\n            codemirror\r\n        },\r\n        data() {\r\n            return {\r\n                formatArgs:{\r\n                    dbtype:\"oracle\",\r\n                    customer:\"5000\",\r\n                    dataLoad:\"1800\",\r\n                    needDbtype:false,\r\n                    needCustomer:false,\r\n                    needDataLoad:false,\r\n                    dbtypeList:['oracle', 'dm', 'mysql', 'kingbase', 'sqlserver']\r\n                },\r\n                formatArgsVisible:false,\r\n                formatButtonValue:\"格式化数据\",\r\n                isFormate:false,\r\n                model: {},\r\n                dataName: \"\",\r\n                data: \"\",\r\n                url: \"\",\r\n                form:[],\r\n                createPdf: true,\r\n                dialogFormVisible: false,\r\n                cmOptions: {\r\n                    // codemirror options\r\n                    styleActiveLine: true,\r\n                    tabSize: 4,\r\n                    indentUnit: 4, // 智能缩进单位为4个空格长度\r\n                    indentWithTabs: true, // 使用制表符进行智能缩进\r\n                    mode: 'text/x-python',\r\n                    //keyMap: \"sublime\", // 快键键风格  会导致next错误\r\n                    smartIndent: true, //智能缩进\r\n                    lineWrapping: true, //\r\n                    theme: 'monokai',\r\n                    lineNumbers: true,\r\n                    line: true,\r\n                    gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\r\n                    highlightSelectionMatches: {\r\n                        showToken: /\\w/,\r\n                        annotateScrollbar: true\r\n                    },\r\n                    foldGutter: true,\r\n                    closebrackets: true\r\n                    // more codemirror options, 更多 codemirror 的高级配置...\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            formatWithArgs(){\r\n                var _that = this\r\n                if(this.isFormate === false){\r\n                    console.log(this.model)\r\n                    this.model.dataJson = JSON.parse(this.data)\r\n                    this.model.dataJson.dbtype = this.formatArgs.dbtype\r\n                    this.model.dataJson.customer = this.formatArgs.customer\r\n                    this.model.dataJson.dataLoad = this.formatArgs.dataLoad\r\n                    this.$axios.post(this.$client.apiUrlprefix() + \"/reportmanage/formatData\", this.model, function(\r\n                        res) {\r\n                        console.log(res.data)\r\n                        _that.data = JSON.stringify(res.data.message, null, 4)\r\n                    })\r\n                    this.formatArgsVisible = false\r\n                    this.isFormate = true\r\n                    this.formatButtonValue = \"取消格式化\"\r\n                }\r\n            },\r\n            formatData(){\r\n                if(this.isFormate === false){\r\n                    if (this.model.templateName.search('tpce') === 0){\r\n                        this.formatArgsVisible = true\r\n                        this.formatArgs.needCustomer = true\r\n                        this.formatArgs.needDbtype = true\r\n                    }\r\n                    else if(this.model.templateName.search('tpcds') === 0){\r\n                        this.formatArgsVisible = true\r\n                        this.formatArgs.needCustomer = true\r\n                        this.formatArgs.needDbtype = true\r\n                        this.formatArgs.needDataLoad = true\r\n                    }\r\n                    else{\r\n                        var _that = this\r\n\r\n                            console.log(this.model)\r\n                            this.model.dataJson = JSON.parse(this.data)\r\n                            this.$axios.post(this.$client.apiUrlprefix() + \"/reportmanage/formatData\", this.model, function(\r\n                                res) {\r\n                                console.log(res.data)\r\n                                _that.data = JSON.stringify(res.data.message, null, 4)\r\n                            })\r\n                            this.formatButtonValue = \"取消格式化\"\r\n                            this.isFormate = true\r\n                        }\r\n                }\r\n                else{\r\n                    this.isFormate = false\r\n                    this.formatButtonValue = \"格式化数据\"\r\n                    this.data = JSON.stringify(this.model.dataJson, null, 4)\r\n                }\r\n\r\n            },\r\n            onCmReady(cm) {\r\n                console.log('the editor is readied!', cm)\r\n            },\r\n            onCmFocus(cm) {\r\n                console.log('the editor is focus!', cm)\r\n            },\r\n            onCmCodeChange(newCode) {\r\n                console.log('this is new code', newCode)\r\n                this.data = newCode\r\n            },\r\n            pdfrender() {\r\n                console.log('渲染脚本');\r\n                var _that = this;\r\n                this.$axios.post(this.$client.apiUrlprefix() + \"/reportmanage/setData\", JSON.parse(this.data), function(\r\n                    res) {\r\n                    console.log(res.data)\r\n                })\r\n                this.$axios.get(this.$client.apiUrlprefix() + \"/reportmanage/pdfGenerate\", {}, function(res) {\r\n                    console.log(res.data.message)\r\n                    _that.url = _that.$client.apiUrlprefix() + \"/report/run?key=\" + res.data.message;\r\n\r\n                })\r\n            },\r\n            save() {\r\n                if (this.model.dataModel.dataPath == undefined){\r\n                    // 创建新的data的 json文件\r\n                    this.model.dataModel.dataPath = this.model.dataModel.dirPath + this.dataName + '.json'\r\n                    this.model.createPdf = this.createPdf \r\n\r\n                    this.model.dataModel.dataName = this.dataName\r\n                    this.model.dataJson = JSON.parse(this.data)\r\n                }\r\n                else{\r\n                    // 保存覆盖已有的data json文件\r\n                    this.model.createPdf = this.createPdf\r\n                    this.model.dataModel.dataPath = this.model.dataModel.dataPath.replace(this.model.dataModel.dataName, this.dataName)\r\n                    this.model.dataModel.dataName = this.dataName\r\n                    this.model.dataJson = JSON.parse(this.data)\r\n                }\r\n                this.$axios.post(this.$client.apiUrlprefix() + \"/reportmanage/saveData\", this.model, function(\r\n                    res) {\r\n                    console.log(res.data)\r\n                })\r\n                this.dialogFormVisible = false\r\n            }\r\n        },\r\n        mounted() {\r\n            var _that = this\r\n            this.$axios.get(this.$client.apiUrlprefix() + \"/reportmanage/getData\", {}, function(res) {\r\n                console.log(res.data.message)\r\n                if (res) {\r\n                    if (res.data.retcode == 0) {\r\n                        // 将json 转换为 string 并且 优美展示\r\n                        console.log(res.data.message)\r\n                        _that.model = res.data.message\r\n                        _that.data = JSON.stringify(res.data.message.dataJson, null, 4);\r\n                        _that.dataName = res.data.message.dataModel.dataName\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n<style>\r\n    .CodeMirror {\r\n        overflow-y: scroll;\r\n        height: 900px;\r\n    }\r\n\r\n    .CodeMirror-focused .cm-matchhighlight {\r\n        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAFklEQVQI12NgYGBgkKzc8x9CMDAwAAAmhwSbidEoSQAAAABJRU5ErkJggg==);\r\n        background-position: bottom;\r\n        background-repeat: repeat-x;\r\n    }\r\n\r\n    .cm-matchhighlight {\r\n        background-color: lightgreen\r\n    }\r\n\r\n    .CodeMirror-selection-highlight-scrollbar {\r\n        background-color: green\r\n    }\r\n\r\n    .pdfpreview {\r\n        height: calc(100% - 50px);\r\n        width: 100%;\r\n        position: absolute;\r\n        top: 45px;\r\n    }\r\n</style>\n"]}]}