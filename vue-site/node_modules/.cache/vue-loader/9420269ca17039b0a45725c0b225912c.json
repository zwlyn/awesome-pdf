{"remainingRequest":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\views\\testmanager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\src\\views\\testmanager\\index.vue","mtime":1577331093280},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\yfjz\\leming-webapiscraper\\vue-sites\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgYnRucmVjb3JkOiAiIg0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIE9uUmVzcG9uc2UgKGNhc2VzKSB7DQogICAgICB2YXIgdGFibGVEYXRhID0gW10NCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FzZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdmFyIGl0ZW0gPSBjYXNlc1tpXQ0KICAgICAgICBpdGVtLnJlY29yZCA9ICLph43mlrDlvZXliLYiDQogICAgICAgIHRhYmxlRGF0YS5wdXNoKGl0ZW0pDQogICAgICB9DQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHRhYmxlRGF0YQ0KICAgIH0sDQogICAgLy8gaGFuZGxlRWRpdCAoaW5kZXgsIHJvdykgew0KICAgIC8vICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7DQogICAgLy8gfSwNCiAgICBoYW5kbGVEZWxldGUgKGluZGV4LCByb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOw0KICAgICAgdmFyIF90aGF0ID0gdGhpczsNCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi93ZWJhcGlzY3JhcGVyL21vbml0b3IvZGVsZXRlQ2FzZSIsIHsgImNhc2VJRCI6IHJvdy5uYW1lIH0sIGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICBpZiAocmVzLmRhdGEucmV0Y29kZSA9PT0gMCkgew0KICAgICAgICAgIF90aGF0LiRjbGllbnQubm90aWZ5U3VjY2VzcyhfdGhhdCwgcmVzLmRhdGEubWVzc2FnZSwgMzAwMCk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgX3RoYXQuJGNsaWVudC5ub3RpZnlFcnJvcihfdGhhdCwgcmVzLmRhdGEubWVzc2FnZSwgMzAwMCk7DQogICAgICAgIH0NCg0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZUNoZWNrIChpbmRleCwgcm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cubmFtZSkNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgIm5hbWUiOiAiQXBpbWFuYWdlciIsIHBhcmFtczogeyBjYXNlbmFtZTogcm93Lm5hbWUgfSB9KQ0KICAgIH0sDQogICAgaGFuZGxlUmVjb3JkIChpbmRleCwgcm93KSB7DQogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgIC8vIGlmICh0aGlzLnRhYmxlRGF0YVtpbmRleF0ucmVjb3JkID09ICLph43mlrDlvZXliLYiKSB7DQogICAgICAvLyAgIHRoaXMudGFibGVEYXRhW2luZGV4XS5yZWNvcmQgPSAi5YGc5q2i5b2V5Yi2Ig0KICAgICAgLy8gfQ0KICAgICAgLy8gZWxzZSBpZiAodGhpcy50YWJsZURhdGFbaW5kZXhdLnJlY29yZCA9PSAi5YGc5q2i5b2V5Yi2Iikgew0KICAgICAgLy8gICB0aGlzLnRhYmxlRGF0YVtpbmRleF0ucmVjb3JkID0gIumHjeaWsOW9leWItiINCiAgICAgIC8vIH0NCiAgICAgIC8vIGVsc2UgcmV0dXJuDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7ICJuYW1lIjogIkNhc2VyZWNvcmQiLCBwYXJhbXM6IHsgbmFtZTogcm93Lm5hbWUsIGRlc2NyaXB0aW9uOiByb3cuZGVzY3JpcHRpb24gfSB9KQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCAoKSB7DQogICAgdmFyIF90aGF0ID0gdGhpczsNCiAgICB0aGlzLiRjbGllbnQubm90aWZ5d3Mubm90aWZ5QnVzLiRvbigiV2ViQXBpU2NhcGVyRGF0YSIsIGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgIF90aGF0Lk9uUmVzcG9uc2UocmVzLmRhdGEuY2FzZXMpDQogICAgfSksDQogICAgICB0aGlzLiRheGlvcy5nZXQodGhpcy4kY2xpZW50LmFwaVVybHByZWZpeCgpICsgIi93ZWJhcGlzY3JhcGVyL2Nhc2VMaXN0Iiwge30sIGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpDQogICAgICAgICAgICBfdGhhdC5PblJlc3BvbnNlKHJlcy5kYXRhLmNhc2VMaXN0KQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/testmanager","sourcesContent":["<template>\r\n  <el-table :data=\"tableData\"\r\n            style=\"width: 100%\">\r\n    <el-table-column label=\"用例名称\"\r\n                     width=\"180\">\r\n      <template slot-scope=\"props\">\r\n        <span style=\"margin-left: 10px\">{{ props.row.name }}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"描述\"\r\n                     width=\"300\">\r\n      <template slot-scope=\"props\">\r\n        <span style=\"margin-left: 10px\">{{ props.row.description }}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\"\r\n                     visEdit=\"true\">\r\n      <template slot-scope=\"props\">\r\n        <!-- <el-button size=\"mini\"\r\n                   @click=\"handleEdit(props.$index, props.row)\">编辑</el-button> -->\r\n        <el-button size=\"mini\"\r\n                   @click=\"handleCheck(props.$index, props.row)\">查看</el-button>\r\n        <el-button size=\"mini\"\r\n                   @click=\"handleRecord(props.$index, props.row)\">{{ props.row.record }}</el-button>\r\n        <el-button size=\"mini\"\r\n                   type=\"danger\"\r\n                   @click=\"handleDelete(props.$index, props.row)\">删除</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      tableData: [],\r\n      btnrecord: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    OnResponse (cases) {\r\n      var tableData = []\r\n      for (var i = 0; i < cases.length; i++) {\r\n        var item = cases[i]\r\n        item.record = \"重新录制\"\r\n        tableData.push(item)\r\n      }\r\n      this.tableData = tableData\r\n    },\r\n    // handleEdit (index, row) {\r\n    //   console.log(index, row);\r\n    // },\r\n    handleDelete (index, row) {\r\n      console.log(index, row);\r\n      var _that = this;\r\n      this.$axios.post(this.$client.apiUrlprefix() + \"/webapiscraper/monitor/deleteCase\", { \"caseID\": row.name }, function (res) {\r\n        console.log(res)\r\n        if (res.data.retcode === 0) {\r\n          _that.$client.notifySuccess(_that, res.data.message, 3000);\r\n        }\r\n        else {\r\n          _that.$client.notifyError(_that, res.data.message, 3000);\r\n        }\r\n\r\n      })\r\n    },\r\n    handleCheck (index, row) {\r\n      console.log(row.name)\r\n      this.$router.push({ \"name\": \"Apimanager\", params: { casename: row.name } })\r\n    },\r\n    handleRecord (index, row) {\r\n      console.log(index, row);\r\n      // if (this.tableData[index].record == \"重新录制\") {\r\n      //   this.tableData[index].record = \"停止录制\"\r\n      // }\r\n      // else if (this.tableData[index].record == \"停止录制\") {\r\n      //   this.tableData[index].record = \"重新录制\"\r\n      // }\r\n      // else return\r\n      this.$router.push({ \"name\": \"Caserecord\", params: { name: row.name, description: row.description } })\r\n    }\r\n  },\r\n  mounted () {\r\n    var _that = this;\r\n    this.$client.notifyws.notifyBus.$on(\"WebApiScaperData\", function (res) {\r\n      _that.OnResponse(res.data.cases)\r\n    }),\r\n      this.$axios.get(this.$client.apiUrlprefix() + \"/webapiscraper/caseList\", {}, function (res) {\r\n        console.log(res)\r\n        if (res) {\r\n          if (res.data.retcode == 0) {\r\n            console.log(res.data)\r\n            _that.OnResponse(res.data.caseList)\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n      })\r\n  }\r\n}\r\n</script>"]}]}