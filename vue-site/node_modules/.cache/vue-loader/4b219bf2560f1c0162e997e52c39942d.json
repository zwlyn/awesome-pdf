{"remainingRequest":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\src\\views\\reportmanager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\src\\views\\reportmanager\\index.vue","mtime":1578465370844},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\babel-loader\\lib\\index.js","mtime":1577960100595},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577960050320},{"path":"D:\\workspace\\yfjz\\leming-reportdesigner\\vue-sites\\node_modules\\vue-loader\\lib\\index.js","mtime":1577960037517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJdGFibGVEYXRhOiBbXSwKCQkJdGVtcGxhdGVOYW1lOiAiIgoJCX0KCX0sCgltZXRob2RzOiB7CgkJaGFuZGxlTmV3KCkgewoJCQl0aGlzLiRheGlvcy5wb3N0KCIvcmVwb3J0L3JlcG9ydG1hbmFnZS9uZXdUZW1wbGF0ZSIsIHsKCQkJCSJuYW1lIjogdGhpcy50ZW1wbGF0ZU5hbWUKCQkJfSwgZnVuY3Rpb24ocmVzKSB7CgkJCQljb25zb2xlLmxvZyhyZXMpCgkJCQlpZiAocmVzKSB7CgkJCQkJaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgewoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9KQoJCX0sCgkJaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CgkJCWNvbnNvbGUubG9nKGluZGV4LCByb3cpOwoJCQl0aGlzLiRheGlvcy5wb3N0KCIvcmVwb3J0L3JlcG9ydG1hbmFnZS9zZXRUZW1wbGF0ZSIsIHsKCQkJCSJuYW1lIjogcm93CgkJCX0sIGZ1bmN0aW9uKHJlcykgewoJCQkJdmFyIHJlcG9ydCA9IHJlcy5kYXRhLm1lc3NhZ2UKCQkJCWNvbnNvbGUubG9nKHJlcG9ydCkKCQkJCWNvbnNvbGUubG9nKHR5cGVvZihyZXBvcnQpKQoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInJlcG9ydCIsIEpTT04uc3RyaW5naWZ5KHJlcG9ydCkpOwoJCQkJaWYgKHJlcykgewoJCQkJCWlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfSkKCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJbmFtZTogJ3JlcG9ydEVkaXQnCgkJCX0pCgkJfSwKCQloYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewoJCQljb25zb2xlLmxvZyhpbmRleCwgcm93KTsKCQkJdGhpcy4kYXhpb3MucG9zdCgicmVwb3J0L3JlcG9ydG1hbmFnZS9kZWxUZW1wbGF0ZSIsIHsKCQkJCSJuYW1lIjogcm93CgkJCX0sIGZ1bmN0aW9uKHJlcykgewoJCQkJY29uc29sZS5sb2cocmVzKQoJCQkJaWYgKHJlcykgewoJCQkJCWlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfSkKCQl9LAoJCWhhbmRsZVJlbmRlcihpbmRleCwgcm93KSB7CgkJCWNvbnNvbGUubG9nKGluZGV4LCByb3cpOwoJCQl0aGlzLiRheGlvcy5wb3N0KCIvcmVwb3J0L3JlcG9ydG1hbmFnZS9zZXRUZW1wbGF0ZSIsIHsKCQkJCSJuYW1lIjogcm93CgkJCX0sIGZ1bmN0aW9uKHJlcykgewoJCQkJdmFyIHJlcG9ydCA9IHJlcy5kYXRhLm1lc3NhZ2UKCQkJCWNvbnNvbGUubG9nKHJlcG9ydCkKCQkJCWNvbnNvbGUubG9nKHR5cGVvZihyZXBvcnQpKQoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInJlcG9ydCIsIEpTT04uc3RyaW5naWZ5KHJlcG9ydCkpOwoJCQkJaWYgKHJlcykgewoJCQkJCWlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfSkKCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJbmFtZTogJ3BkZnJlbmRlcicKCQkJfSkKCQl9Cgl9LAoJbW91bnRlZCgpIHsKCQl2YXIgX3RoYXQgPSB0aGlzOwoJCXRoaXMuJGNsaWVudC5ub3RpZnl3cy5ub3RpZnlCdXMuJG9uKCJ0ZW1wbGF0ZXNMaXN0IiwgZnVuY3Rpb24ocmVzKSB7CgkJCQljb25zb2xlLmxvZyhyZXMuZGF0YS50ZW1wbGF0ZXNMaXN0KQoJCQkJX3RoYXQudGFibGVEYXRhID0gcmVzLmRhdGEudGVtcGxhdGVzTGlzdAoJCQl9KSwKCgkJCXRoaXMuJGF4aW9zLmdldCgicmVwb3J0L3JlcG9ydG1hbmFnZS90ZW1wbGF0ZXNMaXN0Iiwge30sIGZ1bmN0aW9uKHJlcykgewoJCQkJY29uc29sZS5sb2cocmVzKQoJCQkJaWYgKHJlcykgewoJCQkJCWlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsKCQkJCQkJY29uc29sZS5sb2cocmVzLmRhdGEubWVzc2FnZS50ZW1wbGF0ZXNMaXN0KQoJCQkJCQlfdGhhdC50YWJsZURhdGEgPSByZXMuZGF0YS5tZXNzYWdlLnRlbXBsYXRlc0xpc3QKCgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9CgkJCQl9CgkJCX0pCgl9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/reportmanager","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form :inline=\"true\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\t\t\t<el-form-item label=\"报告名称\" prop=\"name\">\r\n\t\t\t\t<el-input v-model=\"templateName\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleNew\">新增</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-table :data=\"tableData\" style=\"width: 100%\">\r\n\t\t\t<el-table-column label=\"报告名称\" width=\"400\">\r\n\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ props.row }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" @click=\"handleRender(scope.$index, scope.row)\">报告生成</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t</div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\ttemplateName: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleNew() {\r\n\t\t\t\tthis.$axios.post(\"/report/reportmanage/newTemplate\", {\r\n\t\t\t\t\t\"name\": this.templateName\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$axios.post(\"/report/reportmanage/setTemplate\", {\r\n\t\t\t\t\t\"name\": row\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tvar report = res.data.message\r\n\t\t\t\t\tconsole.log(report)\r\n\t\t\t\t\tconsole.log(typeof(report))\r\n\t\t\t\t\tlocalStorage.setItem(\"report\", JSON.stringify(report));\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'reportEdit'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$axios.post(\"report/reportmanage/delTemplate\", {\r\n\t\t\t\t\t\"name\": row\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleRender(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$axios.post(\"/report/reportmanage/setTemplate\", {\r\n\t\t\t\t\t\"name\": row\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tvar report = res.data.message\r\n\t\t\t\t\tconsole.log(report)\r\n\t\t\t\t\tconsole.log(typeof(report))\r\n\t\t\t\t\tlocalStorage.setItem(\"report\", JSON.stringify(report));\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'pdfrender'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar _that = this;\r\n\t\t\tthis.$client.notifyws.notifyBus.$on(\"templatesList\", function(res) {\r\n\t\t\t\t\tconsole.log(res.data.templatesList)\r\n\t\t\t\t\t_that.tableData = res.data.templatesList\r\n\t\t\t\t}),\r\n\r\n\t\t\t\tthis.$axios.get(\"report/reportmanage/templatesList\", {}, function(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.data.retcode == 0) {\r\n\t\t\t\t\t\t\tconsole.log(res.data.message.templatesList)\r\n\t\t\t\t\t\t\t_that.tableData = res.data.message.templatesList\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\n"]}]}